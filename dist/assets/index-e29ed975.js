var x6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ore=x6((are,dd)=>{function P6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O6(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uf={},D6={get exports(){return Uf},set exports(e){Uf=e}},Om={},J={},L6={get exports(){return J},set exports(e){J=e}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=Symbol.for("react.element"),M6=Symbol.for("react.portal"),F6=Symbol.for("react.fragment"),U6=Symbol.for("react.strict_mode"),j6=Symbol.for("react.profiler"),V6=Symbol.for("react.provider"),B6=Symbol.for("react.context"),$6=Symbol.for("react.forward_ref"),q6=Symbol.for("react.suspense"),z6=Symbol.for("react.memo"),W6=Symbol.for("react.lazy"),nA=Symbol.iterator;function H6(e){return e===null||typeof e!="object"?null:(e=nA&&e[nA]||e["@@iterator"],typeof e=="function"?e:null)}var y2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w2=Object.assign,_2={};function Ul(e,t,n){this.props=e,this.context=t,this.refs=_2,this.updater=n||y2}Ul.prototype.isReactComponent={};Ul.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ul.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function b2(){}b2.prototype=Ul.prototype;function K1(e,t,n){this.props=e,this.context=t,this.refs=_2,this.updater=n||y2}var G1=K1.prototype=new b2;G1.constructor=K1;w2(G1,Ul.prototype);G1.isPureReactComponent=!0;var rA=Array.isArray,E2=Object.prototype.hasOwnProperty,Q1={current:null},T2={key:!0,ref:!0,__self:!0,__source:!0};function I2(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)E2.call(t,r)&&!T2.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Rh,type:e,key:s,ref:a,props:i,_owner:Q1.current}}function K6(e,t){return{$$typeof:Rh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Y1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rh}function G6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var iA=/\/+/g;function Nw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G6(""+e.key):t.toString(36)}function Gp(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Rh:case M6:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Nw(a,0):r,rA(i)?(n="",e!=null&&(n=e.replace(iA,"$&/")+"/"),Gp(i,t,n,"",function(h){return h})):i!=null&&(Y1(i)&&(i=K6(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(iA,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",rA(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+Nw(s,l);a+=Gp(s,t,n,c,i)}else if(c=H6(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+Nw(s,l++),a+=Gp(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function vp(e,t,n){if(e==null)return e;var r=[],i=0;return Gp(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Q6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ln={current:null},Qp={transition:null},Y6={ReactCurrentDispatcher:Ln,ReactCurrentBatchConfig:Qp,ReactCurrentOwner:Q1};Ae.Children={map:vp,forEach:function(e,t,n){vp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return vp(e,function(){t++}),t},toArray:function(e){return vp(e,function(t){return t})||[]},only:function(e){if(!Y1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=Ul;Ae.Fragment=F6;Ae.Profiler=j6;Ae.PureComponent=K1;Ae.StrictMode=U6;Ae.Suspense=q6;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y6;Ae.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=w2({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Q1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E2.call(t,c)&&!T2.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Rh,type:e.type,key:i,ref:s,props:r,_owner:a}};Ae.createContext=function(e){return e={$$typeof:B6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V6,_context:e},e.Consumer=e};Ae.createElement=I2;Ae.createFactory=function(e){var t=I2.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:$6,render:e}};Ae.isValidElement=Y1;Ae.lazy=function(e){return{$$typeof:W6,_payload:{_status:-1,_result:e},_init:Q6}};Ae.memo=function(e,t){return{$$typeof:z6,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=Qp.transition;Qp.transition={};try{e()}finally{Qp.transition=t}};Ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ae.useCallback=function(e,t){return Ln.current.useCallback(e,t)};Ae.useContext=function(e){return Ln.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return Ln.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return Ln.current.useEffect(e,t)};Ae.useId=function(){return Ln.current.useId()};Ae.useImperativeHandle=function(e,t,n){return Ln.current.useImperativeHandle(e,t,n)};Ae.useInsertionEffect=function(e,t){return Ln.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return Ln.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return Ln.current.useMemo(e,t)};Ae.useReducer=function(e,t,n){return Ln.current.useReducer(e,t,n)};Ae.useRef=function(e){return Ln.current.useRef(e)};Ae.useState=function(e){return Ln.current.useState(e)};Ae.useSyncExternalStore=function(e,t,n){return Ln.current.useSyncExternalStore(e,t,n)};Ae.useTransition=function(){return Ln.current.useTransition()};Ae.version="18.2.0";(function(e){e.exports=Ae})(L6);const eo=O6(J),V_=P6({__proto__:null,default:eo},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X6=J,J6=Symbol.for("react.element"),Z6=Symbol.for("react.fragment"),e$=Object.prototype.hasOwnProperty,t$=X6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n$={key:!0,ref:!0,__self:!0,__source:!0};function S2(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)e$.call(t,r)&&!n$.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:J6,type:e,key:s,ref:a,props:i,_owner:t$.current}}Om.Fragment=Z6;Om.jsx=S2;Om.jsxs=S2;(function(e){e.exports=Om})(D6);const k2=Uf.Fragment,U=Uf.jsx,Se=Uf.jsxs;var B_={},$_={},r$={get exports(){return $_},set exports(e){$_=e}},wr={},q_={},i$={get exports(){return q_},set exports(e){q_=e}},C2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,X){var Q=$.length;$.push(X);e:for(;0<Q;){var ie=Q-1>>>1,he=$[ie];if(0<i(he,X))$[ie]=X,$[Q]=he,Q=ie;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var X=$[0],Q=$.pop();if(Q!==X){$[0]=Q;e:for(var ie=0,he=$.length,Kt=he>>>1;ie<Kt;){var Re=2*(ie+1)-1,Gt=$[Re],Ze=Re+1,Oe=$[Ze];if(0>i(Gt,Q))Ze<he&&0>i(Oe,Gt)?($[ie]=Oe,$[Ze]=Q,ie=Ze):($[ie]=Gt,$[Re]=Q,ie=Re);else if(Ze<he&&0>i(Oe,Q))$[ie]=Oe,$[Ze]=Q,ie=Ze;else break e}}return X}function i($,X){var Q=$.sortIndex-X.sortIndex;return Q!==0?Q:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],p=1,v=null,g=3,y=!1,_=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k($){for(var X=n(h);X!==null;){if(X.callback===null)r(h);else if(X.startTime<=$)r(h),X.sortIndex=X.expirationTime,t(c,X);else break;X=n(h)}}function P($){if(T=!1,k($),!_)if(n(c)!==null)_=!0,ge(D);else{var X=n(h);X!==null&&Te(P,X.startTime-$)}}function D($,X){_=!1,T&&(T=!1,E(F),F=-1),y=!0;var Q=g;try{for(k(X),v=n(c);v!==null&&(!(v.expirationTime>X)||$&&!_t());){var ie=v.callback;if(typeof ie=="function"){v.callback=null,g=v.priorityLevel;var he=ie(v.expirationTime<=X);X=e.unstable_now(),typeof he=="function"?v.callback=he:v===n(c)&&r(c),k(X)}else r(c);v=n(c)}if(v!==null)var Kt=!0;else{var Re=n(h);Re!==null&&Te(P,Re.startTime-X),Kt=!1}return Kt}finally{v=null,g=Q,y=!1}}var x=!1,V=null,F=-1,ue=5,N=-1;function _t(){return!(e.unstable_now()-N<ue)}function _n(){if(V!==null){var $=e.unstable_now();N=$;var X=!0;try{X=V(!0,$)}finally{X?ci():(x=!1,V=null)}}else x=!1}var ci;if(typeof I=="function")ci=function(){I(_n)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,L=j.port2;j.port1.onmessage=_n,ci=function(){L.postMessage(null)}}else ci=function(){S(_n,0)};function ge($){V=$,x||(x=!0,ci())}function Te($,X){F=S(function(){$(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){_||y||(_=!0,ge(D))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function($){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var Q=g;g=X;try{return $()}finally{g=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=g;g=$;try{return X()}finally{g=Q}},e.unstable_scheduleCallback=function($,X,Q){var ie=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ie+Q:ie):Q=ie,$){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Q+he,$={id:p++,callback:X,priorityLevel:$,startTime:Q,expirationTime:he,sortIndex:-1},Q>ie?($.sortIndex=Q,t(h,$),n(c)===null&&$===n(h)&&(T?(E(F),F=-1):T=!0,Te(P,Q-ie))):($.sortIndex=he,t(c,$),_||y||(_=!0,ge(D))),$},e.unstable_shouldYield=_t,e.unstable_wrapCallback=function($){var X=g;return function(){var Q=g;g=X;try{return $.apply(this,arguments)}finally{g=Q}}}})(C2);(function(e){e.exports=C2})(i$);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2=J,pr=q_;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A2=new Set,jf={};function Va(e,t){al(e,t),al(e+"Capture",t)}function al(e,t){for(jf[e]=t,e=0;e<t.length;e++)A2.add(t[e])}var oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),z_=Object.prototype.hasOwnProperty,o$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oA={},sA={};function s$(e){return z_.call(sA,e)?!0:z_.call(oA,e)?!1:o$.test(e)?sA[e]=!0:(oA[e]=!0,!1)}function a$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function u$(e,t,n,r){if(t===null||typeof t>"u"||a$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mn(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){on[e]=new Mn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];on[t]=new Mn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){on[e]=new Mn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){on[e]=new Mn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){on[e]=new Mn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){on[e]=new Mn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){on[e]=new Mn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){on[e]=new Mn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){on[e]=new Mn(e,5,!1,e.toLowerCase(),null,!1,!1)});var X1=/[\-:]([a-z])/g;function J1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(X1,J1);on[t]=new Mn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(X1,J1);on[t]=new Mn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(X1,J1);on[t]=new Mn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){on[e]=new Mn(e,1,!1,e.toLowerCase(),null,!1,!1)});on.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){on[e]=new Mn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Z1(e,t,n,r){var i=on.hasOwnProperty(t)?on[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(u$(t,n,i,r)&&(n=null),r||i===null?s$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var po=N2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mp=Symbol.for("react.element"),Mu=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),eE=Symbol.for("react.strict_mode"),W_=Symbol.for("react.profiler"),R2=Symbol.for("react.provider"),x2=Symbol.for("react.context"),tE=Symbol.for("react.forward_ref"),H_=Symbol.for("react.suspense"),K_=Symbol.for("react.suspense_list"),nE=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),P2=Symbol.for("react.offscreen"),aA=Symbol.iterator;function Gc(e){return e===null||typeof e!="object"?null:(e=aA&&e[aA]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,Aw;function ff(e){if(Aw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Aw=t&&t[1]||""}return`
`+Aw+e}var Rw=!1;function xw(e,t){if(!e||Rw)return"";Rw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Rw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ff(e):""}function l$(e){switch(e.tag){case 5:return ff(e.type);case 16:return ff("Lazy");case 13:return ff("Suspense");case 19:return ff("SuspenseList");case 0:case 2:case 15:return e=xw(e.type,!1),e;case 11:return e=xw(e.type.render,!1),e;case 1:return e=xw(e.type,!0),e;default:return""}}function G_(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fu:return"Fragment";case Mu:return"Portal";case W_:return"Profiler";case eE:return"StrictMode";case H_:return"Suspense";case K_:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x2:return(e.displayName||"Context")+".Consumer";case R2:return(e._context.displayName||"Context")+".Provider";case tE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nE:return t=e.displayName||null,t!==null?t:G_(e.type)||"Memo";case Do:t=e._payload,e=e._init;try{return G_(e(t))}catch{}}return null}function c$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G_(t);case 8:return t===eE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function O2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f$(e){var t=O2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gp(e){e._valueTracker||(e._valueTracker=f$(e))}function D2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=O2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Q_(e,t){var n=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function L2(e,t){t=t.checked,t!=null&&Z1(e,"checked",t,!1)}function Y_(e,t){L2(e,t);var n=fs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?X_(e,t.type,n):t.hasOwnProperty("defaultValue")&&X_(e,t.type,fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function X_(e,t,n){(t!=="number"||vv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hf=Array.isArray;function Yu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function J_(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(hf(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fs(n)}}function M2(e,t){var n=fs(t.value),r=fs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function F2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z_(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?F2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yp,U2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yp=yp||document.createElement("div"),yp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},h$=["Webkit","ms","Moz","O"];Object.keys(gf).forEach(function(e){h$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gf[t]=gf[e]})});function j2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gf.hasOwnProperty(e)&&gf[e]?(""+t).trim():t+"px"}function V2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=j2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var d$=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eb(e,t){if(t){if(d$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function tb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nb=null;function rE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rb=null,Xu=null,Ju=null;function hA(e){if(e=Oh(e)){if(typeof rb!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Um(t),rb(e.stateNode,e.type,t))}}function B2(e){Xu?Ju?Ju.push(e):Ju=[e]:Xu=e}function $2(){if(Xu){var e=Xu,t=Ju;if(Ju=Xu=null,hA(e),t)for(e=0;e<t.length;e++)hA(t[e])}}function q2(e,t){return e(t)}function z2(){}var Pw=!1;function W2(e,t,n){if(Pw)return e(t,n);Pw=!0;try{return q2(e,t,n)}finally{Pw=!1,(Xu!==null||Ju!==null)&&(z2(),$2())}}function Bf(e,t){var n=e.stateNode;if(n===null)return null;var r=Um(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var ib=!1;if(oo)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){ib=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{ib=!1}function p$(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(p){this.onError(p)}}var yf=!1,mv=null,gv=!1,ob=null,v$={onError:function(e){yf=!0,mv=e}};function m$(e,t,n,r,i,s,a,l,c){yf=!1,mv=null,p$.apply(v$,arguments)}function g$(e,t,n,r,i,s,a,l,c){if(m$.apply(this,arguments),yf){if(yf){var h=mv;yf=!1,mv=null}else throw Error(W(198));gv||(gv=!0,ob=h)}}function Ba(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function H2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dA(e){if(Ba(e)!==e)throw Error(W(188))}function y$(e){var t=e.alternate;if(!t){if(t=Ba(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return dA(i),e;if(s===r)return dA(i),t;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function K2(e){return e=y$(e),e!==null?G2(e):null}function G2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G2(e);if(t!==null)return t;e=e.sibling}return null}var Q2=pr.unstable_scheduleCallback,pA=pr.unstable_cancelCallback,w$=pr.unstable_shouldYield,_$=pr.unstable_requestPaint,yt=pr.unstable_now,b$=pr.unstable_getCurrentPriorityLevel,iE=pr.unstable_ImmediatePriority,Y2=pr.unstable_UserBlockingPriority,yv=pr.unstable_NormalPriority,E$=pr.unstable_LowPriority,X2=pr.unstable_IdlePriority,Dm=null,Ii=null;function T$(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Dm,e,void 0,(e.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:k$,I$=Math.log,S$=Math.LN2;function k$(e){return e>>>=0,e===0?32:31-(I$(e)/S$|0)|0}var wp=64,_p=4194304;function df(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=df(l):(s&=a,s!==0&&(r=df(s)))}else a=n&~i,a!==0?r=df(a):s!==0&&(r=df(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ii(t),i=1<<n,r|=e[n],t&=~i;return r}function C$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ii(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=C$(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function sb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function J2(){var e=wp;return wp<<=1,!(wp&4194240)&&(wp=64),e}function Ow(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ii(t),e[t]=n}function A$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ii(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function oE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ii(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $e=0;function Z2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eO,sE,tO,nO,rO,ab=!1,bp=[],Qo=null,Yo=null,Xo=null,$f=new Map,qf=new Map,Fo=[],R$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vA(e,t){switch(e){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Xo=null;break;case"pointerover":case"pointerout":$f.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qf.delete(t.pointerId)}}function Yc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Oh(t),t!==null&&sE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function x$(e,t,n,r,i){switch(t){case"focusin":return Qo=Yc(Qo,e,t,n,r,i),!0;case"dragenter":return Yo=Yc(Yo,e,t,n,r,i),!0;case"mouseover":return Xo=Yc(Xo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $f.set(s,Yc($f.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qf.set(s,Yc(qf.get(s)||null,e,t,n,r,i)),!0}return!1}function iO(e){var t=oa(e.target);if(t!==null){var n=Ba(t);if(n!==null){if(t=n.tag,t===13){if(t=H2(n),t!==null){e.blockedOn=t,rO(e.priority,function(){tO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ub(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nb=r,n.target.dispatchEvent(r),nb=null}else return t=Oh(n),t!==null&&sE(t),e.blockedOn=n,!1;t.shift()}return!0}function mA(e,t,n){Yp(e)&&n.delete(t)}function P$(){ab=!1,Qo!==null&&Yp(Qo)&&(Qo=null),Yo!==null&&Yp(Yo)&&(Yo=null),Xo!==null&&Yp(Xo)&&(Xo=null),$f.forEach(mA),qf.forEach(mA)}function Xc(e,t){e.blockedOn===t&&(e.blockedOn=null,ab||(ab=!0,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,P$)))}function zf(e){function t(i){return Xc(i,e)}if(0<bp.length){Xc(bp[0],e);for(var n=1;n<bp.length;n++){var r=bp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qo!==null&&Xc(Qo,e),Yo!==null&&Xc(Yo,e),Xo!==null&&Xc(Xo,e),$f.forEach(t),qf.forEach(t),n=0;n<Fo.length;n++)r=Fo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fo.length&&(n=Fo[0],n.blockedOn===null);)iO(n),n.blockedOn===null&&Fo.shift()}var Zu=po.ReactCurrentBatchConfig,_v=!0;function O$(e,t,n,r){var i=$e,s=Zu.transition;Zu.transition=null;try{$e=1,aE(e,t,n,r)}finally{$e=i,Zu.transition=s}}function D$(e,t,n,r){var i=$e,s=Zu.transition;Zu.transition=null;try{$e=4,aE(e,t,n,r)}finally{$e=i,Zu.transition=s}}function aE(e,t,n,r){if(_v){var i=ub(e,t,n,r);if(i===null)qw(e,t,r,bv,n),vA(e,r);else if(x$(i,e,t,n,r))r.stopPropagation();else if(vA(e,r),t&4&&-1<R$.indexOf(e)){for(;i!==null;){var s=Oh(i);if(s!==null&&eO(s),s=ub(e,t,n,r),s===null&&qw(e,t,r,bv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qw(e,t,r,null,n)}}var bv=null;function ub(e,t,n,r){if(bv=null,e=rE(r),e=oa(e),e!==null)if(t=Ba(e),t===null)e=null;else if(n=t.tag,n===13){if(e=H2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bv=e,null}function oO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b$()){case iE:return 1;case Y2:return 4;case yv:case E$:return 16;case X2:return 536870912;default:return 16}default:return 16}}var zo=null,uE=null,Xp=null;function sO(){if(Xp)return Xp;var e,t=uE,n=t.length,r,i="value"in zo?zo.value:zo.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Xp=i.slice(e,1<r?1-r:void 0)}function Jp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ep(){return!0}function gA(){return!1}function _r(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ep:gA,this.isPropagationStopped=gA,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ep)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ep)},persist:function(){},isPersistent:Ep}),t}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lE=_r(jl),Ph=ct({},jl,{view:0,detail:0}),L$=_r(Ph),Dw,Lw,Jc,Lm=ct({},Ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jc&&(Jc&&e.type==="mousemove"?(Dw=e.screenX-Jc.screenX,Lw=e.screenY-Jc.screenY):Lw=Dw=0,Jc=e),Dw)},movementY:function(e){return"movementY"in e?e.movementY:Lw}}),yA=_r(Lm),M$=ct({},Lm,{dataTransfer:0}),F$=_r(M$),U$=ct({},Ph,{relatedTarget:0}),Mw=_r(U$),j$=ct({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),V$=_r(j$),B$=ct({},jl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$$=_r(B$),q$=ct({},jl,{data:0}),wA=_r(q$),z$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H$[e])?!!t[e]:!1}function cE(){return K$}var G$=ct({},Ph,{key:function(e){if(e.key){var t=z$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cE,charCode:function(e){return e.type==="keypress"?Jp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q$=_r(G$),Y$=ct({},Lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_A=_r(Y$),X$=ct({},Ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cE}),J$=_r(X$),Z$=ct({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),e5=_r(Z$),t5=ct({},Lm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),n5=_r(t5),r5=[9,13,27,32],fE=oo&&"CompositionEvent"in window,wf=null;oo&&"documentMode"in document&&(wf=document.documentMode);var i5=oo&&"TextEvent"in window&&!wf,aO=oo&&(!fE||wf&&8<wf&&11>=wf),bA=String.fromCharCode(32),EA=!1;function uO(e,t){switch(e){case"keyup":return r5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uu=!1;function o5(e,t){switch(e){case"compositionend":return lO(t);case"keypress":return t.which!==32?null:(EA=!0,bA);case"textInput":return e=t.data,e===bA&&EA?null:e;default:return null}}function s5(e,t){if(Uu)return e==="compositionend"||!fE&&uO(e,t)?(e=sO(),Xp=uE=zo=null,Uu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aO&&t.locale!=="ko"?null:t.data;default:return null}}var a5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a5[e.type]:t==="textarea"}function cO(e,t,n,r){B2(r),t=Ev(t,"onChange"),0<t.length&&(n=new lE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _f=null,Wf=null;function u5(e){bO(e,0)}function Mm(e){var t=Bu(e);if(D2(t))return e}function l5(e,t){if(e==="change")return t}var fO=!1;if(oo){var Fw;if(oo){var Uw="oninput"in document;if(!Uw){var IA=document.createElement("div");IA.setAttribute("oninput","return;"),Uw=typeof IA.oninput=="function"}Fw=Uw}else Fw=!1;fO=Fw&&(!document.documentMode||9<document.documentMode)}function SA(){_f&&(_f.detachEvent("onpropertychange",hO),Wf=_f=null)}function hO(e){if(e.propertyName==="value"&&Mm(Wf)){var t=[];cO(t,Wf,e,rE(e)),W2(u5,t)}}function c5(e,t,n){e==="focusin"?(SA(),_f=t,Wf=n,_f.attachEvent("onpropertychange",hO)):e==="focusout"&&SA()}function f5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mm(Wf)}function h5(e,t){if(e==="click")return Mm(t)}function d5(e,t){if(e==="input"||e==="change")return Mm(t)}function p5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ui=typeof Object.is=="function"?Object.is:p5;function Hf(e,t){if(ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!z_.call(t,i)||!ui(e[i],t[i]))return!1}return!0}function kA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function CA(e,t){var n=kA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kA(n)}}function dO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pO(){for(var e=window,t=vv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vv(e.document)}return t}function hE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function v5(e){var t=pO(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dO(n.ownerDocument.documentElement,n)){if(r!==null&&hE(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=CA(n,s);var a=CA(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m5=oo&&"documentMode"in document&&11>=document.documentMode,ju=null,lb=null,bf=null,cb=!1;function NA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cb||ju==null||ju!==vv(r)||(r=ju,"selectionStart"in r&&hE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bf&&Hf(bf,r)||(bf=r,r=Ev(lb,"onSelect"),0<r.length&&(t=new lE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ju)))}function Tp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vu={animationend:Tp("Animation","AnimationEnd"),animationiteration:Tp("Animation","AnimationIteration"),animationstart:Tp("Animation","AnimationStart"),transitionend:Tp("Transition","TransitionEnd")},jw={},vO={};oo&&(vO=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function Fm(e){if(jw[e])return jw[e];if(!Vu[e])return e;var t=Vu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vO)return jw[e]=t[n];return e}var mO=Fm("animationend"),gO=Fm("animationiteration"),yO=Fm("animationstart"),wO=Fm("transitionend"),_O=new Map,AA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(e,t){_O.set(e,t),Va(t,[e])}for(var Vw=0;Vw<AA.length;Vw++){var Bw=AA[Vw],g5=Bw.toLowerCase(),y5=Bw[0].toUpperCase()+Bw.slice(1);bs(g5,"on"+y5)}bs(mO,"onAnimationEnd");bs(gO,"onAnimationIteration");bs(yO,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(wO,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Va("onBeforeInput",["compositionend","keypress","textInput","paste"]);Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w5=new Set("cancel close invalid load scroll toggle".split(" ").concat(pf));function RA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,g$(r,t,void 0,e),e.currentTarget=null}function bO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;RA(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;RA(i,l,h),s=c}}}if(gv)throw e=ob,gv=!1,ob=null,e}function Ye(e,t){var n=t[vb];n===void 0&&(n=t[vb]=new Set);var r=e+"__bubble";n.has(r)||(EO(t,e,2,!1),n.add(r))}function $w(e,t,n){var r=0;t&&(r|=4),EO(n,e,r,t)}var Ip="_reactListening"+Math.random().toString(36).slice(2);function Kf(e){if(!e[Ip]){e[Ip]=!0,A2.forEach(function(n){n!=="selectionchange"&&(w5.has(n)||$w(n,!1,e),$w(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ip]||(t[Ip]=!0,$w("selectionchange",!1,t))}}function EO(e,t,n,r){switch(oO(t)){case 1:var i=O$;break;case 4:i=D$;break;default:i=aE}n=i.bind(null,t,n,e),i=void 0,!ib||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qw(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=oa(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}W2(function(){var h=s,p=rE(n),v=[];e:{var g=_O.get(e);if(g!==void 0){var y=lE,_=e;switch(e){case"keypress":if(Jp(n)===0)break e;case"keydown":case"keyup":y=Q$;break;case"focusin":_="focus",y=Mw;break;case"focusout":_="blur",y=Mw;break;case"beforeblur":case"afterblur":y=Mw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=F$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=J$;break;case mO:case gO:case yO:y=V$;break;case wO:y=e5;break;case"scroll":y=L$;break;case"wheel":y=n5;break;case"copy":case"cut":case"paste":y=$$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=_A}var T=(t&4)!==0,S=!T&&e==="scroll",E=T?g!==null?g+"Capture":null:g;T=[];for(var I=h,k;I!==null;){k=I;var P=k.stateNode;if(k.tag===5&&P!==null&&(k=P,E!==null&&(P=Bf(I,E),P!=null&&T.push(Gf(I,P,k)))),S)break;I=I.return}0<T.length&&(g=new y(g,_,null,n,p),v.push({event:g,listeners:T}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==nb&&(_=n.relatedTarget||n.fromElement)&&(oa(_)||_[so]))break e;if((y||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=h,_=_?oa(_):null,_!==null&&(S=Ba(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=h),y!==_)){if(T=yA,P="onMouseLeave",E="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(T=_A,P="onPointerLeave",E="onPointerEnter",I="pointer"),S=y==null?g:Bu(y),k=_==null?g:Bu(_),g=new T(P,I+"leave",y,n,p),g.target=S,g.relatedTarget=k,P=null,oa(p)===h&&(T=new T(E,I+"enter",_,n,p),T.target=k,T.relatedTarget=S,P=T),S=P,y&&_)t:{for(T=y,E=_,I=0,k=T;k;k=Cu(k))I++;for(k=0,P=E;P;P=Cu(P))k++;for(;0<I-k;)T=Cu(T),I--;for(;0<k-I;)E=Cu(E),k--;for(;I--;){if(T===E||E!==null&&T===E.alternate)break t;T=Cu(T),E=Cu(E)}T=null}else T=null;y!==null&&xA(v,g,y,T,!1),_!==null&&S!==null&&xA(v,S,_,T,!0)}}e:{if(g=h?Bu(h):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var D=l5;else if(TA(g))if(fO)D=d5;else{D=f5;var x=c5}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=h5);if(D&&(D=D(e,h))){cO(v,D,n,p);break e}x&&x(e,g,h),e==="focusout"&&(x=g._wrapperState)&&x.controlled&&g.type==="number"&&X_(g,"number",g.value)}switch(x=h?Bu(h):window,e){case"focusin":(TA(x)||x.contentEditable==="true")&&(ju=x,lb=h,bf=null);break;case"focusout":bf=lb=ju=null;break;case"mousedown":cb=!0;break;case"contextmenu":case"mouseup":case"dragend":cb=!1,NA(v,n,p);break;case"selectionchange":if(m5)break;case"keydown":case"keyup":NA(v,n,p)}var V;if(fE)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Uu?uO(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(aO&&n.locale!=="ko"&&(Uu||F!=="onCompositionStart"?F==="onCompositionEnd"&&Uu&&(V=sO()):(zo=p,uE="value"in zo?zo.value:zo.textContent,Uu=!0)),x=Ev(h,F),0<x.length&&(F=new wA(F,e,null,n,p),v.push({event:F,listeners:x}),V?F.data=V:(V=lO(n),V!==null&&(F.data=V)))),(V=i5?o5(e,n):s5(e,n))&&(h=Ev(h,"onBeforeInput"),0<h.length&&(p=new wA("onBeforeInput","beforeinput",null,n,p),v.push({event:p,listeners:h}),p.data=V))}bO(v,t)})}function Gf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ev(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bf(e,n),s!=null&&r.unshift(Gf(e,s,i)),s=Bf(e,t),s!=null&&r.push(Gf(e,s,i))),e=e.return}return r}function Cu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xA(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Bf(n,s),c!=null&&a.unshift(Gf(n,c,l))):i||(c=Bf(n,s),c!=null&&a.push(Gf(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var _5=/\r\n?/g,b5=/\u0000|\uFFFD/g;function PA(e){return(typeof e=="string"?e:""+e).replace(_5,`
`).replace(b5,"")}function Sp(e,t,n){if(t=PA(t),PA(e)!==t&&n)throw Error(W(425))}function Tv(){}var fb=null,hb=null;function db(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pb=typeof setTimeout=="function"?setTimeout:void 0,E5=typeof clearTimeout=="function"?clearTimeout:void 0,OA=typeof Promise=="function"?Promise:void 0,T5=typeof queueMicrotask=="function"?queueMicrotask:typeof OA<"u"?function(e){return OA.resolve(null).then(e).catch(I5)}:pb;function I5(e){setTimeout(function(){throw e})}function zw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zf(t)}function Jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function DA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vl=Math.random().toString(36).slice(2),Ei="__reactFiber$"+Vl,Qf="__reactProps$"+Vl,so="__reactContainer$"+Vl,vb="__reactEvents$"+Vl,S5="__reactListeners$"+Vl,k5="__reactHandles$"+Vl;function oa(e){var t=e[Ei];if(t)return t;for(var n=e.parentNode;n;){if(t=n[so]||n[Ei]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=DA(e);e!==null;){if(n=e[Ei])return n;e=DA(e)}return t}e=n,n=e.parentNode}return null}function Oh(e){return e=e[Ei]||e[so],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Um(e){return e[Qf]||null}var mb=[],$u=-1;function Es(e){return{current:e}}function Je(e){0>$u||(e.current=mb[$u],mb[$u]=null,$u--)}function Ge(e,t){$u++,mb[$u]=e.current,e.current=t}var hs={},yn=Es(hs),Gn=Es(!1),Ta=hs;function ul(e,t){var n=e.type.contextTypes;if(!n)return hs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qn(e){return e=e.childContextTypes,e!=null}function Iv(){Je(Gn),Je(yn)}function LA(e,t,n){if(yn.current!==hs)throw Error(W(168));Ge(yn,t),Ge(Gn,n)}function TO(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(W(108,c$(e)||"Unknown",i));return ct({},n,r)}function Sv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hs,Ta=yn.current,Ge(yn,e),Ge(Gn,Gn.current),!0}function MA(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=TO(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Je(Gn),Je(yn),Ge(yn,e)):Je(Gn),Ge(Gn,n)}var Gi=null,jm=!1,Ww=!1;function IO(e){Gi===null?Gi=[e]:Gi.push(e)}function C5(e){jm=!0,IO(e)}function Ts(){if(!Ww&&Gi!==null){Ww=!0;var e=0,t=$e;try{var n=Gi;for($e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gi=null,jm=!1}catch(i){throw Gi!==null&&(Gi=Gi.slice(e+1)),Q2(iE,Ts),i}finally{$e=t,Ww=!1}}return null}var qu=[],zu=0,kv=null,Cv=0,Sr=[],kr=0,Ia=null,Yi=1,Xi="";function Js(e,t){qu[zu++]=Cv,qu[zu++]=kv,kv=e,Cv=t}function SO(e,t,n){Sr[kr++]=Yi,Sr[kr++]=Xi,Sr[kr++]=Ia,Ia=e;var r=Yi;e=Xi;var i=32-ii(r)-1;r&=~(1<<i),n+=1;var s=32-ii(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-ii(t)+i|n<<i|r,Xi=s+e}else Yi=1<<s|n<<i|r,Xi=e}function dE(e){e.return!==null&&(Js(e,1),SO(e,1,0))}function pE(e){for(;e===kv;)kv=qu[--zu],qu[zu]=null,Cv=qu[--zu],qu[zu]=null;for(;e===Ia;)Ia=Sr[--kr],Sr[kr]=null,Xi=Sr[--kr],Sr[kr]=null,Yi=Sr[--kr],Sr[kr]=null}var dr=null,cr=null,nt=!1,ni=null;function kO(e,t){var n=Cr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function FA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dr=e,cr=Jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dr=e,cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ia!==null?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Cr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dr=e,cr=null,!0):!1;default:return!1}}function gb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yb(e){if(nt){var t=cr;if(t){var n=t;if(!FA(e,t)){if(gb(e))throw Error(W(418));t=Jo(n.nextSibling);var r=dr;t&&FA(e,t)?kO(r,n):(e.flags=e.flags&-4097|2,nt=!1,dr=e)}}else{if(gb(e))throw Error(W(418));e.flags=e.flags&-4097|2,nt=!1,dr=e}}}function UA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dr=e}function kp(e){if(e!==dr)return!1;if(!nt)return UA(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!db(e.type,e.memoizedProps)),t&&(t=cr)){if(gb(e))throw CO(),Error(W(418));for(;t;)kO(e,t),t=Jo(t.nextSibling)}if(UA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){cr=Jo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}cr=null}}else cr=dr?Jo(e.stateNode.nextSibling):null;return!0}function CO(){for(var e=cr;e;)e=Jo(e.nextSibling)}function ll(){cr=dr=null,nt=!1}function vE(e){ni===null?ni=[e]:ni.push(e)}var N5=po.ReactCurrentBatchConfig;function Zr(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Nv=Es(null),Av=null,Wu=null,mE=null;function gE(){mE=Wu=Av=null}function yE(e){var t=Nv.current;Je(Nv),e._currentValue=t}function wb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function el(e,t){Av=e,mE=Wu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hn=!0),e.firstContext=null)}function Mr(e){var t=e._currentValue;if(mE!==e)if(e={context:e,memoizedValue:t,next:null},Wu===null){if(Av===null)throw Error(W(308));Wu=e,Av.dependencies={lanes:0,firstContext:e}}else Wu=Wu.next=e;return t}var sa=null;function wE(e){sa===null?sa=[e]:sa.push(e)}function NO(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,wE(t)):(n.next=i.next,i.next=n),t.interleaved=n,ao(e,r)}function ao(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lo=!1;function _E(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ao(e,n)}return i=r.interleaved,i===null?(t.next=t,wE(r)):(t.next=i.next,i.next=t),r.interleaved=t,ao(e,n)}function Zp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oE(e,n)}}function jA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rv(e,t,n,r){var i=e.updateQueue;Lo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,p=h=c=null,l=s;do{var g=l.lane,y=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,T=l;switch(g=t,y=n,T.tag){case 1:if(_=T.payload,typeof _=="function"){v=_.call(y,v,g);break e}v=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=T.payload,g=typeof _=="function"?_.call(y,v,g):_,g==null)break e;v=ct({},v,g);break e;case 2:Lo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else y={eventTime:y,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=y,c=v):p=p.next=y,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(p===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ka|=a,e.lanes=a,e.memoizedState=v}}function VA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var RO=new N2.Component().refs;function _b(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vm={isMounted:function(e){return(e=e._reactInternals)?Ba(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pn(),i=ts(e),s=to(r,i);s.payload=t,n!=null&&(s.callback=n),t=Zo(e,s,i),t!==null&&(oi(t,e,i,r),Zp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pn(),i=ts(e),s=to(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Zo(e,s,i),t!==null&&(oi(t,e,i,r),Zp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pn(),r=ts(e),i=to(n,r);i.tag=2,t!=null&&(i.callback=t),t=Zo(e,i,r),t!==null&&(oi(t,e,r,n),Zp(t,e,r))}};function BA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Hf(n,r)||!Hf(i,s):!0}function xO(e,t,n){var r=!1,i=hs,s=t.contextType;return typeof s=="object"&&s!==null?s=Mr(s):(i=Qn(t)?Ta:yn.current,r=t.contextTypes,s=(r=r!=null)?ul(e,i):hs),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function $A(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vm.enqueueReplaceState(t,t.state,null)}function bb(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=RO,_E(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Mr(s):(s=Qn(t)?Ta:yn.current,i.context=ul(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_b(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vm.enqueueReplaceState(i,i.state,null),Rv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===RO&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Cp(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qA(e){var t=e._init;return t(e._payload)}function PO(e){function t(E,I){if(e){var k=E.deletions;k===null?(E.deletions=[I],E.flags|=16):k.push(I)}}function n(E,I){if(!e)return null;for(;I!==null;)t(E,I),I=I.sibling;return null}function r(E,I){for(E=new Map;I!==null;)I.key!==null?E.set(I.key,I):E.set(I.index,I),I=I.sibling;return E}function i(E,I){return E=ns(E,I),E.index=0,E.sibling=null,E}function s(E,I,k){return E.index=k,e?(k=E.alternate,k!==null?(k=k.index,k<I?(E.flags|=2,I):k):(E.flags|=2,I)):(E.flags|=1048576,I)}function a(E){return e&&E.alternate===null&&(E.flags|=2),E}function l(E,I,k,P){return I===null||I.tag!==6?(I=Jw(k,E.mode,P),I.return=E,I):(I=i(I,k),I.return=E,I)}function c(E,I,k,P){var D=k.type;return D===Fu?p(E,I,k.props.children,P,k.key):I!==null&&(I.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Do&&qA(D)===I.type)?(P=i(I,k.props),P.ref=Zc(E,I,k),P.return=E,P):(P=ov(k.type,k.key,k.props,null,E.mode,P),P.ref=Zc(E,I,k),P.return=E,P)}function h(E,I,k,P){return I===null||I.tag!==4||I.stateNode.containerInfo!==k.containerInfo||I.stateNode.implementation!==k.implementation?(I=Zw(k,E.mode,P),I.return=E,I):(I=i(I,k.children||[]),I.return=E,I)}function p(E,I,k,P,D){return I===null||I.tag!==7?(I=va(k,E.mode,P,D),I.return=E,I):(I=i(I,k),I.return=E,I)}function v(E,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Jw(""+I,E.mode,k),I.return=E,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case mp:return k=ov(I.type,I.key,I.props,null,E.mode,k),k.ref=Zc(E,null,I),k.return=E,k;case Mu:return I=Zw(I,E.mode,k),I.return=E,I;case Do:var P=I._init;return v(E,P(I._payload),k)}if(hf(I)||Gc(I))return I=va(I,E.mode,k,null),I.return=E,I;Cp(E,I)}return null}function g(E,I,k,P){var D=I!==null?I.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return D!==null?null:l(E,I,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case mp:return k.key===D?c(E,I,k,P):null;case Mu:return k.key===D?h(E,I,k,P):null;case Do:return D=k._init,g(E,I,D(k._payload),P)}if(hf(k)||Gc(k))return D!==null?null:p(E,I,k,P,null);Cp(E,k)}return null}function y(E,I,k,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(k)||null,l(I,E,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case mp:return E=E.get(P.key===null?k:P.key)||null,c(I,E,P,D);case Mu:return E=E.get(P.key===null?k:P.key)||null,h(I,E,P,D);case Do:var x=P._init;return y(E,I,k,x(P._payload),D)}if(hf(P)||Gc(P))return E=E.get(k)||null,p(I,E,P,D,null);Cp(I,P)}return null}function _(E,I,k,P){for(var D=null,x=null,V=I,F=I=0,ue=null;V!==null&&F<k.length;F++){V.index>F?(ue=V,V=null):ue=V.sibling;var N=g(E,V,k[F],P);if(N===null){V===null&&(V=ue);break}e&&V&&N.alternate===null&&t(E,V),I=s(N,I,F),x===null?D=N:x.sibling=N,x=N,V=ue}if(F===k.length)return n(E,V),nt&&Js(E,F),D;if(V===null){for(;F<k.length;F++)V=v(E,k[F],P),V!==null&&(I=s(V,I,F),x===null?D=V:x.sibling=V,x=V);return nt&&Js(E,F),D}for(V=r(E,V);F<k.length;F++)ue=y(V,E,F,k[F],P),ue!==null&&(e&&ue.alternate!==null&&V.delete(ue.key===null?F:ue.key),I=s(ue,I,F),x===null?D=ue:x.sibling=ue,x=ue);return e&&V.forEach(function(_t){return t(E,_t)}),nt&&Js(E,F),D}function T(E,I,k,P){var D=Gc(k);if(typeof D!="function")throw Error(W(150));if(k=D.call(k),k==null)throw Error(W(151));for(var x=D=null,V=I,F=I=0,ue=null,N=k.next();V!==null&&!N.done;F++,N=k.next()){V.index>F?(ue=V,V=null):ue=V.sibling;var _t=g(E,V,N.value,P);if(_t===null){V===null&&(V=ue);break}e&&V&&_t.alternate===null&&t(E,V),I=s(_t,I,F),x===null?D=_t:x.sibling=_t,x=_t,V=ue}if(N.done)return n(E,V),nt&&Js(E,F),D;if(V===null){for(;!N.done;F++,N=k.next())N=v(E,N.value,P),N!==null&&(I=s(N,I,F),x===null?D=N:x.sibling=N,x=N);return nt&&Js(E,F),D}for(V=r(E,V);!N.done;F++,N=k.next())N=y(V,E,F,N.value,P),N!==null&&(e&&N.alternate!==null&&V.delete(N.key===null?F:N.key),I=s(N,I,F),x===null?D=N:x.sibling=N,x=N);return e&&V.forEach(function(_n){return t(E,_n)}),nt&&Js(E,F),D}function S(E,I,k,P){if(typeof k=="object"&&k!==null&&k.type===Fu&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case mp:e:{for(var D=k.key,x=I;x!==null;){if(x.key===D){if(D=k.type,D===Fu){if(x.tag===7){n(E,x.sibling),I=i(x,k.props.children),I.return=E,E=I;break e}}else if(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Do&&qA(D)===x.type){n(E,x.sibling),I=i(x,k.props),I.ref=Zc(E,x,k),I.return=E,E=I;break e}n(E,x);break}else t(E,x);x=x.sibling}k.type===Fu?(I=va(k.props.children,E.mode,P,k.key),I.return=E,E=I):(P=ov(k.type,k.key,k.props,null,E.mode,P),P.ref=Zc(E,I,k),P.return=E,E=P)}return a(E);case Mu:e:{for(x=k.key;I!==null;){if(I.key===x)if(I.tag===4&&I.stateNode.containerInfo===k.containerInfo&&I.stateNode.implementation===k.implementation){n(E,I.sibling),I=i(I,k.children||[]),I.return=E,E=I;break e}else{n(E,I);break}else t(E,I);I=I.sibling}I=Zw(k,E.mode,P),I.return=E,E=I}return a(E);case Do:return x=k._init,S(E,I,x(k._payload),P)}if(hf(k))return _(E,I,k,P);if(Gc(k))return T(E,I,k,P);Cp(E,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,I!==null&&I.tag===6?(n(E,I.sibling),I=i(I,k),I.return=E,E=I):(n(E,I),I=Jw(k,E.mode,P),I.return=E,E=I),a(E)):n(E,I)}return S}var cl=PO(!0),OO=PO(!1),Dh={},Si=Es(Dh),Yf=Es(Dh),Xf=Es(Dh);function aa(e){if(e===Dh)throw Error(W(174));return e}function bE(e,t){switch(Ge(Xf,t),Ge(Yf,e),Ge(Si,Dh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Z_(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Z_(t,e)}Je(Si),Ge(Si,t)}function fl(){Je(Si),Je(Yf),Je(Xf)}function DO(e){aa(Xf.current);var t=aa(Si.current),n=Z_(t,e.type);t!==n&&(Ge(Yf,e),Ge(Si,n))}function EE(e){Yf.current===e&&(Je(Si),Je(Yf))}var st=Es(0);function xv(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hw=[];function TE(){for(var e=0;e<Hw.length;e++)Hw[e]._workInProgressVersionPrimary=null;Hw.length=0}var ev=po.ReactCurrentDispatcher,Kw=po.ReactCurrentBatchConfig,Sa=0,lt=null,xt=null,Vt=null,Pv=!1,Ef=!1,Jf=0,A5=0;function an(){throw Error(W(321))}function IE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ui(e[n],t[n]))return!1;return!0}function SE(e,t,n,r,i,s){if(Sa=s,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ev.current=e===null||e.memoizedState===null?O5:D5,e=n(r,i),Ef){s=0;do{if(Ef=!1,Jf=0,25<=s)throw Error(W(301));s+=1,Vt=xt=null,t.updateQueue=null,ev.current=L5,e=n(r,i)}while(Ef)}if(ev.current=Ov,t=xt!==null&&xt.next!==null,Sa=0,Vt=xt=lt=null,Pv=!1,t)throw Error(W(300));return e}function kE(){var e=Jf!==0;return Jf=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?lt.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function Fr(){if(xt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Vt===null?lt.memoizedState:Vt.next;if(t!==null)Vt=t,xt=e;else{if(e===null)throw Error(W(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Vt===null?lt.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}function Zf(e,t){return typeof t=="function"?t(e):t}function Gw(e){var t=Fr(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var p=h.lane;if((Sa&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,lt.lanes|=p,ka|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,ui(r,t.memoizedState)||(Hn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,lt.lanes|=s,ka|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qw(e){var t=Fr(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ui(s,t.memoizedState)||(Hn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function LO(){}function MO(e,t){var n=lt,r=Fr(),i=t(),s=!ui(r.memoizedState,i);if(s&&(r.memoizedState=i,Hn=!0),r=r.queue,CE(jO.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,eh(9,UO.bind(null,n,r,i,t),void 0,null),Wt===null)throw Error(W(349));Sa&30||FO(n,t,i)}return i}function FO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function UO(e,t,n,r){t.value=n,t.getSnapshot=r,VO(t)&&BO(e)}function jO(e,t,n){return n(function(){VO(t)&&BO(e)})}function VO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ui(e,n)}catch{return!0}}function BO(e){var t=ao(e,1);t!==null&&oi(t,e,1,-1)}function zA(e){var t=_i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:e},t.queue=e,e=e.dispatch=P5.bind(null,lt,e),[t.memoizedState,e]}function eh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $O(){return Fr().memoizedState}function tv(e,t,n,r){var i=_i();lt.flags|=e,i.memoizedState=eh(1|t,n,void 0,r===void 0?null:r)}function Bm(e,t,n,r){var i=Fr();r=r===void 0?null:r;var s=void 0;if(xt!==null){var a=xt.memoizedState;if(s=a.destroy,r!==null&&IE(r,a.deps)){i.memoizedState=eh(t,n,s,r);return}}lt.flags|=e,i.memoizedState=eh(1|t,n,s,r)}function WA(e,t){return tv(8390656,8,e,t)}function CE(e,t){return Bm(2048,8,e,t)}function qO(e,t){return Bm(4,2,e,t)}function zO(e,t){return Bm(4,4,e,t)}function WO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function HO(e,t,n){return n=n!=null?n.concat([e]):null,Bm(4,4,WO.bind(null,t,e),n)}function NE(){}function KO(e,t){var n=Fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&IE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function GO(e,t){var n=Fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&IE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function QO(e,t,n){return Sa&21?(ui(n,t)||(n=J2(),lt.lanes|=n,ka|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hn=!0),e.memoizedState=n)}function R5(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var r=Kw.transition;Kw.transition={};try{e(!1),t()}finally{$e=n,Kw.transition=r}}function YO(){return Fr().memoizedState}function x5(e,t,n){var r=ts(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XO(e))JO(t,n);else if(n=NO(e,t,n,r),n!==null){var i=Pn();oi(n,e,r,i),ZO(n,t,r)}}function P5(e,t,n){var r=ts(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XO(e))JO(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,ui(l,a)){var c=t.interleaved;c===null?(i.next=i,wE(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=NO(e,t,i,r),n!==null&&(i=Pn(),oi(n,e,r,i),ZO(n,t,r))}}function XO(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function JO(e,t){Ef=Pv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ZO(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oE(e,n)}}var Ov={readContext:Mr,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},O5={readContext:Mr,useCallback:function(e,t){return _i().memoizedState=[e,t===void 0?null:t],e},useContext:Mr,useEffect:WA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,tv(4194308,4,WO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return tv(4194308,4,e,t)},useInsertionEffect:function(e,t){return tv(4,2,e,t)},useMemo:function(e,t){var n=_i();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_i();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=x5.bind(null,lt,e),[r.memoizedState,e]},useRef:function(e){var t=_i();return e={current:e},t.memoizedState=e},useState:zA,useDebugValue:NE,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=zA(!1),t=e[0];return e=R5.bind(null,e[1]),_i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lt,i=_i();if(nt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Wt===null)throw Error(W(349));Sa&30||FO(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,WA(jO.bind(null,r,s,e),[e]),r.flags|=2048,eh(9,UO.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=_i(),t=Wt.identifierPrefix;if(nt){var n=Xi,r=Yi;n=(r&~(1<<32-ii(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=A5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D5={readContext:Mr,useCallback:KO,useContext:Mr,useEffect:CE,useImperativeHandle:HO,useInsertionEffect:qO,useLayoutEffect:zO,useMemo:GO,useReducer:Gw,useRef:$O,useState:function(){return Gw(Zf)},useDebugValue:NE,useDeferredValue:function(e){var t=Fr();return QO(t,xt.memoizedState,e)},useTransition:function(){var e=Gw(Zf)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:LO,useSyncExternalStore:MO,useId:YO,unstable_isNewReconciler:!1},L5={readContext:Mr,useCallback:KO,useContext:Mr,useEffect:CE,useImperativeHandle:HO,useInsertionEffect:qO,useLayoutEffect:zO,useMemo:GO,useReducer:Qw,useRef:$O,useState:function(){return Qw(Zf)},useDebugValue:NE,useDeferredValue:function(e){var t=Fr();return xt===null?t.memoizedState=e:QO(t,xt.memoizedState,e)},useTransition:function(){var e=Qw(Zf)[0],t=Fr().memoizedState;return[e,t]},useMutableSource:LO,useSyncExternalStore:MO,useId:YO,unstable_isNewReconciler:!1};function hl(e,t){try{var n="",r=t;do n+=l$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Yw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Eb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var M5=typeof WeakMap=="function"?WeakMap:Map;function eD(e,t,n){n=to(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lv||(Lv=!0,Pb=r),Eb(e,t)},n}function tD(e,t,n){n=to(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Eb(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Eb(e,t),typeof r!="function"&&(es===null?es=new Set([this]):es.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function HA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new M5;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Y5.bind(null,e,t,n),t.then(e,e))}function KA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function GA(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=to(-1,1),t.tag=2,Zo(n,t,1))),n.lanes|=1),e)}var F5=po.ReactCurrentOwner,Hn=!1;function Sn(e,t,n,r){t.child=e===null?OO(t,null,n,r):cl(t,e.child,n,r)}function QA(e,t,n,r,i){n=n.render;var s=t.ref;return el(t,i),r=SE(e,t,n,r,s,i),n=kE(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uo(e,t,i)):(nt&&n&&dE(t),t.flags|=1,Sn(e,t,r,i),t.child)}function YA(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!ME(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,nD(e,t,s,r,i)):(e=ov(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hf,n(a,r)&&e.ref===t.ref)return uo(e,t,i)}return t.flags|=1,e=ns(s,r),e.ref=t.ref,e.return=t,t.child=e}function nD(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Hf(s,r)&&e.ref===t.ref)if(Hn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Hn=!0);else return t.lanes=e.lanes,uo(e,t,i)}return Tb(e,t,n,r,i)}function rD(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Ku,sr),sr|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(Ku,sr),sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge(Ku,sr),sr|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ge(Ku,sr),sr|=r;return Sn(e,t,i,n),t.child}function iD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tb(e,t,n,r,i){var s=Qn(n)?Ta:yn.current;return s=ul(t,s),el(t,i),n=SE(e,t,n,r,s,i),r=kE(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,uo(e,t,i)):(nt&&r&&dE(t),t.flags|=1,Sn(e,t,n,i),t.child)}function XA(e,t,n,r,i){if(Qn(n)){var s=!0;Sv(t)}else s=!1;if(el(t,i),t.stateNode===null)nv(e,t),xO(t,n,r),bb(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=Mr(h):(h=Qn(n)?Ta:yn.current,h=ul(t,h));var p=n.getDerivedStateFromProps,v=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&$A(t,a,r,h),Lo=!1;var g=t.memoizedState;a.state=g,Rv(t,r,a,i),c=t.memoizedState,l!==r||g!==c||Gn.current||Lo?(typeof p=="function"&&(_b(t,n,p,r),c=t.memoizedState),(l=Lo||BA(t,n,l,r,g,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,AO(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:Zr(t.type,l),a.props=h,v=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Mr(c):(c=Qn(n)?Ta:yn.current,c=ul(t,c));var y=n.getDerivedStateFromProps;(p=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||g!==c)&&$A(t,a,r,c),Lo=!1,g=t.memoizedState,a.state=g,Rv(t,r,a,i);var _=t.memoizedState;l!==v||g!==_||Gn.current||Lo?(typeof y=="function"&&(_b(t,n,y,r),_=t.memoizedState),(h=Lo||BA(t,n,h,r,g,_,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),a.props=r,a.state=_,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Ib(e,t,n,r,s,i)}function Ib(e,t,n,r,i,s){iD(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&MA(t,n,!1),uo(e,t,s);r=t.stateNode,F5.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=cl(t,e.child,null,s),t.child=cl(t,null,l,s)):Sn(e,t,l,s),t.memoizedState=r.state,i&&MA(t,n,!0),t.child}function oD(e){var t=e.stateNode;t.pendingContext?LA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&LA(e,t.context,!1),bE(e,t.containerInfo)}function JA(e,t,n,r,i){return ll(),vE(i),t.flags|=256,Sn(e,t,n,r),t.child}var Sb={dehydrated:null,treeContext:null,retryLane:0};function kb(e){return{baseLanes:e,cachePool:null,transitions:null}}function sD(e,t,n){var r=t.pendingProps,i=st.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(st,i&1),e===null)return yb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=zm(a,r,0,null),e=va(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=kb(n),t.memoizedState=Sb,e):AE(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return U5(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ns(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ns(l,s):(s=va(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?kb(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Sb,r}return s=e.child,e=s.sibling,r=ns(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function AE(e,t){return t=zm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Np(e,t,n,r){return r!==null&&vE(r),cl(t,e.child,null,n),e=AE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function U5(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Yw(Error(W(422))),Np(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=zm({mode:"visible",children:r.children},i,0,null),s=va(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&cl(t,e.child,null,a),t.child.memoizedState=kb(a),t.memoizedState=Sb,s);if(!(t.mode&1))return Np(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(W(419)),r=Yw(s,r,void 0),Np(e,t,a,r)}if(l=(a&e.childLanes)!==0,Hn||l){if(r=Wt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ao(e,i),oi(r,e,i,-1))}return LE(),r=Yw(Error(W(421))),Np(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=X5.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,cr=Jo(i.nextSibling),dr=t,nt=!0,ni=null,e!==null&&(Sr[kr++]=Yi,Sr[kr++]=Xi,Sr[kr++]=Ia,Yi=e.id,Xi=e.overflow,Ia=t),t=AE(t,r.children),t.flags|=4096,t)}function ZA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wb(e.return,t,n)}function Xw(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function aD(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Sn(e,t,r.children,n),r=st.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ZA(e,n,t);else if(e.tag===19)ZA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(st,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xv(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xw(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xv(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xw(t,!0,n,null,s);break;case"together":Xw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=ns(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ns(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function j5(e,t,n){switch(t.tag){case 3:oD(t),ll();break;case 5:DO(t);break;case 1:Qn(t.type)&&Sv(t);break;case 4:bE(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ge(Nv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(st,st.current&1),t.flags|=128,null):n&t.child.childLanes?sD(e,t,n):(Ge(st,st.current&1),e=uo(e,t,n),e!==null?e.sibling:null);Ge(st,st.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(st,st.current),r)break;return null;case 22:case 23:return t.lanes=0,rD(e,t,n)}return uo(e,t,n)}var uD,Cb,lD,cD;uD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cb=function(){};lD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,aa(Si.current);var s=null;switch(n){case"input":i=Q_(e,i),r=Q_(e,r),s=[];break;case"select":i=ct({},i,{value:void 0}),r=ct({},r,{value:void 0}),s=[];break;case"textarea":i=J_(e,i),r=J_(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Tv)}eb(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(jf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(jf.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ye("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};cD=function(e,t,n,r){n!==r&&(t.flags|=4)};function ef(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function un(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function V5(e,t,n){var r=t.pendingProps;switch(pE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(t),null;case 1:return Qn(t.type)&&Iv(),un(t),null;case 3:return r=t.stateNode,fl(),Je(Gn),Je(yn),TE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ni!==null&&(Lb(ni),ni=null))),Cb(e,t),un(t),null;case 5:EE(t);var i=aa(Xf.current);if(n=t.type,e!==null&&t.stateNode!=null)lD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return un(t),null}if(e=aa(Si.current),kp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ei]=t,r[Qf]=s,e=(t.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<pf.length;i++)Ye(pf[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":uA(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":cA(r,s),Ye("invalid",r)}eb(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Sp(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Sp(r.textContent,l,e),i=["children",""+l]):jf.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ye("scroll",r)}switch(n){case"input":gp(r),lA(r,s,!0);break;case"textarea":gp(r),fA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=F2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ei]=t,e[Qf]=r,uD(e,t,!1,!1),t.stateNode=e;e:{switch(a=tb(n,r),n){case"dialog":Ye("cancel",e),Ye("close",e),i=r;break;case"iframe":case"object":case"embed":Ye("load",e),i=r;break;case"video":case"audio":for(i=0;i<pf.length;i++)Ye(pf[i],e);i=r;break;case"source":Ye("error",e),i=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),i=r;break;case"details":Ye("toggle",e),i=r;break;case"input":uA(e,r),i=Q_(e,r),Ye("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ct({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":cA(e,r),i=J_(e,r),Ye("invalid",e);break;default:i=r}eb(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?V2(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&U2(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vf(e,c):typeof c=="number"&&Vf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ye("scroll",e):c!=null&&Z1(e,s,c,a))}switch(n){case"input":gp(e),lA(e,r,!1);break;case"textarea":gp(e),fA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fs(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Yu(e,!!r.multiple,s,!1):r.defaultValue!=null&&Yu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Tv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return un(t),null;case 6:if(e&&t.stateNode!=null)cD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=aa(Xf.current),aa(Si.current),kp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ei]=t,(s=r.nodeValue!==n)&&(e=dr,e!==null))switch(e.tag){case 3:Sp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ei]=t,t.stateNode=r}return un(t),null;case 13:if(Je(st),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&cr!==null&&t.mode&1&&!(t.flags&128))CO(),ll(),t.flags|=98560,s=!1;else if(s=kp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(W(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Ei]=t}else ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;un(t),s=!1}else ni!==null&&(Lb(ni),ni=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?Ot===0&&(Ot=3):LE())),t.updateQueue!==null&&(t.flags|=4),un(t),null);case 4:return fl(),Cb(e,t),e===null&&Kf(t.stateNode.containerInfo),un(t),null;case 10:return yE(t.type._context),un(t),null;case 17:return Qn(t.type)&&Iv(),un(t),null;case 19:if(Je(st),s=t.memoizedState,s===null)return un(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)ef(s,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=xv(e),a!==null){for(t.flags|=128,ef(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(st,st.current&1|2),t.child}e=e.sibling}s.tail!==null&&yt()>dl&&(t.flags|=128,r=!0,ef(s,!1),t.lanes=4194304)}else{if(!r)if(e=xv(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ef(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!nt)return un(t),null}else 2*yt()-s.renderingStartTime>dl&&n!==1073741824&&(t.flags|=128,r=!0,ef(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=yt(),t.sibling=null,n=st.current,Ge(st,r?n&1|2:n&1),t):(un(t),null);case 22:case 23:return DE(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?sr&1073741824&&(un(t),t.subtreeFlags&6&&(t.flags|=8192)):un(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function B5(e,t){switch(pE(t),t.tag){case 1:return Qn(t.type)&&Iv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fl(),Je(Gn),Je(yn),TE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return EE(t),null;case 13:if(Je(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(st),null;case 4:return fl(),null;case 10:return yE(t.type._context),null;case 22:case 23:return DE(),null;case 24:return null;default:return null}}var Ap=!1,fn=!1,$5=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Hu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(e,t,r)}else n.current=null}function Nb(e,t,n){try{n()}catch(r){dt(e,t,r)}}var eR=!1;function q5(e,t){if(fb=_v,e=pO(),hE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,p=0,v=e,g=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)g=v,v=y;for(;;){if(v===e)break t;if(g===n&&++h===i&&(l=a),g===s&&++p===r&&(c=a),(y=v.nextSibling)!==null)break;v=g,g=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hb={focusedElem:e,selectionRange:n},_v=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var T=_.memoizedProps,S=_.memoizedState,E=t.stateNode,I=E.getSnapshotBeforeUpdate(t.elementType===t.type?T:Zr(t.type,T),S);E.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(P){dt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return _=eR,eR=!1,_}function Tf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nb(t,n,s)}i=i.next}while(i!==r)}}function $m(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ab(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fD(e){var t=e.alternate;t!==null&&(e.alternate=null,fD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ei],delete t[Qf],delete t[vb],delete t[S5],delete t[k5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hD(e){return e.tag===5||e.tag===3||e.tag===4}function tR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||hD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tv));else if(r!==4&&(e=e.child,e!==null))for(Rb(e,t,n),e=e.sibling;e!==null;)Rb(e,t,n),e=e.sibling}function xb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xb(e,t,n),e=e.sibling;e!==null;)xb(e,t,n),e=e.sibling}var Xt=null,ti=!1;function No(e,t,n){for(n=n.child;n!==null;)dD(e,t,n),n=n.sibling}function dD(e,t,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Dm,n)}catch{}switch(n.tag){case 5:fn||Hu(n,t);case 6:var r=Xt,i=ti;Xt=null,No(e,t,n),Xt=r,ti=i,Xt!==null&&(ti?(e=Xt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xt.removeChild(n.stateNode));break;case 18:Xt!==null&&(ti?(e=Xt,n=n.stateNode,e.nodeType===8?zw(e.parentNode,n):e.nodeType===1&&zw(e,n),zf(e)):zw(Xt,n.stateNode));break;case 4:r=Xt,i=ti,Xt=n.stateNode.containerInfo,ti=!0,No(e,t,n),Xt=r,ti=i;break;case 0:case 11:case 14:case 15:if(!fn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Nb(n,t,a),i=i.next}while(i!==r)}No(e,t,n);break;case 1:if(!fn&&(Hu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){dt(n,t,l)}No(e,t,n);break;case 21:No(e,t,n);break;case 22:n.mode&1?(fn=(r=fn)||n.memoizedState!==null,No(e,t,n),fn=r):No(e,t,n);break;default:No(e,t,n)}}function nR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $5),t.forEach(function(r){var i=J5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Xt=l.stateNode,ti=!1;break e;case 3:Xt=l.stateNode.containerInfo,ti=!0;break e;case 4:Xt=l.stateNode.containerInfo,ti=!0;break e}l=l.return}if(Xt===null)throw Error(W(160));dD(s,a,i),Xt=null,ti=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){dt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pD(t,e),t=t.sibling}function pD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qr(t,e),wi(e),r&4){try{Tf(3,e,e.return),$m(3,e)}catch(T){dt(e,e.return,T)}try{Tf(5,e,e.return)}catch(T){dt(e,e.return,T)}}break;case 1:Qr(t,e),wi(e),r&512&&n!==null&&Hu(n,n.return);break;case 5:if(Qr(t,e),wi(e),r&512&&n!==null&&Hu(n,n.return),e.flags&32){var i=e.stateNode;try{Vf(i,"")}catch(T){dt(e,e.return,T)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&L2(i,s),tb(l,a);var h=tb(l,s);for(a=0;a<c.length;a+=2){var p=c[a],v=c[a+1];p==="style"?V2(i,v):p==="dangerouslySetInnerHTML"?U2(i,v):p==="children"?Vf(i,v):Z1(i,p,v,h)}switch(l){case"input":Y_(i,s);break;case"textarea":M2(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Yu(i,!!s.multiple,y,!1):g!==!!s.multiple&&(s.defaultValue!=null?Yu(i,!!s.multiple,s.defaultValue,!0):Yu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qf]=s}catch(T){dt(e,e.return,T)}}break;case 6:if(Qr(t,e),wi(e),r&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(T){dt(e,e.return,T)}}break;case 3:if(Qr(t,e),wi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zf(t.containerInfo)}catch(T){dt(e,e.return,T)}break;case 4:Qr(t,e),wi(e);break;case 13:Qr(t,e),wi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(PE=yt())),r&4&&nR(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(fn=(h=fn)||p,Qr(t,e),fn=h):Qr(t,e),wi(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(Z=e,p=e.child;p!==null;){for(v=Z=p;Z!==null;){switch(g=Z,y=g.child,g.tag){case 0:case 11:case 14:case 15:Tf(4,g,g.return);break;case 1:Hu(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(T){dt(r,n,T)}}break;case 5:Hu(g,g.return);break;case 22:if(g.memoizedState!==null){iR(v);continue}}y!==null?(y.return=g,Z=y):iR(v)}p=p.sibling}e:for(p=null,v=e;;){if(v.tag===5){if(p===null){p=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=j2("display",a))}catch(T){dt(e,e.return,T)}}}else if(v.tag===6){if(p===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(T){dt(e,e.return,T)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;p===v&&(p=null),v=v.return}p===v&&(p=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Qr(t,e),wi(e),r&4&&nR(e);break;case 21:break;default:Qr(t,e),wi(e)}}function wi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(hD(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vf(i,""),r.flags&=-33);var s=tR(e);xb(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=tR(e);Rb(e,l,a);break;default:throw Error(W(161))}}catch(c){dt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z5(e,t,n){Z=e,vD(e)}function vD(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ap;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||fn;l=Ap;var h=fn;if(Ap=a,(fn=c)&&!h)for(Z=i;Z!==null;)a=Z,c=a.child,a.tag===22&&a.memoizedState!==null?oR(i):c!==null?(c.return=a,Z=c):oR(i);for(;s!==null;)Z=s,vD(s),s=s.sibling;Z=i,Ap=l,fn=h}rR(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):rR(e)}}function rR(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fn||$m(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!fn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Zr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&VA(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}VA(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var v=p.dehydrated;v!==null&&zf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}fn||t.flags&512&&Ab(t)}catch(g){dt(t,t.return,g)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function iR(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function oR(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$m(4,t)}catch(c){dt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){dt(t,i,c)}}var s=t.return;try{Ab(t)}catch(c){dt(t,s,c)}break;case 5:var a=t.return;try{Ab(t)}catch(c){dt(t,a,c)}}}catch(c){dt(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var W5=Math.ceil,Dv=po.ReactCurrentDispatcher,RE=po.ReactCurrentOwner,Or=po.ReactCurrentBatchConfig,Pe=0,Wt=null,It=null,tn=0,sr=0,Ku=Es(0),Ot=0,th=null,ka=0,qm=0,xE=0,If=null,qn=null,PE=0,dl=1/0,Hi=null,Lv=!1,Pb=null,es=null,Rp=!1,Wo=null,Mv=0,Sf=0,Ob=null,rv=-1,iv=0;function Pn(){return Pe&6?yt():rv!==-1?rv:rv=yt()}function ts(e){return e.mode&1?Pe&2&&tn!==0?tn&-tn:N5.transition!==null?(iv===0&&(iv=J2()),iv):(e=$e,e!==0||(e=window.event,e=e===void 0?16:oO(e.type)),e):1}function oi(e,t,n,r){if(50<Sf)throw Sf=0,Ob=null,Error(W(185));xh(e,n,r),(!(Pe&2)||e!==Wt)&&(e===Wt&&(!(Pe&2)&&(qm|=n),Ot===4&&Uo(e,tn)),Yn(e,r),n===1&&Pe===0&&!(t.mode&1)&&(dl=yt()+500,jm&&Ts()))}function Yn(e,t){var n=e.callbackNode;N$(e,t);var r=wv(e,e===Wt?tn:0);if(r===0)n!==null&&pA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pA(n),t===1)e.tag===0?C5(sR.bind(null,e)):IO(sR.bind(null,e)),T5(function(){!(Pe&6)&&Ts()}),n=null;else{switch(Z2(r)){case 1:n=iE;break;case 4:n=Y2;break;case 16:n=yv;break;case 536870912:n=X2;break;default:n=yv}n=TD(n,mD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mD(e,t){if(rv=-1,iv=0,Pe&6)throw Error(W(327));var n=e.callbackNode;if(tl()&&e.callbackNode!==n)return null;var r=wv(e,e===Wt?tn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fv(e,r);else{t=r;var i=Pe;Pe|=2;var s=yD();(Wt!==e||tn!==t)&&(Hi=null,dl=yt()+500,pa(e,t));do try{G5();break}catch(l){gD(e,l)}while(1);gE(),Dv.current=s,Pe=i,It!==null?t=0:(Wt=null,tn=0,t=Ot)}if(t!==0){if(t===2&&(i=sb(e),i!==0&&(r=i,t=Db(e,i))),t===1)throw n=th,pa(e,0),Uo(e,r),Yn(e,yt()),n;if(t===6)Uo(e,r);else{if(i=e.current.alternate,!(r&30)&&!H5(i)&&(t=Fv(e,r),t===2&&(s=sb(e),s!==0&&(r=s,t=Db(e,s))),t===1))throw n=th,pa(e,0),Uo(e,r),Yn(e,yt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Zs(e,qn,Hi);break;case 3:if(Uo(e,r),(r&130023424)===r&&(t=PE+500-yt(),10<t)){if(wv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Pn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pb(Zs.bind(null,e,qn,Hi),t);break}Zs(e,qn,Hi);break;case 4:if(Uo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ii(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*W5(r/1960))-r,10<r){e.timeoutHandle=pb(Zs.bind(null,e,qn,Hi),r);break}Zs(e,qn,Hi);break;case 5:Zs(e,qn,Hi);break;default:throw Error(W(329))}}}return Yn(e,yt()),e.callbackNode===n?mD.bind(null,e):null}function Db(e,t){var n=If;return e.current.memoizedState.isDehydrated&&(pa(e,t).flags|=256),e=Fv(e,t),e!==2&&(t=qn,qn=n,t!==null&&Lb(t)),e}function Lb(e){qn===null?qn=e:qn.push.apply(qn,e)}function H5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ui(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uo(e,t){for(t&=~xE,t&=~qm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ii(t),r=1<<n;e[n]=-1,t&=~r}}function sR(e){if(Pe&6)throw Error(W(327));tl();var t=wv(e,0);if(!(t&1))return Yn(e,yt()),null;var n=Fv(e,t);if(e.tag!==0&&n===2){var r=sb(e);r!==0&&(t=r,n=Db(e,r))}if(n===1)throw n=th,pa(e,0),Uo(e,t),Yn(e,yt()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zs(e,qn,Hi),Yn(e,yt()),null}function OE(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(dl=yt()+500,jm&&Ts())}}function Ca(e){Wo!==null&&Wo.tag===0&&!(Pe&6)&&tl();var t=Pe;Pe|=1;var n=Or.transition,r=$e;try{if(Or.transition=null,$e=1,e)return e()}finally{$e=r,Or.transition=n,Pe=t,!(Pe&6)&&Ts()}}function DE(){sr=Ku.current,Je(Ku)}function pa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,E5(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(pE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Iv();break;case 3:fl(),Je(Gn),Je(yn),TE();break;case 5:EE(r);break;case 4:fl();break;case 13:Je(st);break;case 19:Je(st);break;case 10:yE(r.type._context);break;case 22:case 23:DE()}n=n.return}if(Wt=e,It=e=ns(e.current,null),tn=sr=t,Ot=0,th=null,xE=qm=ka=0,qn=If=null,sa!==null){for(t=0;t<sa.length;t++)if(n=sa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}sa=null}return e}function gD(e,t){do{var n=It;try{if(gE(),ev.current=Ov,Pv){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pv=!1}if(Sa=0,Vt=xt=lt=null,Ef=!1,Jf=0,RE.current=null,n===null||n.return===null){Ot=1,th=t,It=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=tn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,v=p.tag;if(!(p.mode&1)&&(v===0||v===11||v===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var y=KA(a);if(y!==null){y.flags&=-257,GA(y,a,l,s,t),y.mode&1&&HA(s,h,t),t=y,c=h;var _=t.updateQueue;if(_===null){var T=new Set;T.add(c),t.updateQueue=T}else _.add(c);break e}else{if(!(t&1)){HA(s,h,t),LE();break e}c=Error(W(426))}}else if(nt&&l.mode&1){var S=KA(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),GA(S,a,l,s,t),vE(hl(c,l));break e}}s=c=hl(c,l),Ot!==4&&(Ot=2),If===null?If=[s]:If.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var E=eD(s,c,t);jA(s,E);break e;case 1:l=c;var I=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(es===null||!es.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t;var P=tD(s,l,t);jA(s,P);break e}}s=s.return}while(s!==null)}_D(n)}catch(D){t=D,It===n&&n!==null&&(It=n=n.return);continue}break}while(1)}function yD(){var e=Dv.current;return Dv.current=Ov,e===null?Ov:e}function LE(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Wt===null||!(ka&268435455)&&!(qm&268435455)||Uo(Wt,tn)}function Fv(e,t){var n=Pe;Pe|=2;var r=yD();(Wt!==e||tn!==t)&&(Hi=null,pa(e,t));do try{K5();break}catch(i){gD(e,i)}while(1);if(gE(),Pe=n,Dv.current=r,It!==null)throw Error(W(261));return Wt=null,tn=0,Ot}function K5(){for(;It!==null;)wD(It)}function G5(){for(;It!==null&&!w$();)wD(It)}function wD(e){var t=ED(e.alternate,e,sr);e.memoizedProps=e.pendingProps,t===null?_D(e):It=t,RE.current=null}function _D(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=B5(n,t),n!==null){n.flags&=32767,It=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,It=null;return}}else if(n=V5(n,t,sr),n!==null){It=n;return}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Ot===0&&(Ot=5)}function Zs(e,t,n){var r=$e,i=Or.transition;try{Or.transition=null,$e=1,Q5(e,t,n,r)}finally{Or.transition=i,$e=r}return null}function Q5(e,t,n,r){do tl();while(Wo!==null);if(Pe&6)throw Error(W(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(A$(e,s),e===Wt&&(It=Wt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rp||(Rp=!0,TD(yv,function(){return tl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Or.transition,Or.transition=null;var a=$e;$e=1;var l=Pe;Pe|=4,RE.current=null,q5(e,n),pD(n,e),v5(hb),_v=!!fb,hb=fb=null,e.current=n,z5(n),_$(),Pe=l,$e=a,Or.transition=s}else e.current=n;if(Rp&&(Rp=!1,Wo=e,Mv=i),s=e.pendingLanes,s===0&&(es=null),T$(n.stateNode),Yn(e,yt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lv)throw Lv=!1,e=Pb,Pb=null,e;return Mv&1&&e.tag!==0&&tl(),s=e.pendingLanes,s&1?e===Ob?Sf++:(Sf=0,Ob=e):Sf=0,Ts(),null}function tl(){if(Wo!==null){var e=Z2(Mv),t=Or.transition,n=$e;try{if(Or.transition=null,$e=16>e?16:e,Wo===null)var r=!1;else{if(e=Wo,Wo=null,Mv=0,Pe&6)throw Error(W(331));var i=Pe;for(Pe|=4,Z=e.current;Z!==null;){var s=Z,a=s.child;if(Z.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Z=h;Z!==null;){var p=Z;switch(p.tag){case 0:case 11:case 15:Tf(8,p,s)}var v=p.child;if(v!==null)v.return=p,Z=v;else for(;Z!==null;){p=Z;var g=p.sibling,y=p.return;if(fD(p),p===h){Z=null;break}if(g!==null){g.return=y,Z=g;break}Z=y}}}var _=s.alternate;if(_!==null){var T=_.child;if(T!==null){_.child=null;do{var S=T.sibling;T.sibling=null,T=S}while(T!==null)}}Z=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Z=a;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tf(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Z=E;break e}Z=s.return}}var I=e.current;for(Z=I;Z!==null;){a=Z;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,Z=k;else e:for(a=I;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$m(9,l)}}catch(D){dt(l,l.return,D)}if(l===a){Z=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Z=P;break e}Z=l.return}}if(Pe=i,Ts(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Dm,e)}catch{}r=!0}return r}finally{$e=n,Or.transition=t}}return!1}function aR(e,t,n){t=hl(n,t),t=eD(e,t,1),e=Zo(e,t,1),t=Pn(),e!==null&&(xh(e,1,t),Yn(e,t))}function dt(e,t,n){if(e.tag===3)aR(e,e,n);else for(;t!==null;){if(t.tag===3){aR(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(es===null||!es.has(r))){e=hl(n,e),e=tD(t,e,1),t=Zo(t,e,1),e=Pn(),t!==null&&(xh(t,1,e),Yn(t,e));break}}t=t.return}}function Y5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Pn(),e.pingedLanes|=e.suspendedLanes&n,Wt===e&&(tn&n)===n&&(Ot===4||Ot===3&&(tn&130023424)===tn&&500>yt()-PE?pa(e,0):xE|=n),Yn(e,t)}function bD(e,t){t===0&&(e.mode&1?(t=_p,_p<<=1,!(_p&130023424)&&(_p=4194304)):t=1);var n=Pn();e=ao(e,t),e!==null&&(xh(e,t,n),Yn(e,n))}function X5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bD(e,n)}function J5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),bD(e,n)}var ED;ED=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Hn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Hn=!1,j5(e,t,n);Hn=!!(e.flags&131072)}else Hn=!1,nt&&t.flags&1048576&&SO(t,Cv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nv(e,t),e=t.pendingProps;var i=ul(t,yn.current);el(t,n),i=SE(null,t,r,e,i,n);var s=kE();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qn(r)?(s=!0,Sv(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_E(t),i.updater=Vm,t.stateNode=i,i._reactInternals=t,bb(t,r,e,n),t=Ib(null,t,r,!0,s,n)):(t.tag=0,nt&&s&&dE(t),Sn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nv(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=eq(r),e=Zr(r,e),i){case 0:t=Tb(null,t,r,e,n);break e;case 1:t=XA(null,t,r,e,n);break e;case 11:t=QA(null,t,r,e,n);break e;case 14:t=YA(null,t,r,Zr(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zr(r,i),Tb(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zr(r,i),XA(e,t,r,i,n);case 3:e:{if(oD(t),e===null)throw Error(W(387));r=t.pendingProps,s=t.memoizedState,i=s.element,AO(e,t),Rv(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=hl(Error(W(423)),t),t=JA(e,t,r,n,i);break e}else if(r!==i){i=hl(Error(W(424)),t),t=JA(e,t,r,n,i);break e}else for(cr=Jo(t.stateNode.containerInfo.firstChild),dr=t,nt=!0,ni=null,n=OO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ll(),r===i){t=uo(e,t,n);break e}Sn(e,t,r,n)}t=t.child}return t;case 5:return DO(t),e===null&&yb(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,db(r,i)?a=null:s!==null&&db(r,s)&&(t.flags|=32),iD(e,t),Sn(e,t,a,n),t.child;case 6:return e===null&&yb(t),null;case 13:return sD(e,t,n);case 4:return bE(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cl(t,null,r,n):Sn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zr(r,i),QA(e,t,r,i,n);case 7:return Sn(e,t,t.pendingProps,n),t.child;case 8:return Sn(e,t,t.pendingProps.children,n),t.child;case 12:return Sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ge(Nv,r._currentValue),r._currentValue=a,s!==null)if(ui(s.value,a)){if(s.children===i.children&&!Gn.current){t=uo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=to(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),wb(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(W(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),wb(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Sn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,el(t,n),i=Mr(i),r=r(i),t.flags|=1,Sn(e,t,r,n),t.child;case 14:return r=t.type,i=Zr(r,t.pendingProps),i=Zr(r.type,i),YA(e,t,r,i,n);case 15:return nD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zr(r,i),nv(e,t),t.tag=1,Qn(r)?(e=!0,Sv(t)):e=!1,el(t,n),xO(t,r,i),bb(t,r,i,n),Ib(null,t,r,!0,e,n);case 19:return aD(e,t,n);case 22:return rD(e,t,n)}throw Error(W(156,t.tag))};function TD(e,t){return Q2(e,t)}function Z5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(e,t,n,r){return new Z5(e,t,n,r)}function ME(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eq(e){if(typeof e=="function")return ME(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tE)return 11;if(e===nE)return 14}return 2}function ns(e,t){var n=e.alternate;return n===null?(n=Cr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ov(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")ME(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Fu:return va(n.children,i,s,t);case eE:a=8,i|=8;break;case W_:return e=Cr(12,n,t,i|2),e.elementType=W_,e.lanes=s,e;case H_:return e=Cr(13,n,t,i),e.elementType=H_,e.lanes=s,e;case K_:return e=Cr(19,n,t,i),e.elementType=K_,e.lanes=s,e;case P2:return zm(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R2:a=10;break e;case x2:a=9;break e;case tE:a=11;break e;case nE:a=14;break e;case Do:a=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Cr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function va(e,t,n,r){return e=Cr(7,e,r,t),e.lanes=n,e}function zm(e,t,n,r){return e=Cr(22,e,r,t),e.elementType=P2,e.lanes=n,e.stateNode={isHidden:!1},e}function Jw(e,t,n){return e=Cr(6,e,null,t),e.lanes=n,e}function Zw(e,t,n){return t=Cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tq(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ow(0),this.expirationTimes=Ow(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ow(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function FE(e,t,n,r,i,s,a,l,c){return e=new tq(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Cr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_E(s),e}function nq(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ID(e){if(!e)return hs;e=e._reactInternals;e:{if(Ba(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Qn(n))return TO(e,n,t)}return t}function SD(e,t,n,r,i,s,a,l,c){return e=FE(n,r,!0,e,i,s,a,l,c),e.context=ID(null),n=e.current,r=Pn(),i=ts(n),s=to(r,i),s.callback=t??null,Zo(n,s,i),e.current.lanes=i,xh(e,i,r),Yn(e,r),e}function Wm(e,t,n,r){var i=t.current,s=Pn(),a=ts(i);return n=ID(n),t.context===null?t.context=n:t.pendingContext=n,t=to(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zo(i,t,a),e!==null&&(oi(e,i,a,s),Zp(e,i,a)),a}function Uv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function UE(e,t){uR(e,t),(e=e.alternate)&&uR(e,t)}function rq(){return null}var kD=typeof reportError=="function"?reportError:function(e){console.error(e)};function jE(e){this._internalRoot=e}Hm.prototype.render=jE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Wm(e,t,null,null)};Hm.prototype.unmount=jE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ca(function(){Wm(null,e,null,null)}),t[so]=null}};function Hm(e){this._internalRoot=e}Hm.prototype.unstable_scheduleHydration=function(e){if(e){var t=nO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fo.length&&t!==0&&t<Fo[n].priority;n++);Fo.splice(n,0,e),n===0&&iO(e)}};function VE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Km(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lR(){}function iq(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Uv(a);s.call(h)}}var a=SD(t,r,e,0,null,!1,!1,"",lR);return e._reactRootContainer=a,e[so]=a.current,Kf(e.nodeType===8?e.parentNode:e),Ca(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Uv(c);l.call(h)}}var c=FE(e,0,!1,null,null,!1,!1,"",lR);return e._reactRootContainer=c,e[so]=c.current,Kf(e.nodeType===8?e.parentNode:e),Ca(function(){Wm(t,c,n,r)}),c}function Gm(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Uv(a);l.call(c)}}Wm(t,a,e,i)}else a=iq(n,t,e,i,r);return Uv(a)}eO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=df(t.pendingLanes);n!==0&&(oE(t,n|1),Yn(t,yt()),!(Pe&6)&&(dl=yt()+500,Ts()))}break;case 13:Ca(function(){var r=ao(e,1);if(r!==null){var i=Pn();oi(r,e,1,i)}}),UE(e,1)}};sE=function(e){if(e.tag===13){var t=ao(e,134217728);if(t!==null){var n=Pn();oi(t,e,134217728,n)}UE(e,134217728)}};tO=function(e){if(e.tag===13){var t=ts(e),n=ao(e,t);if(n!==null){var r=Pn();oi(n,e,t,r)}UE(e,t)}};nO=function(){return $e};rO=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}};rb=function(e,t,n){switch(t){case"input":if(Y_(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Um(r);if(!i)throw Error(W(90));D2(r),Y_(r,i)}}}break;case"textarea":M2(e,n);break;case"select":t=n.value,t!=null&&Yu(e,!!n.multiple,t,!1)}};q2=OE;z2=Ca;var oq={usingClientEntryPoint:!1,Events:[Oh,Bu,Um,B2,$2,OE]},tf={findFiberByHostInstance:oa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sq={bundleType:tf.bundleType,version:tf.version,rendererPackageName:tf.rendererPackageName,rendererConfig:tf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:po.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=K2(e),e===null?null:e.stateNode},findFiberByHostInstance:tf.findFiberByHostInstance||rq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xp.isDisabled&&xp.supportsFiber)try{Dm=xp.inject(sq),Ii=xp}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oq;wr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VE(t))throw Error(W(200));return nq(e,t,null,n)};wr.createRoot=function(e,t){if(!VE(e))throw Error(W(299));var n=!1,r="",i=kD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=FE(e,1,!1,null,null,n,!1,r,i),e[so]=t.current,Kf(e.nodeType===8?e.parentNode:e),new jE(t)};wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=K2(t),e=e===null?null:e.stateNode,e};wr.flushSync=function(e){return Ca(e)};wr.hydrate=function(e,t,n){if(!Km(t))throw Error(W(200));return Gm(null,e,t,!0,n)};wr.hydrateRoot=function(e,t,n){if(!VE(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=kD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=SD(t,null,e,1,n??null,i,!1,s,a),e[so]=t.current,Kf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Hm(t)};wr.render=function(e,t,n){if(!Km(t))throw Error(W(200));return Gm(null,e,t,!1,n)};wr.unmountComponentAtNode=function(e){if(!Km(e))throw Error(W(40));return e._reactRootContainer?(Ca(function(){Gm(null,null,e,!1,function(){e._reactRootContainer=null,e[so]=null})}),!0):!1};wr.unstable_batchedUpdates=OE;wr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Km(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Gm(e,t,n,!1,r)};wr.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=wr})(r$);var cR=$_;B_.createRoot=cR.createRoot,B_.hydrateRoot=cR.hydrateRoot;/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(this,arguments)}var Ho;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ho||(Ho={}));const fR="popstate";function aq(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return Mb("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rh(i)}return lq(t,n,null,e)}function kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uq(){return Math.random().toString(36).substr(2,8)}function hR(e,t){return{usr:e.state,key:e.key,idx:t}}function Mb(e,t,n,r){return n===void 0&&(n=null),nh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Bl(t):t,{state:n,key:t&&t.key||r||uq()})}function rh(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function lq(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Ho.Pop,c=null,h=p();h==null&&(h=0,a.replaceState(nh({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function v(){l=Ho.Pop;let S=p(),E=S==null?null:S-h;h=S,c&&c({action:l,location:T.location,delta:E})}function g(S,E){l=Ho.Push;let I=Mb(T.location,S,E);n&&n(I,S),h=p()+1;let k=hR(I,h),P=T.createHref(I);try{a.pushState(k,"",P)}catch{i.location.assign(P)}s&&c&&c({action:l,location:T.location,delta:1})}function y(S,E){l=Ho.Replace;let I=Mb(T.location,S,E);n&&n(I,S),h=p();let k=hR(I,h),P=T.createHref(I);a.replaceState(k,"",P),s&&c&&c({action:l,location:T.location,delta:0})}function _(S){let E=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof S=="string"?S:rh(S);return kt(E,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,E)}let T={get action(){return l},get location(){return e(i,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(fR,v),c=S,()=>{i.removeEventListener(fR,v),c=null}},createHref(S){return t(i,S)},createURL:_,encodeLocation(S){let E=_(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:y,go(S){return a.go(S)}};return T}var dR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dR||(dR={}));function cq(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Bl(t):t,i=AD(r.pathname||"/",n);if(i==null)return null;let s=CD(e);fq(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=_q(s[l],Tq(i));return a}function CD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(kt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=rs([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),CD(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:yq(h,s.index),routesMeta:p})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of ND(s.path))i(s,a,c)}),t}function ND(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=ND(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function fq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:wq(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hq=/^:\w+$/,dq=3,pq=2,vq=1,mq=10,gq=-2,pR=e=>e==="*";function yq(e,t){let n=e.split("/"),r=n.length;return n.some(pR)&&(r+=gq),t&&(r+=pq),n.filter(i=>!pR(i)).reduce((i,s)=>i+(hq.test(s)?dq:s===""?vq:mq),r)}function wq(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function _q(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=bq({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!p)return null;Object.assign(r,p.params);let v=l.route;s.push({params:r,pathname:rs([i,p.pathname]),pathnameBase:Cq(rs([i,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(i=rs([i,p.pathnameBase]))}return s}function bq(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Eq(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,v)=>{if(p==="*"){let g=l[v]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return h[p]=Iq(l[v]||"",p),h},{}),pathname:s,pathnameBase:a,pattern:e}}function Eq(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),BE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Tq(e){try{return decodeURI(e)}catch(t){return BE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Iq(e,t){try{return decodeURIComponent(e)}catch(n){return BE(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function AD(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function BE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sq(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Bl(e):e;return{pathname:n?n.startsWith("/")?n:kq(n,t):t,search:Nq(r),hash:Aq(i)}}function kq(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function e_(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function RD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xD(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Bl(e):(i=nh({},e),kt(!i.pathname||!i.pathname.includes("?"),e_("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),e_("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),e_("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(r||a==null)l=n;else{let v=t.length-1;if(a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),v-=1;i.pathname=g.join("/")}l=v>=0?t[v]:"/"}let c=Sq(i,l),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const rs=e=>e.join("/").replace(/\/\/+/g,"/"),Cq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Nq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Aq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Rq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xq=["post","put","patch","delete"];[...xq];/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fb.apply(this,arguments)}function Pq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Oq=typeof Object.is=="function"?Object.is:Pq,{useState:Dq,useEffect:Lq,useLayoutEffect:Mq,useDebugValue:Fq}=V_;function Uq(e,t,n){const r=t(),[{inst:i},s]=Dq({inst:{value:r,getSnapshot:t}});return Mq(()=>{i.value=r,i.getSnapshot=t,t_(i)&&s({inst:i})},[e,r,t]),Lq(()=>(t_(i)&&s({inst:i}),e(()=>{t_(i)&&s({inst:i})})),[e]),Fq(r),r}function t_(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Oq(n,r)}catch{return!0}}function jq(e,t,n){return t()}const Vq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bq=!Vq,$q=Bq?jq:Uq;"useSyncExternalStore"in V_&&(e=>e.useSyncExternalStore)(V_);const PD=J.createContext(null),Qm=J.createContext(null),Lh=J.createContext(null),Ym=J.createContext(null),$l=J.createContext({outlet:null,matches:[]}),OD=J.createContext(null);function qq(e,t){let{relative:n}=t===void 0?{}:t;ql()||kt(!1);let{basename:r,navigator:i}=J.useContext(Lh),{hash:s,pathname:a,search:l}=$E(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:rs([r,a])),i.createHref({pathname:c,search:l,hash:s})}function ql(){return J.useContext(Ym)!=null}function Mh(){return ql()||kt(!1),J.useContext(Ym).location}function DD(){ql()||kt(!1);let{basename:e,navigator:t}=J.useContext(Lh),{matches:n}=J.useContext($l),{pathname:r}=Mh(),i=JSON.stringify(RD(n).map(l=>l.pathnameBase)),s=J.useRef(!1);return J.useEffect(()=>{s.current=!0}),J.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){t.go(l);return}let h=xD(l,JSON.parse(i),r,c.relative==="path");e!=="/"&&(h.pathname=h.pathname==="/"?e:rs([e,h.pathname])),(c.replace?t.replace:t.push)(h,c.state,c)},[e,t,i,r])}function $E(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=J.useContext($l),{pathname:i}=Mh(),s=JSON.stringify(RD(r).map(a=>a.pathnameBase));return J.useMemo(()=>xD(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function zq(e,t){ql()||kt(!1);let{navigator:n}=J.useContext(Lh),r=J.useContext(Qm),{matches:i}=J.useContext($l),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Mh(),h;if(t){var p;let T=typeof t=="string"?Bl(t):t;l==="/"||(p=T.pathname)!=null&&p.startsWith(l)||kt(!1),h=T}else h=c;let v=h.pathname||"/",g=l==="/"?v:v.slice(l.length)||"/",y=cq(e,{pathname:g}),_=Gq(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:rs([l,n.encodeLocation?n.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:rs([l,n.encodeLocation?n.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,r||void 0);return t&&_?J.createElement(Ym.Provider,{value:{location:Fb({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ho.Pop}},_):_}function Wq(){let e=Jq(),t=Rq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},t),n?J.createElement("pre",{style:i},n):null,s)}class Hq extends J.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?J.createElement($l.Provider,{value:this.props.routeContext},J.createElement(OD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kq(e){let{routeContext:t,match:n,children:r}=e,i=J.useContext(PD);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement($l.Provider,{value:t},r)}function Gq(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(a=>a.route.id&&(i==null?void 0:i[a.route.id]));s>=0||kt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,a,l)=>{let c=a.route.id?i==null?void 0:i[a.route.id]:null,h=n?a.route.errorElement||J.createElement(Wq,null):null,p=t.concat(r.slice(0,l+1)),v=()=>J.createElement(Kq,{match:a,routeContext:{outlet:s,matches:p}},c?h:a.route.element!==void 0?a.route.element:s);return n&&(a.route.errorElement||l===0)?J.createElement(Hq,{location:n.location,component:h,error:c,children:v(),routeContext:{outlet:null,matches:p}}):v()},null)}var vR;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(vR||(vR={}));var jv;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(jv||(jv={}));function Qq(e){let t=J.useContext(Qm);return t||kt(!1),t}function Yq(e){let t=J.useContext($l);return t||kt(!1),t}function Xq(e){let t=Yq(),n=t.matches[t.matches.length-1];return n.route.id||kt(!1),n.route.id}function Jq(){var e;let t=J.useContext(OD),n=Qq(jv.UseRouteError),r=Xq(jv.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Zq(e){let{to:t,replace:n,state:r,relative:i}=e;ql()||kt(!1);let s=J.useContext(Qm),a=DD();return J.useEffect(()=>{s&&s.navigation.state!=="idle"||a(t,{replace:n,state:r,relative:i})}),null}function Pu(e){kt(!1)}function ez(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ho.Pop,navigator:s,static:a=!1}=e;ql()&&kt(!1);let l=t.replace(/^\/*/,"/"),c=J.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof r=="string"&&(r=Bl(r));let{pathname:h="/",search:p="",hash:v="",state:g=null,key:y="default"}=r,_=J.useMemo(()=>{let T=AD(h,l);return T==null?null:{pathname:T,search:p,hash:v,state:g,key:y}},[l,h,p,v,g,y]);return _==null?null:J.createElement(Lh.Provider,{value:c},J.createElement(Ym.Provider,{children:n,value:{location:_,navigationType:i}}))}function tz(e){let{children:t,location:n}=e,r=J.useContext(PD),i=r&&!t?r.router.routes:Ub(t);return zq(i,n)}var mR;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(mR||(mR={}));new Promise(()=>{});function Ub(e,t){t===void 0&&(t=[]);let n=[];return J.Children.forEach(e,(r,i)=>{if(!J.isValidElement(r))return;if(r.type===J.Fragment){n.push.apply(n,Ub(r.props.children,t));return}r.type!==Pu&&kt(!1),!r.props.index||!r.props.children||kt(!1);let s=[...t,i],a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(a.children=Ub(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vv.apply(this,arguments)}function LD(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function nz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rz(e,t){return e.button===0&&(!t||t==="_self")&&!nz(e)}const iz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],oz=["aria-current","caseSensitive","className","end","style","to","children"];function sz(e){let{basename:t,children:n,window:r}=e,i=J.useRef();i.current==null&&(i.current=aq({window:r,v5Compat:!0}));let s=i.current,[a,l]=J.useState({action:s.action,location:s.location});return J.useLayoutEffect(()=>s.listen(l),[s]),J.createElement(ez,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:s})}const az=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jb=J.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:p}=t,v=LD(t,iz),g=typeof h=="string"?h:rh(h),y=/^[a-z+]+:\/\//i.test(g)||g.startsWith("//"),_=g,T=!1;if(az&&y){let k=new URL(window.location.href),P=g.startsWith("//")?new URL(k.protocol+g):new URL(g);P.origin===k.origin?_=P.pathname+P.search+P.hash:T=!0}let S=qq(_,{relative:i}),E=uz(_,{replace:a,state:l,target:c,preventScrollReset:p,relative:i});function I(k){r&&r(k),k.defaultPrevented||E(k)}return J.createElement("a",Vv({},v,{href:y?g:S,onClick:T||s?r:I,ref:n,target:c}))}),nf=J.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,children:h}=t,p=LD(t,oz),v=$E(c,{relative:p.relative}),g=Mh(),y=J.useContext(Qm),{navigator:_}=J.useContext(Lh),T=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,S=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),E=E?E.toLowerCase():null,T=T.toLowerCase());let I=S===T||!a&&S.startsWith(T)&&S.charAt(T.length)==="/",k=E!=null&&(E===T||!a&&E.startsWith(T)&&E.charAt(T.length)==="/"),P=I?r:void 0,D;typeof s=="function"?D=s({isActive:I,isPending:k}):D=[s,I?"active":null,k?"pending":null].filter(Boolean).join(" ");let x=typeof l=="function"?l({isActive:I,isPending:k}):l;return J.createElement(jb,Vv({},p,{"aria-current":P,className:D,ref:n,style:x,to:c}),typeof h=="function"?h({isActive:I,isPending:k}):h)});var gR;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(gR||(gR={}));var yR;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yR||(yR={}));function uz(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a}=t===void 0?{}:t,l=DD(),c=Mh(),h=$E(e,{relative:a});return J.useCallback(p=>{if(rz(p,n)){p.preventDefault();let v=r!==void 0?r:rh(c)===rh(h);l(e,{replace:v,state:i,preventScrollReset:s,relative:a})}},[c,l,h,r,i,n,e,s,a])}const lz=[{name:"Tailwind CSS",type:"Frontend",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tailwindcss/tailwindcss-plain.svg"},{name:"Bootstrap",type:"Frontend",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/bootstrap/bootstrap-original.svg"},{name:"Javascript",type:"Frontend",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg"},{name:"Typescript",type:"Frontend",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg"},{name:"JQuery",type:"Frontend",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/jquery/jquery-original.svg"},{name:"React",type:"Frontend",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg"},{name:"Redux",type:"Frontend",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/redux/redux-original.svg"},{name:"NodeJS",type:"Backend",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg"},{name:"Figma",type:"Tool",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/figma/figma-original.svg"},{name:"Photoshop",type:"Tool",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/photoshop/photoshop-plain.svg"},{name:"GIMP",type:"Tool",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/gimp/gimp-original.svg"},{name:"GIT",type:"Tool",img:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/git/git-original.svg"}];var MD="Expected a function",wR=0/0,cz="[object Symbol]",fz=/^\s+|\s+$/g,hz=/^[-+]0x[0-9a-f]+$/i,dz=/^0b[01]+$/i,pz=/^0o[0-7]+$/i,vz=parseInt,mz=typeof qo=="object"&&qo&&qo.Object===Object&&qo,gz=typeof self=="object"&&self&&self.Object===Object&&self,yz=mz||gz||Function("return this")(),wz=Object.prototype,_z=wz.toString,bz=Math.max,Ez=Math.min,n_=function(){return yz.Date.now()};function Tz(e,t,n){var r,i,s,a,l,c,h=0,p=!1,v=!1,g=!0;if(typeof e!="function")throw new TypeError(MD);t=_R(t)||0,Bv(n)&&(p=!!n.leading,v="maxWait"in n,s=v?bz(_R(n.maxWait)||0,t):s,g="trailing"in n?!!n.trailing:g);function y(x){var V=r,F=i;return r=i=void 0,h=x,a=e.apply(F,V),a}function _(x){return h=x,l=setTimeout(E,t),p?y(x):a}function T(x){var V=x-c,F=x-h,ue=t-V;return v?Ez(ue,s-F):ue}function S(x){var V=x-c,F=x-h;return c===void 0||V>=t||V<0||v&&F>=s}function E(){var x=n_();if(S(x))return I(x);l=setTimeout(E,T(x))}function I(x){return l=void 0,g&&r?y(x):(r=i=void 0,a)}function k(){l!==void 0&&clearTimeout(l),h=0,r=c=i=l=void 0}function P(){return l===void 0?a:I(n_())}function D(){var x=n_(),V=S(x);if(r=arguments,i=this,c=x,V){if(l===void 0)return _(c);if(v)return l=setTimeout(E,t),y(c)}return l===void 0&&(l=setTimeout(E,t)),a}return D.cancel=k,D.flush=P,D}function Iz(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(MD);return Bv(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Tz(e,t,{leading:r,maxWait:t,trailing:i})}function Bv(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Sz(e){return!!e&&typeof e=="object"}function kz(e){return typeof e=="symbol"||Sz(e)&&_z.call(e)==cz}function _R(e){if(typeof e=="number")return e;if(kz(e))return wR;if(Bv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Bv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(fz,"");var n=dz.test(e);return n||pz.test(e)?vz(e.slice(2),n?2:8):hz.test(e)?wR:+e}var Cz=Iz,Nz="Expected a function",bR=0/0,Az="[object Symbol]",Rz=/^\s+|\s+$/g,xz=/^[-+]0x[0-9a-f]+$/i,Pz=/^0b[01]+$/i,Oz=/^0o[0-7]+$/i,Dz=parseInt,Lz=typeof qo=="object"&&qo&&qo.Object===Object&&qo,Mz=typeof self=="object"&&self&&self.Object===Object&&self,Fz=Lz||Mz||Function("return this")(),Uz=Object.prototype,jz=Uz.toString,Vz=Math.max,Bz=Math.min,r_=function(){return Fz.Date.now()};function $z(e,t,n){var r,i,s,a,l,c,h=0,p=!1,v=!1,g=!0;if(typeof e!="function")throw new TypeError(Nz);t=ER(t)||0,Vb(n)&&(p=!!n.leading,v="maxWait"in n,s=v?Vz(ER(n.maxWait)||0,t):s,g="trailing"in n?!!n.trailing:g);function y(x){var V=r,F=i;return r=i=void 0,h=x,a=e.apply(F,V),a}function _(x){return h=x,l=setTimeout(E,t),p?y(x):a}function T(x){var V=x-c,F=x-h,ue=t-V;return v?Bz(ue,s-F):ue}function S(x){var V=x-c,F=x-h;return c===void 0||V>=t||V<0||v&&F>=s}function E(){var x=r_();if(S(x))return I(x);l=setTimeout(E,T(x))}function I(x){return l=void 0,g&&r?y(x):(r=i=void 0,a)}function k(){l!==void 0&&clearTimeout(l),h=0,r=c=i=l=void 0}function P(){return l===void 0?a:I(r_())}function D(){var x=r_(),V=S(x);if(r=arguments,i=this,c=x,V){if(l===void 0)return _(c);if(v)return l=setTimeout(E,t),y(c)}return l===void 0&&(l=setTimeout(E,t)),a}return D.cancel=k,D.flush=P,D}function Vb(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function qz(e){return!!e&&typeof e=="object"}function zz(e){return typeof e=="symbol"||qz(e)&&jz.call(e)==Az}function ER(e){if(typeof e=="number")return e;if(zz(e))return bR;if(Vb(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Vb(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Rz,"");var n=Pz.test(e);return n||Oz.test(e)?Dz(e.slice(2),n?2:8):xz.test(e)?bR:+e}var TR=$z,FD=function(){};function UD(e){var t=void 0,n=void 0,r=void 0;for(t=0;t<e.length;t+=1)if(n=e[t],n.dataset&&n.dataset.aos||(r=n.children&&UD(n.children),r))return!0;return!1}function Wz(e){e&&e.forEach(function(t){var n=Array.prototype.slice.call(t.addedNodes),r=Array.prototype.slice.call(t.removedNodes),i=n.concat(r);if(UD(i))return FD()})}function jD(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function Hz(){return!!jD()}function Kz(e,t){var n=window.document,r=jD(),i=new r(Wz);FD=t,i.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}var IR={isSupported:Hz,ready:Kz},Gz=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Qz=function(){function e(t,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Yz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xz=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,Jz=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Zz=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,e8=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function SR(){return navigator.userAgent||navigator.vendor||window.opera||""}var t8=function(){function e(){Gz(this,e)}return Qz(e,[{key:"phone",value:function(){var n=SR();return!!(Xz.test(n)||Jz.test(n.substr(0,4)))}},{key:"mobile",value:function(){var n=SR();return!!(Zz.test(n)||e8.test(n.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}},{key:"ie11",value:function(){return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style}}]),e}(),sv=new t8,n8=function(t,n){return n&&n.forEach(function(r){return t.classList.add(r)})},r8=function(t,n){return n&&n.forEach(function(r){return t.classList.remove(r)})},Pp=function(t,n){var r=void 0;return sv.ie11()?(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,{detail:n})):r=new CustomEvent(t,{detail:n}),document.dispatchEvent(r)},i8=function(t,n){var r=t.options,i=t.position,s=t.node;t.data;var a=function(){t.animated&&(r8(s,r.animatedClassNames),Pp("aos:out",s),t.options.id&&Pp("aos:in:"+t.options.id,s),t.animated=!1)},l=function(){t.animated||(n8(s,r.animatedClassNames),Pp("aos:in",s),t.options.id&&Pp("aos:in:"+t.options.id,s),t.animated=!0)};r.mirror&&n>=i.out&&!r.once?a():n>=i.in?l():t.animated&&!r.once&&a()},kR=function(t){return t.forEach(function(n,r){return i8(n,window.pageYOffset)})},VD=function(t){for(var n=0,r=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)n+=t.offsetLeft-(t.tagName!="BODY"?t.scrollLeft:0),r+=t.offsetTop-(t.tagName!="BODY"?t.scrollTop:0),t=t.offsetParent;return{top:r,left:n}},is=function(e,t,n){var r=e.getAttribute("data-aos-"+t);if(typeof r<"u"){if(r==="true")return!0;if(r==="false")return!1}return r||n},o8=function(t,n,r){var i=window.innerHeight,s=is(t,"anchor"),a=is(t,"anchor-placement"),l=Number(is(t,"offset",a?0:n)),c=a||r,h=t;s&&document.querySelectorAll(s)&&(h=document.querySelectorAll(s)[0]);var p=VD(h).top-i;switch(c){case"top-bottom":break;case"center-bottom":p+=h.offsetHeight/2;break;case"bottom-bottom":p+=h.offsetHeight;break;case"top-center":p+=i/2;break;case"center-center":p+=i/2+h.offsetHeight/2;break;case"bottom-center":p+=i/2+h.offsetHeight;break;case"top-top":p+=i;break;case"bottom-top":p+=i+h.offsetHeight;break;case"center-top":p+=i+h.offsetHeight/2;break}return p+l},s8=function(t,n){var r=is(t,"anchor"),i=is(t,"offset",n),s=t;r&&document.querySelectorAll(r)&&(s=document.querySelectorAll(r)[0]);var a=VD(s).top;return a+s.offsetHeight-i},a8=function(t,n){return t.forEach(function(r,i){var s=is(r.node,"mirror",n.mirror),a=is(r.node,"once",n.once),l=is(r.node,"id"),c=n.useClassNames&&r.node.getAttribute("data-aos"),h=[n.animatedClassName].concat(c?c.split(" "):[]).filter(function(p){return typeof p=="string"});n.initClassName&&r.node.classList.add(n.initClassName),r.position={in:o8(r.node,n.offset,n.anchorPlacement),out:s&&s8(r.node,n.offset)},r.options={once:a,mirror:s,animatedClassNames:h,id:l}}),t},BD=function(){var e=document.querySelectorAll("[data-aos]");return Array.prototype.map.call(e,function(t){return{node:t}})},Qi=[],CR=!1,ht={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:"top-bottom",startEvent:"DOMContentLoaded",animatedClassName:"aos-animate",initClassName:"aos-init",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50},$D=function(){return document.all&&!window.atob},u8=function(){return Qi=a8(Qi,ht),kR(Qi),window.addEventListener("scroll",Cz(function(){kR(Qi,ht.once)},ht.throttleDelay)),Qi},na=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;t&&(CR=!0),CR&&u8()},qD=function(){if(Qi=BD(),WD(ht.disable)||$D())return zD();na()},zD=function(){Qi.forEach(function(t,n){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay"),ht.initClassName&&t.node.classList.remove(ht.initClassName),ht.animatedClassName&&t.node.classList.remove(ht.animatedClassName)})},WD=function(t){return t===!0||t==="mobile"&&sv.mobile()||t==="phone"&&sv.phone()||t==="tablet"&&sv.tablet()||typeof t=="function"&&t()===!0},l8=function(t){return ht=Yz(ht,t),Qi=BD(),!ht.disableMutationObserver&&!IR.isSupported()&&(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),ht.disableMutationObserver=!0),ht.disableMutationObserver||IR.ready("[data-aos]",qD),WD(ht.disable)||$D()?zD():(document.querySelector("body").setAttribute("data-aos-easing",ht.easing),document.querySelector("body").setAttribute("data-aos-duration",ht.duration),document.querySelector("body").setAttribute("data-aos-delay",ht.delay),["DOMContentLoaded","load"].indexOf(ht.startEvent)===-1?document.addEventListener(ht.startEvent,function(){na(!0)}):window.addEventListener("load",function(){na(!0)}),ht.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1&&na(!0),window.addEventListener("resize",TR(na,ht.debounceDelay,!0)),window.addEventListener("orientationchange",TR(na,ht.debounceDelay,!0)),Qi)},qE={init:l8,refresh:na,refreshHard:qD};function c8(){return J.useEffect(()=>{qE.init()},[]),Se("section",{className:"grid grid-cols-1 pt-24 fluid-container gap-y-10 gap-x-6 lg:grid-cols-3 ml-12 mb-36","data-aos":"fade-up",children:[U("h2",{className:"text-2xl font-semibold leading-9 tracking-tight text-gray-100 ml-12",children:"Tools I use:"}),Se("div",{className:"prose-invert max-w-none lg:col-span-2 prose-gray prose-a:font-semibold prose-a:text-amber-500 hover:prose-a:text-amber-600",children:[U("p",{className:"w-9/12",children:"I get asked a lot about the things I use to create my designs and be productive. Here is a small list of some my favorite tools."}),U("div",{className:"mt-6 not-prose",children:U("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-2 md:grid-cols-[repeat(3,_300px)] mr-8",children:lz.map(e=>U("div",{className:"card",children:Se("div",{className:"rounded-xl p-3 flex space-x-2 items-center overflow-hidden h-full cursor-pointer border-solid border border-gray-600 hover:bg-fuchsia-600 w-full","data-aos":"fade-up",children:[U("img",{src:e.img,className:"flex-shrink-0 h-6 w-6",alt:"Logos of Frameworks, Programming Languages and different tools"}),U("p",{className:"normalText ml-3 opacity-80",children:e.name})]})},e.name))})})]})]})}const f8=[{title:"Snappy",description:"A functional Snapchat Clone Web Application where the user can sign in, take a picture and upload it to a database. The picture can be seen for 10 seconds and then it's no longer available.",img:"../images/snappy.png",tools:"React, Redux and Firebase",link:"https://snapchat-ab554.firebaseapp.com/",codeLink:"https://github.com/YoussefAyachi95/Snappy"},{title:"Text Based Dungeon Crawler",description:"A group project where the objective was to build a mini game using plain Javascript in the terminal. The game allows the player to go through different rooms in where there are different enemies randomly generated that the player needs to defeat.",img:"../images/dungeon_crawler.png",tools:"Javascript and Node.js",link:"https://github.com/YoussefAyachi95/Text-Based-Dungeon-Crawler",codeLink:"https://github.com/YoussefAyachi95/Text-Based-Dungeon-Crawler"}];function h8(){return J.useEffect(()=>{qE.init()},[]),U("div",{className:"fluid-container",id:"projects",children:U("div",{className:"py-16 space-y-24 lg:py-32 ml-20",children:f8.map(e=>Se("div",{className:"relative mt-12 grid items-center w-full grid-cols-1 gap-12 mx-auto lg:grid-cols-4 max-w-none mb-52","data-aos":"fade-up",children:[U("div",{className:"md:space-y-2 col-span-1 md:col-span-2  md:order-last",children:Se("div",{className:"relative z-0 w-full lg:scale-150 lg:translate-x-40  ",children:[U("div",{className:"absolute top-0 w-48 h-48 rounded-full bg-red-500/30 md:w-96 md:h-96 -left-2 md:-left-4 filter blur-2xl opacity-60 "}),U("div",{className:"absolute top-0 w-48 h-48 rounded-full bg-blue-500/30 md:w-96 md:h-96 -right-2 md:-right-4 filter blur-2xl opacity-60 "}),U("div",{className:"absolute w-48 h-48 rounded-full bg-pink-700/30 md:w-96 md:h-96 -bottom-8 left-10 md:left-20 filter blur-2xl opacity-60 "}),U("img",{src:e.img,alt:"This is the project screenshot example",className:"relative rounded-lg max-w-xs ml-4 hover:scale-110 border border-zinc-700"})]})}),Se("div",{className:"col-span-1 space-y-16 md:space-y-12 md:col-span-2",children:[Se("div",{className:"flex flex-col space-y-4 ",children:[Se("div",{className:"flex flex-row items-end w-auto space-x-2",children:[U("div",{className:"text-3xl font-bold tracking-[-0.04em] text-gray-200 sm:text-5xl sm:leading-[3.5rem]",children:e.title}),U("a",{href:e.link,target:"_blank",children:U("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 mb-1 text-amber-500 hover:text-amber-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),U("div",{className:"text-base leading-7 text-gray-300 w-10/12",children:U("p",{children:e.description})})]}),U("div",{className:"space-y-8",children:Se("div",{className:"grid gap-6 text-sm md:grid-cols-4 text-gray-300 lg:gap-6",children:[Se("div",{className:"flex-1 space-y-2 ",children:[U("div",{className:"leading-tight tracking-wide text-gray-400",children:"What did I use?"}),U("div",{className:"text-xs text-gray-300 lg:w-3/4 last:mb-0",children:U("p",{children:e.tools})})]}),Se("div",{className:"flex-1 space-y-2 ",children:[U("div",{className:"leading-tight tracking-wide text-gray-400 mb-[2px]",children:"Code Source:"}),U("a",{href:e.codeLink,target:"_blank",className:"lg:w-3/4 last:mb-0",children:"Github"})]})]})})]})]},e.title))})})}var HD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NR=eo.createContext&&eo.createContext(HD),os=globalThis&&globalThis.__assign||function(){return os=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},os.apply(this,arguments)},d8=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function KD(e){return e&&e.map(function(t,n){return eo.createElement(t.tag,os({key:n},t.attr),KD(t.child))})}function Fh(e){return function(t){return eo.createElement(p8,os({attr:os({},e.attr)},t),KD(e.child))}}function p8(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,a=d8(e,["attr","size","title"]),l=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),eo.createElement("svg",os({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:os(os({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&eo.createElement("title",null,s),e.children)};return NR!==void 0?eo.createElement(NR.Consumer,null,function(n){return t(n)}):t(HD)}function Bb(e){return Fh({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.9989871,1 C5.92550416,1 1,5.92482888 1,12.0003376 C1,16.8603395 4.15153934,20.9829338 8.52263728,22.4374904 C9.0729918,22.5387827 9.27355045,22.199116 9.27355045,21.9073943 C9.27355045,21.6467356 9.2640965,20.954572 9.25869425,20.0368642 C6.19899322,20.7013414 5.55342398,18.5620492 5.55342398,18.5620492 C5.0530403,17.2911692 4.33183953,16.9528531 4.33183953,16.9528531 C3.33309801,16.2708186 4.40747107,16.2843243 4.40747107,16.2843243 C5.51155652,16.3619816 6.09229872,17.4181221 6.09229872,17.4181221 C7.07348292,19.0988981 8.66714755,18.6133706 9.2938089,18.3317781 C9.39375058,17.6213819 9.67804414,17.1365297 9.99205009,16.86169 C7.54955646,16.5841493 4.98146045,15.6401056 4.98146045,11.4249977 C4.98146045,10.224347 5.41026428,9.24181221 6.11390773,8.47334172 C6.00046042,8.19512569 5.62297799,7.07618404 6.22195279,5.56220265 C6.22195279,5.56220265 7.14506277,5.26642929 9.24653918,6.68992296 C10.12373,6.44547101 11.0650726,6.32392032 12.0003376,6.31919335 C12.9349274,6.32392032 13.8755947,6.44547101 14.7541361,6.68992296 C16.8542619,5.26642929 17.7760214,5.56220265 17.7760214,5.56220265 C18.3763467,7.07618404 17.9988643,8.19512569 17.8860923,8.47334172 C18.5910863,9.24181221 19.0165137,10.224347 19.0165137,11.4249977 C19.0165137,15.6509101 16.444366,16.5807729 13.9944443,16.8529114 C14.3888087,17.192578 14.7406305,17.863808 14.7406305,18.890236 C14.7406305,20.3603241 14.7271248,21.5467939 14.7271248,21.9073943 C14.7271248,22.2018171 14.9256576,22.5441849 15.4834403,22.4368151 C19.8511618,20.9788821 23,16.8589889 23,12.0003376 C23,5.92482888 18.0744958,1 11.9989871,1"}}]})(e)}function $b(e){return Fh({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M22.0367422,22 L17.8848745,22 L17.8848745,15.5036305 C17.8848745,13.9543347 17.85863,11.9615082 15.7275829,11.9615082 C13.5676669,11.9615082 13.237862,13.6498994 13.237862,15.3925291 L13.237862,22 L9.0903683,22 L9.0903683,8.64071385 L13.0707725,8.64071385 L13.0707725,10.4673257 L13.1276354,10.4673257 C13.6813927,9.41667396 15.0356049,8.3091593 17.0555507,8.3091593 C21.2599073,8.3091593 22.0367422,11.0753215 22.0367422,14.6734319 L22.0367422,22 Z M4.40923804,6.81585163 C3.07514653,6.81585163 2,5.73720584 2,4.40748841 C2,3.07864579 3.07514653,2 4.40923804,2 C5.73720584,2 6.81585163,3.07864579 6.81585163,4.40748841 C6.81585163,5.73720584 5.73720584,6.81585163 4.40923804,6.81585163 L4.40923804,6.81585163 Z M6.48604672,22 L2.32980492,22 L2.32980492,8.64071385 L6.48604672,8.64071385 L6.48604672,22 Z"}}]})(e)}function GD(){return U("footer",{children:Se("div",{className:"py-4 overflow-hidden text-white bg-[#101013] mt-24",children:[Se("div",{className:"flex flex-col w-full p-4 mx-auto space-y-6 text-sm text-white border-gray-700 fluid-container sm:space-y-0 sm:items-center md:flex-row md:justify-between",children:[U("span",{className:"text-gray-700",children:Se("a",{href:"",className:"text-2xl ml-16 p-2 hover:scale-125 hover:rotate-2 motion-safe:transition-transform focus:outline-none focus-visible:ring-2 ring-primary",children:["Ayachi",U("strong",{children:".dev"})]})}),Se("div",{className:"flex flex-row space-x-2 mr-6",children:[U("a",{href:"https://de.linkedin.com/in/youssef-ayachi-0a097b229",target:"_blank",className:"p-1 -m-1 text-gray-400 hover:text-amber-500 focus:outline-none focus-visible:ring-2 ring-primary",children:U($b,{className:"h-6 w-6"})}),U("a",{href:"https://github.com/YoussefAyachi95",target:"_blank",className:"p-1 -m-1 text-gray-400 hover:text-amber-500 focus:outline-none focus-visible:ring-2 ring-primary",children:U(Bb,{className:"h-6 w-6"})})]})]}),U("div",{className:"w-full p-4 mx-auto space-y-2 text-xs border-gray-900 fluid-container text-white/50 sm:space-y-0 sm:flex sm:flex-row sm:justify-center sm:border-solid md:border-t",children:U("div",{className:"flex items-center space-x-3",children:U("span",{children:" 2023 Youssef Ayachi"})})})]})})}function v8(){return J.useEffect(()=>{qE.init()},[]),Se(k2,{children:[U("div",{className:"space-y-12 md:-space-y-24",id:"background_colored",children:U("div",{className:"pt-4 pb-16 md:py-20",children:U("div",{className:"py-0 ml-16 lg:px-6 fluid-container ",children:Se("div",{className:"flex flex-col mx-auto space-y-reverse group md:justify-between item lg:flex-row",children:[U("div",{className:"flex flex-col justify-center py-8 lg:py-0 lg:w-1/2",children:Se("div",{className:"space-y-6 text-black lg:max-w-md","data-aos":"fade-up",children:[U("div",{className:"text-2xl font-bold tracking-wide text-amber-500/70 ",children:" Hi there, "}),U("h1",{className:"text-2xl md:text-5xl font-bold leading-wide  text-gray-100 ",children:"I'm Youssef, Fullstack web developer"}),U("div",{className:"mt-0 mb-8 text-base font-light leading-relaxed text-gray-400 prose-a:text-amber-500 last:mb-0",children:U("p",{children:"And I want to help make the internet a more creative, accessible, and better place."})}),U("div",{className:"flex flex-row space-x-4",children:Se("div",{className:"flex flex-wrap gap-3 ",children:[U(jb,{to:"/about",className:`decoration-2 focus:outline-none focus-visible:ring focus-visible:ring-offset-2
                                    inline-flex items-center pfireby-3 px-4 rounded leading-none no-underline select-none whitespace-nowrap motion-safe:transition
                                 bg-amber-400 text-amber-900 hover:bg-amber-500 focus-visible:ring-white`,children:"MORE ABOUT ME"}),U(jb,{to:"/resume",className:`decoration-2 focus:outline-none focus-visible:ring focus-visible:ring-offset-2 
                                 inline-flex items-center py-3 px-4 rounded leading-none no-underline select-none whitespace-nowrap motion-safe:transition
                                 bg-transparent border hover:bg-white/10 border-amber-500 text-amber-500 focus-visible:ring-amber-500`,children:"DOWNLOAD CV"})]})})]})}),U("div",{className:"relative justify-center order-first overflow-hidden lg:p-10 lg:order-last lg:w-1/2 md:flex mr-16",children:U("div",{className:"relative inset-0 translate-y-8 lg:translate-y-12  ",children:U("img",{src:"../images/portfolio.JPG",className:"rounded-xl opacity-90",id:"portfolio_image",alt:"A picture of the author of this page"})})})]})})})}),U(c8,{}),U(h8,{}),U(GD,{})]})}function m8(){return Se("div",{className:"App flex flex-col min-h-screen overflow-x-hidden bg-gray-900 text-gray-100 scroll-smooth overflow-hidden",children:[U("div",{id:"background_colored",children:U("main",{className:"outer-grid fluid-container ml-44",children:U("div",{className:"grid gap-8 md:grid-cols-12",children:U("div",{className:"md:col-span-8 md:col-start-3 mt-24",children:U("section",{children:Se("article",{className:"prose md:prose-xl prose-invert prose-a:underline prose-a:underline-offset-2 prose-a:decoration-amber-500 hover:prose-a:decoration-amber-600 prose-a:decoration-from-font hover:prose-a:text-amber-500 focus:prose-a:outline-none focus-visible:prose-a:ring focus-visible:prose-a:ring-amber-500 focus-visible:prose-a:rounded-sm prose-blockquote:border-amber-500 prose-figure:my-0 prose-hr:border-gray-700 prose-lead:text-gray-700 prose-pre:whitespace-pre-wrap prose-contents mb-24 w-3/4",children:[U("h1",{children:"About me:"}),Se("figure",{className:"not-prose size-full",children:[U("img",{src:"../images/second_image.jpeg",className:"max-w-[50%] max-h-[33rem] transition duration-300 ease-in-out shadow-xl rounded-xl hover:shadow-lg",alt:"A picture of the author of this page"}),U("figcaption",{className:'class="block mt-2 text-sm text-gray-400 dark:text-gray-500 "',children:"Museum Ludwig - Cologne, Germany"})]}),U("h2",{children:"A little more:"}),Se("p",{children:["I am currently doing a one year Full Stack Web Development Course (MERN Stack) at ",U("a",{href:"https://digitalcareerinstitute.org/de/",target:"_blank",children:"Digital Career Institute"})," in Germany, where I study in a team to build amazing consumer and internal applications. Previously, I've been doing online courses where I've learnt basic knowledge in design and app development."]}),U("p",{children:"These days my time is spent researching, learning and coding."}),U("p",{children:"Out of classes you'll find me playing video games, having a walk along the Rhine or petting all the good cats. I also like to travel whenever I have the time for it."})]})})})})})}),U(GD,{})]})}var qb=function(e,t){return qb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},qb(e,t)};function Y(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var He=function(){return He=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},He.apply(this,arguments)};function R(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(p){try{h(r.next(p))}catch(v){a(v)}}function c(p){try{h(r.throw(p))}catch(v){a(v)}}function h(p){p.done?s(p.value):i(p.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function A(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(p){return c([h,p])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ht(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Ee(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QD={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=function(e,t){if(!e)throw zl(t)},zl=function(e){return new Error("Firebase Database ("+QD.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YD=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},g8=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},ih={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,p=s>>2,v=(s&3)<<4|l>>4,g=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(g=64)),r.push(n[p],n[v],n[g],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(YD(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):g8(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var p=i<e.length,v=p?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var g=s<<2|l>>4;if(r.push(g),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var _=h<<6&192|v;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},y8=function(e){var t=YD(e);return ih.encodeByteArray(t,!0)},AR=function(e){try{return ih.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(e){return oh(void 0,e)}function oh(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!w8(r)||(e[r]=oh(e[r],t[r]));return e}function w8(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=He({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[ih.encodeString(JSON.stringify(n),!1),ih.encodeString(JSON.stringify(a),!1),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Na())}function _8(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b8(){return typeof self=="object"&&self.self===self}function WE(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ZD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E8(){return Na().indexOf("Electron/")>=0}function T8(){var e=Na();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I8(){return Na().indexOf("MSAppHost/")>=0}function eL(){return QD.NODE_ADMIN===!0}function HE(){return"indexedDB"in self&&indexedDB!=null}function KE(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function tL(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S8="FirebaseError",Wl=function(e){Y(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=S8,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Is.prototype.create),s}return t}(Error),Is=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?k8(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Wl(s,c,i);return h},e}();function k8(e,t){return e.replace(C8,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var C8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(e){return JSON.parse(e)}function Pt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=sh(AR(s[0])||""),n=sh(AR(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},N8=function(e){var t=nL(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},A8=function(e){var t=nL(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Aa(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function zb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $v(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(p){t.push(encodeURIComponent(c)+"="+encodeURIComponent(p))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x8=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],p=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),g=1518500249):(v=l^c^h,g=1859775393):i<60?(v=l&c|h&(l|c),g=2400959708):(v=l^c^h,g=3395469782);var s=(a<<5|a>>>27)+v+p+g+r[i]&4294967295;p=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function P8(e,t){var n=new O8(e,t);return n.subscribe.bind(n)}var O8=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D8(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=i_),s.error===void 0&&(s.error=i_),s.complete===void 0&&(s.complete=i_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function D8(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function i_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Xn(e,t){return e+" failed: "+t+" argument "}function Bt(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Xn(e,t)+"must be a valid function.")}function RR(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Xn(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L8=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,H(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Xm=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M8=1e3,F8=2,U8=4*60*60*1e3,j8=.5;function Wb(e,t,n){t===void 0&&(t=M8),n===void 0&&(n=F8);var r=t*Math.pow(n,e),i=Math.round(j8*r*(Math.random()-.5)*2);return Math.min(U8,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){return e&&e._delegate?e._delegate:e}var er=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(t){t===void 0&&(t=Oo);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Wn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=He({identifier:Oo,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(B8(t))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}try{for(var i=Ht(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Zt(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:h});c.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Oo),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ee(Ee([],Zt(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Zt(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Oo),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.instanceIdentifier,s=i===void 0?Oo:i,a=t.options,l=a===void 0?{}:a,c=this.normalizeInstanceIdentifier(s);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var h=this.getOrInitializeService({instanceIdentifier:c,options:l});try{for(var p=Ht(this.instancesDeferred.entries()),v=p.next();!v.done;v=p.next()){var g=Zt(v.value,2),y=g[0],_=g[1],T=this.normalizeInstanceIdentifier(y);c===T&&_.resolve(h)}}catch(S){n={error:S}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(h,c),h},e.prototype.onInit=function(t){var n=this;return this.onInitCallbacks.add(t),function(){n.onInitCallbacks.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i;try{for(var s=Ht(this.onInitCallbacks),a=s.next();!a.done;a=s.next()){var l=a.value;try{l(t,n)}catch{}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:V8(n),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Oo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function V8(e){return e===Oo?void 0:e}function B8(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new rL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Jr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs,GE=[],be;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(be||(be={}));var oL={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},$8=be.INFO,q8=(Xs={},Xs[be.DEBUG]="log",Xs[be.VERBOSE]="log",Xs[be.INFO]="info",Xs[be.WARN]="warn",Xs[be.ERROR]="error",Xs),z8=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=q8[t];if(s)console[s].apply(console,Jr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Hl=function(){function e(t){this.name=t,this._logLevel=$8,this._logHandler=z8,this._userLogHandler=null,GE.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in be))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?oL[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Jr([this,be.DEBUG],t)),this._logHandler.apply(this,Jr([this,be.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Jr([this,be.VERBOSE],t)),this._logHandler.apply(this,Jr([this,be.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Jr([this,be.INFO],t)),this._logHandler.apply(this,Jr([this,be.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Jr([this,be.WARN],t)),this._logHandler.apply(this,Jr([this,be.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Jr([this,be.ERROR],t)),this._logHandler.apply(this,Jr([this,be.ERROR],t))},e}();function W8(e){GE.forEach(function(t){t.setLogLevel(e)})}function H8(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=oL[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var g=p.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:be[h].toLowerCase(),message:g,args:p,type:c.name})}},r=0,i=GE;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao,K8=(Ao={},Ao["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ao["bad-app-name"]="Illegal App name: '{$appName}",Ao["duplicate-app"]="Firebase App named '{$appName}' already exists",Ao["app-deleted"]="Firebase App named '{$appName}' already deleted",Ao["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ao["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ao),Ou=new Is("app","Firebase",K8),sL="@firebase/app",G8="0.6.21",Q8="@firebase/analytics",Y8="@firebase/app-check",X8="@firebase/auth",J8="@firebase/database",Z8="@firebase/functions",eW="@firebase/installations",tW="@firebase/messaging",nW="@firebase/performance",rW="@firebase/remote-config",iW="@firebase/storage",oW="@firebase/firestore",sW="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,qv="[DEFAULT]",aW=(ln={},ln[sL]="fire-core",ln[Q8]="fire-analytics",ln[Y8]="fire-app-check",ln[X8]="fire-auth",ln[J8]="fire-rtdb",ln[Z8]="fire-fn",ln[eW]="fire-iid",ln[tW]="fire-fcm",ln[nW]="fire-perf",ln[rW]="fire-rc",ln[iW]="fire-gcs",ln[oW]="fire-fst",ln["fire-js"]="fire-js",ln[sW]="fire-js-all",ln);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pl=new Hl("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var av=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=XD(t),this.container=new iL(n.name),this._addComponent(new er("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=qv),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=qv),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){pl.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ou.create("app-deleted",{appName:this.name_})},e}();av.prototype.name&&av.prototype.options||av.prototype.delete||console.log("dc");var uW="8.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:W8,onLog:p,apps:null,SDK_VERSION:uW,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(g){delete t[g]}function s(g){if(g=g||qv,!vr(t,g))throw Ou.create("no-app",{appName:g});return t[g]}s.App=e;function a(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var T=y;T.name===void 0&&(T.name=qv);var S=T.name;if(typeof S!="string"||!S)throw Ou.create("bad-app-name",{appName:String(S)});if(vr(t,S))throw Ou.create("duplicate-app",{appName:S});var E=new e(g,T,r);return t[S]=E,E}function l(){return Object.keys(t).map(function(g){return t[g]})}function c(g){var y=g.name;if(n.has(y))return pl.debug("There were multiple attempts to register component "+y+"."),g.type==="PUBLIC"?r[y]:null;if(n.set(y,g),g.type==="PUBLIC"){var _=function(I){if(I===void 0&&(I=s()),typeof I[y]!="function")throw Ou.create("invalid-app-argument",{appName:y});return I[y]()};g.serviceProps!==void 0&&oh(_,g.serviceProps),r[y]=_,e.prototype[y]=function(){for(var I=[],k=0;k<arguments.length;k++)I[k]=arguments[k];var P=this._getService.bind(this,y);return P.apply(this,g.multipleInstances?I:[])}}for(var T=0,S=Object.keys(t);T<S.length;T++){var E=S[T];t[E]._addComponent(g)}return g.type==="PUBLIC"?r[y]:null}function h(g,y,_){var T,S=(T=aW[g])!==null&&T!==void 0?T:g;_&&(S+="-"+_);var E=S.match(/\s|\//),I=y.match(/\s|\//);if(E||I){var k=['Unable to register library "'+S+'" with version "'+y+'":'];E&&k.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),E&&I&&k.push("and"),I&&k.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),pl.warn(k.join(" "));return}c(new er(S+"-version",function(){return{library:S,version:y}},"VERSION"))}function p(g,y){if(g!==null&&typeof g!="function")throw Ou.create("invalid-log-argument");H8(g,y)}function v(g,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){var e=lW(av);e.INTERNAL=He(He({},e.INTERNAL),{createFirebaseNamespace:aL,extendNamespace:t,createSubscribe:P8,ErrorFactory:Is,deepExtend:oh});function t(n){oh(e,n)}return e}var QE=aL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cW=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(fW(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function fW(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(e,t){e.INTERNAL.registerComponent(new er("platform-logger",function(n){return new cW(n)},"PRIVATE")),e.registerVersion(sL,G8,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(b8()&&self.firebase!==void 0){pl.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var xR=self.firebase.SDK_VERSION;xR&&xR.indexOf("LITE")>=0&&pl.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var dW=QE.initializeApp;QE.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _8()&&pl.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),dW.apply(void 0,e)};var se=QE;hW(se);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var d=0;d<o.length-1;d++){var m=o[d];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],d=f[o],u=u(d),u!=d&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(b){this.b=0,this.c=void 0,this.a=[];var C=this.f();try{b(C.resolve,C.reject)}catch(M){C.reject(M)}}function f(){this.a=null}function d(b){return b instanceof u?b:new u(function(C){C(b)})}if(o)return o;f.prototype.b=function(b){if(this.a==null){this.a=[];var C=this;this.c(function(){C.g()})}this.a.push(b)};var m=r.setTimeout;f.prototype.c=function(b){m(b,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var C=0;C<b.length;++C){var M=b[C];b[C]=null;try{M()}catch(B){this.f(B)}}}this.a=null},f.prototype.f=function(b){this.c(function(){throw b})},u.prototype.f=function(){function b(B){return function(fe){M||(M=!0,B.call(C,fe))}}var C=this,M=!1;return{resolve:b(this.m),reject:b(this.g)}},u.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof u)this.s(b);else{e:switch(typeof b){case"object":var C=b!=null;break e;case"function":C=!0;break e;default:C=!1}C?this.v(b):this.h(b)}},u.prototype.v=function(b){var C=void 0;try{C=b.then}catch(M){this.g(M);return}typeof C=="function"?this.u(C,b):this.h(b)},u.prototype.g=function(b){this.i(2,b)},u.prototype.h=function(b){this.i(1,b)},u.prototype.i=function(b,C){if(this.b!=0)throw Error("Cannot settle("+b+", "+C+"): Promise already settled in state"+this.b);this.b=b,this.c=C,this.l()},u.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)w.b(this.a[b]);this.a=null}};var w=new f;return u.prototype.s=function(b){var C=this.f();b.Qa(C.resolve,C.reject)},u.prototype.u=function(b,C){var M=this.f();try{b.call(C,M.resolve,M.reject)}catch(B){M.reject(B)}},u.prototype.then=function(b,C){function M(De,Ut){return typeof De=="function"?function(zi){try{B(De(zi))}catch(Cw){fe(Cw)}}:Ut}var B,fe,je=new u(function(De,Ut){B=De,fe=Ut});return this.Qa(M(b,B),M(C,fe)),je},u.prototype.catch=function(b){return this.then(void 0,b)},u.prototype.Qa=function(b,C){function M(){switch(B.b){case 1:b(B.c);break;case 2:C(B.c);break;default:throw Error("Unexpected state: "+B.b)}}var B=this;this.a==null?w.b(M):this.a.push(M)},u.resolve=d,u.reject=function(b){return new u(function(C,M){M(b)})},u.race=function(b){return new u(function(C,M){for(var B=a(b),fe=B.next();!fe.done;fe=B.next())d(fe.value).Qa(C,M)})},u.all=function(b){var C=a(b),M=C.next();return M.done?d([]):new u(function(B,fe){function je(zi){return function(Cw){De[zi]=Cw,Ut--,Ut==0&&B(De)}}var De=[],Ut=0;do De.push(void 0),Ut++,d(M.value).Qa(je(De.length-1),fe),M=C.next();while(!M.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function g(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function _(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function T(o){return y(o)=="function"}function S(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function E(o){return Object.prototype.hasOwnProperty.call(o,I)&&o[I]||(o[I]=++k)}var I="closure_uid_"+(1e9*Math.random()>>>0),k=0;function P(o,u,f){return o.call.apply(o.bind,arguments)}function D(o,u,f){if(!o)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,d),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function x(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x=P:x=D,x.apply(null,arguments)}function V(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var d=f.slice();return d.push.apply(d,arguments),o.apply(this,d)}}function F(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function ue(o){return o}function N(o,u,f){this.code=_n+o,this.message=u||ci[o]||"",this.a=f||null}F(N,Error),N.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},N.prototype.toJSON=function(){return this.w()};function _t(o){var u=o&&o.code;return u?new N(u.substring(_n.length),o.message,o.serverResponse):null}var _n="auth/",ci={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},j={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(o){for(var u in j)if(j[u].id===o)return o=j[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var ge;ge=L("__EID__")?"__EID__":void 0;function Te(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function $(o){if(Error.captureStackTrace)Error.captureStackTrace(this,$);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}F($,Error),$.prototype.name="CustomError";function X(o,u){o=o.split("%s");for(var f="",d=o.length-1,m=0;m<d;m++)f+=o[m]+(m<u.length?u[m]:"%s");$.call(this,f+o[d])}F(X,$),X.prototype.name="AssertionError";function Q(o,u){throw new X("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function ie(o,u){this.c=o,this.f=u,this.b=0,this.a=null}ie.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function he(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Kt(){this.b=this.a=null}var Re=new ie(function(){return new Ze},function(o){o.reset()});Kt.prototype.add=function(o,u){var f=Re.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function Gt(){var o=jS,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function Ze(){this.next=this.b=this.a=null}Ze.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},Ze.prototype.reset=function(){this.next=this.b=this.a=null};var Oe=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},ze=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var d=o.length,m=typeof o=="string"?o.split(""):o,w=0;w<d;w++)w in m&&u.call(f,m[w],w,o)};function lc(o,u){for(var f=typeof o=="string"?o.split(""):o,d=o.length-1;0<=d;--d)d in f&&u.call(void 0,f[d],d,o)}var yo=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=[],m=0,w=typeof o=="string"?o.split(""):o,b=0;b<f;b++)if(b in w){var C=w[b];u.call(void 0,C,b,o)&&(d[m++]=C)}return d},Fi=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=Array(f),m=typeof o=="string"?o.split(""):o,w=0;w<f;w++)w in m&&(d[w]=u.call(void 0,m[w],w,o));return d},Za=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,d=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in d&&u.call(void 0,d[m],m,o))return!0;return!1};function Ui(o){e:{for(var u=cV,f=o.length,d=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in d&&u.call(void 0,d[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function $r(o,u){return 0<=Oe(o,u)}function eu(o,u){u=Oe(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function nr(o,u){var f=0;lc(o,function(d,m){u.call(void 0,d,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function tu(o){return Array.prototype.concat.apply([],arguments)}function ji(o){var u=o.length;if(0<u){for(var f=Array(u),d=0;d<u;d++)f[d]=o[d];return f}return[]}var cc=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},Jg=/&/g,pd=/</g,vd=/>/g,fc=/"/g,Zg=/'/g,ey=/\x00/g,UU=/[\x00&<>"']/;function Ke(o,u){return o.indexOf(u)!=-1}function ty(o,u){return o<u?-1:o>u?1:0}var nu;e:{var vS=c.navigator;if(vS){var mS=vS.userAgent;if(mS){nu=mS;break e}}nu=""}function Nt(o){return Ke(nu,o)}function gS(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function xs(o){for(var u in o)return!1;return!0}function wo(o){var u={},f;for(f in o)u[f]=o[f];return u}var yS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Un(o,u){for(var f,d,m=1;m<arguments.length;m++){d=arguments[m];for(f in d)o[f]=d[f];for(var w=0;w<yS.length;w++)f=yS[w],Object.prototype.hasOwnProperty.call(d,f)&&(o[f]=d[f])}}function wS(o,u){e:{try{var f=o&&o.ownerDocument,d=f&&(f.defaultView||f.parentWindow);if(d=d||c,d.Element&&d.Location){var m=d;break e}}catch{}m=null}if(m&&typeof m[u]<"u"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(S(o))try{var w=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{w="<object could not be stringified>"}else w=o===void 0?"undefined":o===null?"null":typeof o;Q("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function fi(o,u){this.a=o===md&&u||"",this.b=_S}fi.prototype.sa=!0,fi.prototype.ra=function(){return this.a},fi.prototype.toString=function(){return"Const{"+this.a+"}"};function ny(o){return o instanceof fi&&o.constructor===fi&&o.b===_S?o.a:(Q("expected object of type Const, got '"+o+"'"),"type_error:Const")}var _S={},md={},gd;function bS(){if(gd===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:ue,createScript:ue,createScriptURL:ue})}catch(f){c.console&&c.console.error(f.message)}gd=o}else gd=o}return gd}function ru(o,u){this.a=u===TS?o:""}ru.prototype.sa=!0,ru.prototype.ra=function(){return this.a.toString()},ru.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function ES(o){return o instanceof ru&&o.constructor===ru?o.a:(Q("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function ry(o,u){var f=ny(o);if(!VU.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(jU,function(d,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return d=u[m],d instanceof fi?ny(d):encodeURIComponent(String(d))}),BU(o)}var jU=/%{(\w+)}/g,VU=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,TS={};function BU(o){var u=bS();return o=u?u.createScriptURL(o):o,new ru(o,TS)}function jn(o,u){this.a=u===hc?o:""}jn.prototype.sa=!0,jn.prototype.ra=function(){return this.a.toString()},jn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function yd(o){return o instanceof jn&&o.constructor===jn?o.a:(Q("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var $U=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,qU=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,IS=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function SS(o){if(o instanceof jn)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),IS.test(o))o=new jn(o,hc);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(qU);o=u&&$U.test(u[1])?new jn(o,hc):null}return o}function kS(o){return o instanceof jn?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),IS.test(o)||(o="about:invalid#zClosurez"),new jn(o,hc))}var hc={},CS=new jn("about:invalid#zClosurez",hc);function iu(o,u,f){this.a=f===NS?o:""}iu.prototype.sa=!0,iu.prototype.ra=function(){return this.a.toString()},iu.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function zU(o){return o instanceof iu&&o.constructor===iu?o.a:(Q("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var NS={};function WU(o,u){wS(o,"HTMLScriptElement"),o.src=ES(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(p===null&&(p=v(c.document)),u=p),u&&o.setAttribute("nonce",u)}function AS(o,u,f,d){return o=o instanceof jn?o:kS(o),u=u||c,f=f instanceof fi?ny(f):f||"",u.open(yd(o),f,d,void 0)}function RS(o,u){for(var f=o.split("%s"),d="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)d+=f.shift()+m.shift();return d+f.join("%s")}function iy(o){return UU.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(Jg,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(pd,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(vd,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(fc,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Zg,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(ey,"&#0;"))),o}function oy(o){return oy[" "](o),o}oy[" "]=g;function HU(o,u){var f=YU;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var KU=Nt("Opera"),qr=Nt("Trident")||Nt("MSIE"),xS=Nt("Edge"),GU=xS||qr,PS=Nt("Gecko")&&!(Ke(nu.toLowerCase(),"webkit")&&!Nt("Edge"))&&!(Nt("Trident")||Nt("MSIE"))&&!Nt("Edge"),QU=Ke(nu.toLowerCase(),"webkit")&&!Nt("Edge");function OS(){var o=c.document;return o?o.documentMode:void 0}var wd;e:{var sy="",ay=function(){var o=nu;if(PS)return/rv:([^\);]+)(\)|;)/.exec(o);if(xS)return/Edge\/([\d\.]+)/.exec(o);if(qr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(QU)return/WebKit\/(\S+)/.exec(o);if(KU)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(ay&&(sy=ay?ay[1]:""),qr){var uy=OS();if(uy!=null&&uy>parseFloat(sy)){wd=String(uy);break e}}wd=sy}var YU={};function DS(o){return HU(o,function(){for(var u=0,f=cc(String(wd)).split("."),d=cc(String(o)).split("."),m=Math.max(f.length,d.length),w=0;u==0&&w<m;w++){var b=f[w]||"",C=d[w]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],C=/(\d*)(\D*)(.*)/.exec(C)||["","","",""],b[0].length==0&&C[0].length==0)break;u=ty(b[1].length==0?0:parseInt(b[1],10),C[1].length==0?0:parseInt(C[1],10))||ty(b[2].length==0,C[2].length==0)||ty(b[2],C[2]),b=b[3],C=C[3]}while(u==0)}return 0<=u})}var ly;if(c.document&&qr){var LS=OS();ly=LS||parseInt(wd,10)||void 0}else ly=void 0;var _o=ly;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var XU=!qr||9<=Number(_o);function dc(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function MS(o,u){gS(u,function(f,d){f&&typeof f=="object"&&f.sa&&(f=f.ra()),d=="style"?o.style.cssText=f:d=="class"?o.className=f:d=="for"?o.htmlFor=f:FS.hasOwnProperty(d)?o.setAttribute(FS[d],f):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?o.setAttribute(d,f):o[d]=f})}var FS={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function JU(o,u,f){var d=arguments,m=document,w=String(d[0]),b=d[1];if(!XU&&b&&(b.name||b.type)){if(w=["<",w],b.name&&w.push(' name="',iy(b.name),'"'),b.type){w.push(' type="',iy(b.type),'"');var C={};Un(C,b),delete C.type,b=C}w.push(">"),w=w.join("")}return w=_d(m,w),b&&(typeof b=="string"?w.className=b:Array.isArray(b)?w.className=b.join(" "):MS(w,b)),2<d.length&&ZU(m,w,d),w}function ZU(o,u,f){function d(C){C&&u.appendChild(typeof C=="string"?o.createTextNode(C):C)}for(var m=2;m<f.length;m++){var w=f[m];if(!_(w)||S(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(S(w)){var b=typeof w.item=="function"||typeof w.item=="string";break e}if(T(w)){b=typeof w.item=="function";break e}}b=!1}ze(b?ji(w):w,d)}}}function _d(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function US(o){c.setTimeout(function(){throw o},0)}var cy;function ej(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Nt("Presto")&&(o=function(){var m=_d(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var w=m.contentWindow;m=w.document,m.open(),m.close();var b="callImmediate"+Math.random(),C=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;m=x(function(M){(C=="*"||M.origin==C)&&M.data==b&&this.port1.onmessage()},this),w.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(b,C)}}}),typeof o<"u"&&!Nt("Trident")&&!Nt("MSIE")){var u=new o,f={},d=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Gb;f.Gb=null,m()}},function(m){d.next={Gb:m},d=d.next,u.port2.postMessage(0)}}return function(m){c.setTimeout(m,0)}}function bd(o,u){Ed||tj(),fy||(Ed(),fy=!0),jS.add(o,u)}var Ed;function tj(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);Ed=function(){o.then(VS)}}else Ed=function(){var u=VS;!T(c.setImmediate)||c.Window&&c.Window.prototype&&!Nt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(cy||(cy=ej()),cy(u)):c.setImmediate(u)}}var fy=!1,jS=new Kt;function VS(){for(var o;o=Gt();){try{o.a.call(o.b)}catch(u){US(u)}he(Re,o)}fy=!1}function Ie(o,u){if(this.a=Ps,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=g)try{var f=this;o.call(u,function(d){Os(f,pc,d)},function(d){if(!(d instanceof ou))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}Os(f,Vi,d)})}catch(d){Os(this,Vi,d)}}var Ps=0,pc=2,Vi=3;function BS(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}BS.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var $S=new ie(function(){return new BS},function(o){o.reset()});function hy(o,u,f){var d=$S.get();return d.g=o,d.b=u,d.f=f,d}function ae(o){if(o instanceof Ie)return o;var u=new Ie(g);return Os(u,pc,o),u}function et(o){return new Ie(function(u,f){f(o)})}function qS(o,u,f){KS(o,u,f,null)||bd(V(u,o))}function nj(o){return new Ie(function(u,f){var d=o.length,m=[];if(d)for(var w=function(B,fe){d--,m[B]=fe,d==0&&u(m)},b=function(B){f(B)},C=0,M;C<o.length;C++)M=o[C],qS(M,V(w,C),b);else u(m)})}function zS(o){return new Ie(function(u){var f=o.length,d=[];if(f)for(var m=function(C,M,B){f--,d[C]=M?{Pb:!0,value:B}:{Pb:!1,reason:B},f==0&&u(d)},w=0,b;w<o.length;w++)b=o[w],qS(b,V(m,w,!0),V(m,w,!1));else u(d)})}Ie.prototype.then=function(o,u,f){return HS(this,T(o)?o:null,T(u)?u:null,f)},Ie.prototype.$goog_Thenable=!0,e=Ie.prototype,e.oa=function(o,u){return o=hy(o,o,u),o.c=!0,dy(this,o),this},e.o=function(o,u){return HS(this,null,o,u)},e.cancel=function(o){if(this.a==Ps){var u=new ou(o);bd(function(){WS(this,u)},this)}};function WS(o,u){if(o.a==Ps)if(o.c){var f=o.c;if(f.b){for(var d=0,m=null,w=null,b=f.b;b&&(b.c||(d++,b.a==o&&(m=b),!(m&&1<d)));b=b.next)m||(w=b);m&&(f.a==Ps&&d==1?WS(f,u):(w?(d=w,d.next==f.f&&(f.f=d),d.next=d.next.next):QS(f),YS(f,m,Vi,u)))}o.c=null}else Os(o,Vi,u)}function dy(o,u){o.b||o.a!=pc&&o.a!=Vi||GS(o),o.f?o.f.next=u:o.b=u,o.f=u}function HS(o,u,f,d){var m=hy(null,null,null);return m.a=new Ie(function(w,b){m.g=u?function(C){try{var M=u.call(d,C);w(M)}catch(B){b(B)}}:w,m.b=f?function(C){try{var M=f.call(d,C);M===void 0&&C instanceof ou?b(C):w(M)}catch(B){b(B)}}:b}),m.a.c=o,dy(o,m),m.a}e.$c=function(o){this.a=Ps,Os(this,pc,o)},e.ad=function(o){this.a=Ps,Os(this,Vi,o)};function Os(o,u,f){o.a==Ps&&(o===f&&(u=Vi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,KS(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,GS(o),u!=Vi||f instanceof ou||ij(o,f)))}function KS(o,u,f,d){if(o instanceof Ie)return dy(o,hy(u||g,f||null,d)),!0;if(Te(o))return o.then(u,f,d),!0;if(S(o))try{var m=o.then;if(T(m))return rj(o,m,u,f,d),!0}catch(w){return f.call(d,w),!0}return!1}function rj(o,u,f,d,m){function w(M){C||(C=!0,d.call(m,M))}function b(M){C||(C=!0,f.call(m,M))}var C=!1;try{u.call(o,b,w)}catch(M){w(M)}}function GS(o){o.h||(o.h=!0,bd(o.gc,o))}function QS(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=QS(this);)YS(this,o,this.a,this.i);this.h=!1};function YS(o,u,f,d){if(f==Vi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,XS(u,f,d);else try{u.c?u.g.call(u.f):XS(u,f,d)}catch(m){JS.call(null,m)}he($S,u)}function XS(o,u,f){u==pc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function ij(o,u){o.g=!0,bd(function(){o.g&&JS.call(null,u)})}var JS=US;function ou(o){$.call(this,o)}F(ou,$),ou.prototype.name="cancel";function Td(){this.xa=this.xa,this.pa=this.pa}var oj=0;Td.prototype.xa=!1;function ZS(o){!o.xa&&(o.xa=!0,o.Da(),oj!=0)&&E(o)}Td.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var sj=Object.freeze||function(o){return o},ek=!qr||9<=Number(_o),aj=qr&&!DS("9"),uj=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",g,u),c.removeEventListener("test",g,u)}catch{}return o}();function Vn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Vn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ds(o,u){if(Vn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,d=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(PS){e:{try{oy(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:lj[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}F(Ds,Vn);var lj=sj({2:"touch",3:"pen",4:"mouse"});Ds.prototype.preventDefault=function(){Ds.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,aj)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Ds.prototype.g=function(){return this.a};var vc="closure_listenable_"+(1e6*Math.random()|0),cj=0;function fj(o,u,f,d,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!d,this.Va=m,this.key=++cj,this.va=this.Pa=!1}function Id(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function Sd(o){this.src=o,this.a={},this.b=0}Sd.prototype.add=function(o,u,f,d,m){var w=o.toString();o=this.a[w],o||(o=this.a[w]=[],this.b++);var b=vy(o,u,d,m);return-1<b?(u=o[b],f||(u.Pa=!1)):(u=new fj(u,this.src,w,!!d,m),u.Pa=f,o.push(u)),u};function py(o,u){var f=u.type;f in o.a&&eu(o.a[f],u)&&(Id(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function vy(o,u,f,d){for(var m=0;m<o.length;++m){var w=o[m];if(!w.va&&w.listener==u&&w.capture==!!f&&w.Va==d)return m}return-1}var my="closure_lm_"+(1e6*Math.random()|0),gy={};function br(o,u,f,d,m){if(d&&d.once)yy(o,u,f,d,m);else if(Array.isArray(u))for(var w=0;w<u.length;w++)br(o,u[w],f,d,m);else f=_y(f),o&&o[vc]?sk(o,u,f,S(d)?!!d.capture:!!d,m):tk(o,u,f,!1,d,m)}function tk(o,u,f,d,m,w){if(!u)throw Error("Invalid event type");var b=S(m)?!!m.capture:!!m,C=kd(o);if(C||(o[my]=C=new Sd(o)),f=C.add(u,f,d,b,w),!f.proxy)if(d=hj(),f.proxy=d,d.src=o,d.listener=f,o.addEventListener)uj||(m=b),m===void 0&&(m=!1),o.addEventListener(u.toString(),d,m);else if(o.attachEvent)o.attachEvent(rk(u.toString()),d);else if(o.addListener&&o.removeListener)o.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function hj(){var o=dj,u=ek?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function yy(o,u,f,d,m){if(Array.isArray(u))for(var w=0;w<u.length;w++)yy(o,u[w],f,d,m);else f=_y(f),o&&o[vc]?by(o,u,f,S(d)?!!d.capture:!!d,m):tk(o,u,f,!0,d,m)}function rr(o,u,f,d,m){if(Array.isArray(u))for(var w=0;w<u.length;w++)rr(o,u[w],f,d,m);else d=S(d)?!!d.capture:!!d,f=_y(f),o&&o[vc]?(o=o.v,u=String(u).toString(),u in o.a&&(w=o.a[u],f=vy(w,f,d,m),-1<f&&(Id(w[f]),Array.prototype.splice.call(w,f,1),w.length==0&&(delete o.a[u],o.b--)))):o&&(o=kd(o))&&(u=o.a[u.toString()],o=-1,u&&(o=vy(u,f,d,m)),(f=-1<o?u[o]:null)&&nk(f))}function nk(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[vc])py(u.v,o);else{var f=o.type,d=o.proxy;u.removeEventListener?u.removeEventListener(f,d,o.capture):u.detachEvent?u.detachEvent(rk(f),d):u.addListener&&u.removeListener&&u.removeListener(d),(f=kd(u))?(py(f,o),f.b==0&&(f.src=null,u[my]=null)):Id(o)}}}function rk(o){return o in gy?gy[o]:gy[o]="on"+o}function ik(o,u,f,d){var m=!0;if((o=kd(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var w=u[o];w&&w.capture==f&&!w.va&&(w=ok(w,d),m=m&&w!==!1)}return m}function ok(o,u){var f=o.listener,d=o.Va||o.src;return o.Pa&&nk(o),f.call(d,u)}function dj(o,u){if(o.va)return!0;if(!ek){if(!u)e:{u=["window","event"];for(var f=c,d=0;d<u.length;d++)if(f=f[u[d]],f==null){u=null;break e}u=f}if(d=u,u=new Ds(d,this),f=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var m=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{m=!0}(m||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],m=u.b;m;m=m.parentNode)d.push(m);for(o=o.type,m=d.length-1;0<=m;m--){u.b=d[m];var w=ik(d[m],o,!0,u);f=f&&w}for(m=0;m<d.length;m++)u.b=d[m],w=ik(d[m],o,!1,u),f=f&&w}return f}return ok(o,new Ds(u,this))}function kd(o){return o=o[my],o instanceof Sd?o:null}var wy="__closure_events_fn_"+(1e9*Math.random()>>>0);function _y(o){return T(o)?o:(o[wy]||(o[wy]=function(u){return o.handleEvent(u)}),o[wy])}function bn(){Td.call(this),this.v=new Sd(this),this.ac=this,this.gb=null}F(bn,Td),bn.prototype[vc]=!0,bn.prototype.addEventListener=function(o,u,f,d){br(this,o,u,f,d)},bn.prototype.removeEventListener=function(o,u,f,d){rr(this,o,u,f,d)},bn.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var d=o.type||o;if(typeof o=="string")o=new Vn(o,f);else if(o instanceof Vn)o.target=o.target||f;else{var m=o;o=new Vn(d,f),Un(o,m)}if(m=!0,u)for(var w=u.length-1;0<=w;w--){var b=o.b=u[w];m=Cd(b,d,!0,o)&&m}if(b=o.b=f,m=Cd(b,d,!0,o)&&m,m=Cd(b,d,!1,o)&&m,u)for(w=0;w<u.length;w++)b=o.b=u[w],m=Cd(b,d,!1,o)&&m;return m},bn.prototype.Da=function(){if(bn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],d=0;d<f.length;d++)Id(f[d]);delete o.a[u],o.b--}}this.gb=null};function sk(o,u,f,d,m){o.v.add(String(u),f,!1,d,m)}function by(o,u,f,d,m){o.v.add(String(u),f,!0,d,m)}function Cd(o,u,f,d){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,w=0;w<u.length;++w){var b=u[w];if(b&&!b.va&&b.capture==f){var C=b.listener,M=b.Va||b.src;b.Pa&&py(o.v,b),m=C.call(M,d)!==!1&&m}}return m&&!d.defaultPrevented}function Ey(o,u,f){if(T(o))f&&(o=x(o,f));else if(o&&typeof o.handleEvent=="function")o=x(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function su(o){var u=null;return new Ie(function(f,d){u=Ey(function(){f(void 0)},o),u==-1&&d(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function ak(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(_(o)){for(var u=[],f=o.length,d=0;d<f;d++)u.push(o[d]);return u}u=[],f=0;for(d in o)u[f++]=o[d];return u}function uk(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(_(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var d in o)u[f++]=d;return u}}function pj(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(_(o)||typeof o=="string")ze(o,u,void 0);else for(var f=uk(o),d=ak(o),m=d.length,w=0;w<m;w++)u.call(void 0,d[w],f&&f[w],o)}function au(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var d=0;d<f;d+=2)this.set(arguments[d],arguments[d+1])}else if(o)if(o instanceof au)for(f=o.Y(),d=0;d<f.length;d++)this.set(f[d],o.get(f[d]));else for(d in o)this.set(d,o[d])}e=au.prototype,e.W=function(){Ty(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Ty(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Ty(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var d=o.a[u];Ls(o.b,d)&&(o.a[f++]=d),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)d=o.a[u],Ls(m,d)||(o.a[f++]=d,m[d]=1),u++;o.a.length=f}}e.get=function(o,u){return Ls(this.b,o)?this.b[o]:u},e.set=function(o,u){Ls(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),d=0;d<f.length;d++){var m=f[d],w=this.get(m);o.call(u,w,m,this)}};function Ls(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var lk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vj(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var d=o[f].indexOf("="),m=null;if(0<=d){var w=o[f].substring(0,d);m=o[f].substring(d+1)}else w=o[f];u(w,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function bo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof bo?(this.i=u!==void 0?u:o.i,mc(this,o.c),this.l=o.l,this.a=o.a,gc(this,o.g),this.f=o.f,Iy(this,dk(o.b)),this.h=o.h):o&&(f=String(o).match(lk))?(this.i=!!u,mc(this,f[1]||"",!0),this.l=yc(f[2]||""),this.a=yc(f[3]||"",!0),gc(this,f[4]),this.f=yc(f[5]||"",!0),Iy(this,f[6]||"",!0),this.h=yc(f[7]||"")):(this.i=!!u,this.b=new Ms(null,this.i))}bo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(wc(u,ck,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(wc(u,ck,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(wc(f,f.charAt(0)=="/"?yj:gj,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",wc(f,_j)),o.join("")},bo.prototype.resolve=function(o){var u=new bo(this),f=!!o.c;f?mc(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var d=o.f;if(f)gc(u,o.g);else if(f=!!o.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var m=u.f.lastIndexOf("/");m!=-1&&(d=u.f.substr(0,m+1)+d)}if(m=d,m==".."||m==".")d="";else if(Ke(m,"./")||Ke(m,"/.")){d=m.lastIndexOf("/",0)==0,m=m.split("/");for(var w=[],b=0;b<m.length;){var C=m[b++];C=="."?d&&b==m.length&&w.push(""):C==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&b==m.length&&w.push("")):(w.push(C),d=!0)}d=w.join("/")}else d=m}return f?u.f=d:f=o.b.toString()!=="",f?Iy(u,dk(o.b)):f=!!o.h,f&&(u.h=o.h),u};function mc(o,u,f){o.c=f?yc(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function gc(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Iy(o,u,f){u instanceof Ms?(o.b=u,bj(o.b,o.i)):(f||(u=wc(u,wj)),o.b=new Ms(u,o.i))}function vt(o,u,f){o.b.set(u,f)}function Er(o,u){return o.b.get(u)}function Bn(o){return o instanceof bo?new bo(o):new bo(o,void 0)}function Nd(o,u,f,d){var m=new bo(null,void 0);return o&&mc(m,o),u&&(m.a=u),f&&gc(m,f),d&&(m.f=d),m}function yc(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function wc(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,mj),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function mj(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var ck=/[#\/\?@]/g,gj=/[#\?:]/g,yj=/[#\?]/g,wj=/[#\?@]/g,_j=/#/g;function Ms(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Eo(o){o.a||(o.a=new au,o.b=0,o.c&&vj(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function fk(o){var u=uk(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Ms(null,void 0);o=ak(o);for(var d=0;d<u.length;d++){var m=u[d],w=o[d];Array.isArray(w)?hk(f,m,w):f.add(m,w)}return f}e=Ms.prototype,e.add=function(o,u){Eo(this),this.c=null,o=uu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function hi(o,u){Eo(o),u=uu(o,u),Ls(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Ls(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Ty(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Sy(o,u){return Eo(o),u=uu(o,u),Ls(o.a.b,u)}e.forEach=function(o,u){Eo(this),this.a.forEach(function(f,d){ze(f,function(m){o.call(u,m,d,this)},this)},this)},e.Y=function(){Eo(this);for(var o=this.a.W(),u=this.a.Y(),f=[],d=0;d<u.length;d++)for(var m=o[d],w=0;w<m.length;w++)f.push(u[d]);return f},e.W=function(o){Eo(this);var u=[];if(typeof o=="string")Sy(this,o)&&(u=tu(u,this.a.get(uu(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=tu(u,o[f])}return u},e.set=function(o,u){return Eo(this),this.c=null,o=uu(this,o),Sy(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function hk(o,u,f){hi(o,u),0<f.length&&(o.c=null,o.a.set(uu(o,u),ji(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var d=u[f],m=encodeURIComponent(String(d));d=this.W(d);for(var w=0;w<d.length;w++){var b=m;d[w]!==""&&(b+="="+encodeURIComponent(String(d[w]))),o.push(b)}}return this.c=o.join("&")};function dk(o){var u=new Ms;return u.c=o.c,o.a&&(u.a=new au(o.a),u.b=o.b),u}function uu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function bj(o,u){u&&!o.f&&(Eo(o),o.c=null,o.a.forEach(function(f,d){var m=d.toLowerCase();d!=m&&(hi(this,d),hk(this,m,f))},o)),o.f=u}function pk(o){var u=[];return ky(new Ej,o,u),u.join("")}function Ej(){}function ky(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var d=u;u=d.length,f.push("[");for(var m="",w=0;w<u;w++)f.push(m),ky(o,d[w],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(d in u)Object.prototype.hasOwnProperty.call(u,d)&&(w=u[d],typeof w!="function"&&(f.push(m),mk(d,f),f.push(":"),ky(o,w,f),m=","));f.push("}");return}}switch(typeof u){case"string":mk(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var vk={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Tj=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function mk(o,u){u.push('"',o.replace(Tj,function(f){var d=vk[f];return d||(d="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),vk[f]=d),d}),'"')}function Cy(){var o=Qt();return qr&&!!_o&&_o==11||/Edge\/\d+/.test(o)}function _c(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function gk(o,u){u=u||c.window;var f="about:blank";o&&(f=yd(SS(o)||CS)),u.location.href=f}function yk(o,u){var f=[],d;for(d in o)d in u?typeof o[d]!=typeof u[d]?f.push(d):typeof o[d]=="object"&&o[d]!=null&&u[d]!=null?0<yk(o[d],u[d]).length&&f.push(d):o[d]!==u[d]&&f.push(d):f.push(d);for(d in u)d in o||f.push(d);return f}function Ij(){var o=Qt();return o=lu(o)!=Ek?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!qr||!_o||9<_o}function wk(o){return o=(o||Qt()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Fs(o){o=o||c.window;try{o.close()}catch{}}function _k(o,u,f){var d=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=Qt().toLowerCase(),d&&(u.target=d,Ke(f,"crios/")&&(u.target="_blank")),lu(Qt())==Ry&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),d=window,u=f instanceof jn?f:SS(typeof f.href<"u"?f.href:String(f))||CS,f=o.target||f.target,m=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":m.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(b+"="+(o[b]?1:0))}var b=m.join(",");if((Nt("iPhone")&&!Nt("iPod")&&!Nt("iPad")||Nt("iPad")||Nt("iPod"))&&d.navigator&&d.navigator.standalone&&f&&f!="_self"?(b=_d(document,"A"),wS(b,"HTMLAnchorElement"),u=u instanceof jn?u:kS(u),b.href=yd(u),b.setAttribute("target",f),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=AS("",d,f,b),o=yd(u),b&&(GU&&Ke(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+iy(o)+'">',o=(d=bS())?d.createHTML(o):o,o=new iu(o,null,NS),d=b.document)&&(d.write(zU(o)),d.close())):(b=AS(u,d,f,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function Sj(o){return new Ie(function(u){function f(){su(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cj=/^[^@]+@[^@]+$/;function Ad(){var o=null;return new Ie(function(u){c.document.readyState=="complete"?u():(o=function(){u()},yy(window,"load",o))}).o(function(u){throw rr(window,"load",o),u})}function Nj(){return Ny(void 0)?Ad().then(function(){return new Ie(function(o,u){var f=c.document,d=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(d),o()},!1)})}):et(Error("Cordova must run in an Android or iOS file scheme."))}function Ny(o){return o=o||Qt(),!(fu()!=="file:"&&fu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ay(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function zr(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function di(){return se.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":se.INTERNAL.hasOwnProperty("node")?"Node":zr()?"Worker":"Browser"}function bk(){var o=di();return o==="ReactNative"||o==="Node"}function Aj(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Ry="Firefox",Ek="Chrome";function lu(o){var u=o.toLowerCase();if(Ke(u,"opera/")||Ke(u,"opr/")||Ke(u,"opios/"))return"Opera";if(Ke(u,"iemobile"))return"IEMobile";if(Ke(u,"msie")||Ke(u,"trident/"))return"IE";if(Ke(u,"edge/"))return"Edge";if(Ke(u,"firefox/"))return Ry;if(Ke(u,"silk/"))return"Silk";if(Ke(u,"blackberry"))return"Blackberry";if(Ke(u,"webos"))return"Webos";if(!Ke(u,"safari/")||Ke(u,"chrome/")||Ke(u,"crios/")||Ke(u,"android"))if(!Ke(u,"chrome/")&&!Ke(u,"crios/")||Ke(u,"edge/")){if(Ke(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return Ek;else return"Safari";return"Other"}var Tk={md:"FirebaseCore-web",od:"FirebaseUI-web"};function cu(o,u){u=u||[];var f=[],d={},m;for(m in Tk)d[Tk[m]]=!0;for(m=0;m<u.length;m++)typeof d[u[m]]<"u"&&(delete d[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=di(),f==="Browser"?(d=Qt(),f=lu(d)):f==="Worker"&&(d=Qt(),f=lu(d)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function Qt(){return c.navigator&&c.navigator.userAgent||""}function tt(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function xy(){try{var o=c.localStorage,u=js();if(o)return o.setItem(u,"1"),o.removeItem(u),Cy()?!!c.indexedDB:!0}catch{return zr()&&!!c.indexedDB}return!1}function Us(){return(Rd()||fu()==="chrome-extension:"||Ny())&&!bk()&&xy()&&!zr()}function Rd(){return fu()==="http:"||fu()==="https:"}function fu(){return c.location&&c.location.protocol||null}function bc(o){return o=o||Qt(),!(wk(o)||lu(o)==Ry)}function Ec(o){return typeof o>"u"?null:pk(o)}function Ik(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function hu(o){if(o!==null)return JSON.parse(o)}function js(o){return o||Math.floor(1e9*Math.random()).toString()}function Sk(o){return o=o||Qt(),!(lu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function kk(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function To(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=Qt(),u=di(),this.b=wk(o)||u==="ReactNative"}To.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(Rd()||fu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Py(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function Rj(){var o=c.document,u=null;return Py()||!o?ae():new Ie(function(f){u=function(){Py()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function Tc(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function Ck(){return!(!tt("fireauth.oauthhelper",c)&&!tt("fireauth.iframe",c))}function xj(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function Pj(){var o=c.navigator;return o&&o.serviceWorker?ae().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ae(null)}var Nk={};function Oy(o){Nk[o]||(Nk[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var Dy;try{var Ly={};Object.defineProperty(Ly,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ly,"abcd",{configurable:!0,enumerable:!0,value:2}),Dy=Ly.abcd==2}catch{Dy=!1}function te(o,u,f){Dy?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function En(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&te(o,f,u[f])}function pi(o){var u={};return En(u,o),u}function Oj(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function Dj(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var d=o[u[f]];if(d==null||d==="")return!1}return!0}function My(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)te(u,f,My(o[f]))}return u}function Fy(o){var u=o&&(o[By]?"phone":null);if(u&&o&&o[Vy]){te(this,"uid",o[Vy]),te(this,"displayName",o[Ak]||null);var f=null;o[jy]&&(f=new Date(o[jy]).toUTCString()),te(this,"enrollmentTime",f),te(this,"factorId",u)}else throw new N("internal-error","Internal assert: invalid MultiFactorInfo object")}Fy.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Uy(o){try{var u=new Ic(o)}catch{u=null}return u}var Ak="displayName",jy="enrolledAt",Vy="mfaEnrollmentId",By="phoneInfo";function Ic(o){Fy.call(this,o),te(this,"phoneNumber",o[By])}F(Ic,Fy),Ic.prototype.w=function(){var o=Ic.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function Lj(o){var u={},f=o[Mj],d=o[Uj],m=o[jj];if(o=Uy(o[Fj]),!m||m!=xd&&m!=Sc&&!f||m==Sc&&!d||m==$y&&!o)throw Error("Invalid checkActionCode response!");m==Sc?(u[xk]=f||null,u[Pk]=f||null,u[Rk]=d):(u[xk]=d||null,u[Pk]=d||null,u[Rk]=f||null),u[Vj]=o||null,te(this,$j,m),te(this,Bj,My(u))}var $y="REVERT_SECOND_FACTOR_ADDITION",xd="EMAIL_SIGNIN",Sc="VERIFY_AND_CHANGE_EMAIL",Mj="email",Fj="mfaInfo",Uj="newEmail",jj="requestType",Rk="email",xk="fromEmail",Vj="multiFactorInfo",Pk="previousEmail",Bj="data",$j="operation";function qy(o){o=Bn(o);var u=Er(o,Ok)||null,f=Er(o,Dk)||null,d=Er(o,Lk)||null;if(d=d&&Hj[d]||null,!u||!f||!d)throw new N("argument-error",Ok+", "+Dk+"and "+Lk+" are required in a valid action code URL.");En(this,{apiKey:u,operation:d,code:f,continueUrl:Er(o,qj)||null,languageCode:Er(o,zj)||null,tenantId:Er(o,Wj)||null})}var Ok="apiKey",Dk="oobCode",qj="continueUrl",zj="languageCode",Lk="mode",Wj="tenantId",Hj={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:$y,signIn:xd,verifyAndChangeEmail:Sc,verifyEmail:"VERIFY_EMAIL"};function Mk(o){try{return new qy(o)}catch{return null}}function Pd(o){var u=o[Kj];if(typeof u>"u")throw new N("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new N("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[Fk];if(f&&typeof f=="object"){u=f[$k];var d=f[Vk];if(f=f[Bk],typeof u=="string"&&u.length){if(this.a=u,typeof d<"u"&&typeof d!="boolean")throw new N("argument-error",Vk+" property must be a boolean when specified.");if(this.g=!!d,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new N("argument-error",Bk+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new N("argument-error",$k+" property must be a non empty string when specified.");if(typeof d<"u"||typeof f<"u")throw new N("missing-android-pkg-name")}}else if(typeof f<"u")throw new N("argument-error",Fk+" property must be a non null object when specified.");if(this.f=null,(u=o[jk])&&typeof u=="object"){if(u=u[qk],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new N("argument-error",qk+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new N("argument-error",jk+" property must be a non null object when specified.");if(u=o[zy],typeof u<"u"&&typeof u!="boolean")throw new N("argument-error",zy+" property must be a boolean when specified.");if(this.c=!!u,o=o[Uk],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new N("argument-error",Uk+" property must be a non empty string when specified.");this.i=o||null}var Fk="android",Uk="dynamicLinkDomain",zy="handleCodeInApp",jk="iOS",Kj="url",Vk="installApp",Bk="minimumVersion",$k="packageName",qk="bundleId";function Od(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function Gj(o){return Fi(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var kc=null;function Qj(o){var u=[];return Yj(o,function(f){u.push(f)}),u}function Yj(o,u){function f(M){for(;d<o.length;){var B=o.charAt(d++),fe=kc[B];if(fe!=null)return fe;if(!/^[\s\xa0]*$/.test(B))throw Error("Unknown base64 encoding at char: "+B)}return M}Xj();for(var d=0;;){var m=f(-1),w=f(0),b=f(64),C=f(64);if(C===64&&m===-1)break;u(m<<2|w>>4),b!=64&&(u(w<<4&240|b>>2),C!=64&&u(b<<6&192|C))}}function Xj(){if(!kc){kc={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var d=o.concat(u[f].split("")),m=0;m<d.length;m++){var w=d[m];kc[w]===void 0&&(kc[w]=m)}}}function Dd(o){var u=zk(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Dd.prototype.T=function(){return this.f},Dd.prototype.l=function(){return this.c},Dd.prototype.toString=function(){return this.h};function Ld(o){try{return new Dd(o)}catch{return null}}function zk(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var d=Qj(o);for(o=[],f=u=0;u<d.length;){var m=d[u++];if(128>m)o[f++]=String.fromCharCode(m);else if(191<m&&224>m){var w=d[u++];o[f++]=String.fromCharCode((m&31)<<6|w&63)}else if(239<m&&365>m){w=d[u++];var b=d[u++],C=d[u++],M=((m&7)<<18|(w&63)<<12|(b&63)<<6|C&63)-65536;o[f++]=String.fromCharCode(55296+(M>>10)),o[f++]=String.fromCharCode(56320+(M&1023))}else w=d[u++],b=d[u++],o[f++]=String.fromCharCode((m&15)<<12|(w&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var Wk="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Md=["client_id","response_type","scope","redirect_uri","state"],Wy={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Md},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Md},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Md},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Wk},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Hy(o){for(var u in Wy)if(Wy[u].fa==o)return Wy[u];return null}function Hk(o){var u={};u["facebook.com"]=Gk,u["google.com"]=Yk,u["github.com"]=Qk,u["twitter.com"]=Xk;var f=o&&o[Kk];try{if(f)return u[f]?new u[f](o):new vi(o);if(typeof o[Ky]<"u")return new Gy(o)}catch{}return null}var Ky="idToken",Kk="providerId";function Gy(o){var u=o[Kk];if(!u&&o[Ky]){var f=Ld(o[Ky]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),te(this,"providerId",u),te(this,"isNewUser",f)}function vi(o){Gy.call(this,o),o=hu(o.rawUserInfo||"{}"),te(this,"profile",My(o||{}))}F(vi,Gy);function Gk(o){if(vi.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}F(Gk,vi);function Qk(o){if(vi.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");te(this,"username",this.profile&&this.profile.login||null)}F(Qk,vi);function Yk(o){if(vi.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}F(Yk,vi);function Xk(o){if(vi.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");te(this,"username",o.screenName||null)}F(Xk,vi);function Jk(o){var u=Bn(o),f=Er(u,"link"),d=Er(Bn(f),"link");return u=Er(u,"deep_link_id"),Er(Bn(u),"link")||u||d||f||o}function Fd(o,u){if(!o&&!u)throw new N("internal-error","Internal assert: no raw session string available");if(o&&u)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Cc:Ud}var Cc="enroll",Ud="signin";Fd.prototype.Ha=function(){return this.a?ae(this.a):ae(this.b)},Fd.prototype.w=function(){return this.type==Cc?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function du(){}du.prototype.ka=function(){},du.prototype.b=function(){},du.prototype.c=function(){},du.prototype.w=function(){};function pu(o,u){return o.then(function(f){if(f[Kr]){var d=Ld(f[Kr]);if(!d||u!=d.i)throw new N("user-mismatch");return f}throw new N("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==_n+"user-not-found"?new N("user-mismatch"):f})}function Vs(o,u){if(u)this.a=u;else throw new N("internal-error","failed to construct a credential");te(this,"providerId",o),te(this,"signInMethod",o)}Vs.prototype.ka=function(o){return y0(o,Qy(this))},Vs.prototype.b=function(o,u){var f=Qy(this);return f.idToken=u,w0(o,f)},Vs.prototype.c=function(o,u){return pu(_0(o,Qy(this)),u)};function Qy(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Vs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Jj(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Vs(o.providerId,o.pendingToken)}catch{}return null}function Bi(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&te(this,"idToken",u.idToken),u.accessToken&&te(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&te(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)te(this,"accessToken",u.oauthToken),te(this,"secret",u.oauthTokenSecret);else throw new N("internal-error","failed to construct a credential");te(this,"providerId",o),te(this,"signInMethod",f)}Bi.prototype.ka=function(o){return y0(o,Yy(this))},Bi.prototype.b=function(o,u){var f=Yy(this);return f.idToken=u,w0(o,f)},Bi.prototype.c=function(o,u){var f=Yy(this);return pu(_0(o,f),u)};function Yy(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:fk(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}Bi.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function Zj(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new Bi(o.providerId,u,o.signInMethod)}catch{}}return null}function Bs(o,u){this.Qc=u||[],En(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(Hy(o)||{}).Ja||null,this.ob=null}Bs.prototype.Ka=function(o){return this.Ib=wo(o),this};function Zk(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');Bs.call(this,o,[])}F(Zk,Bs);function ir(o){Bs.call(this,o,Md),this.a=[]}F(ir,Bs),ir.prototype.Ca=function(o){return $r(this.a,o)||this.a.push(o),this},ir.prototype.Qb=function(){return ji(this.a)},ir.prototype.credential=function(o,u){var f;if(S(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new Bi(this.providerId,f,this.providerId)};function $s(){ir.call(this,"facebook.com")}F($s,ir),te($s,"PROVIDER_ID","facebook.com"),te($s,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function eC(o){if(!o)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return S(o)&&(u=o.accessToken),new $s().credential({accessToken:u})}function qs(){ir.call(this,"github.com")}F(qs,ir),te(qs,"PROVIDER_ID","github.com"),te(qs,"GITHUB_SIGN_IN_METHOD","github.com");function tC(o){if(!o)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return S(o)&&(u=o.accessToken),new qs().credential({accessToken:u})}function zs(){ir.call(this,"google.com"),this.Ca("profile")}F(zs,ir),te(zs,"PROVIDER_ID","google.com"),te(zs,"GOOGLE_SIGN_IN_METHOD","google.com");function nC(o,u){var f=o;return S(o)&&(f=o.idToken,u=o.accessToken),new zs().credential({idToken:f,accessToken:u})}function vu(){Bs.call(this,"twitter.com",Wk)}F(vu,Bs),te(vu,"PROVIDER_ID","twitter.com"),te(vu,"TWITTER_SIGN_IN_METHOD","twitter.com");function rC(o,u){var f=o;if(S(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Bi("twitter.com",f,"twitter.com")}function Io(o,u,f){this.a=o,this.f=u,te(this,"providerId","password"),te(this,"signInMethod",f===Tr.EMAIL_LINK_SIGN_IN_METHOD?Tr.EMAIL_LINK_SIGN_IN_METHOD:Tr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Io.prototype.ka=function(o){return this.signInMethod==Tr.EMAIL_LINK_SIGN_IN_METHOD?ke(o,FV,{email:this.a,oobCode:this.f}):ke(o,xC,{email:this.a,password:this.f})},Io.prototype.b=function(o,u){return this.signInMethod==Tr.EMAIL_LINK_SIGN_IN_METHOD?ke(o,UV,{idToken:u,email:this.a,oobCode:this.f}):ke(o,RC,{idToken:u,email:this.a,password:this.f})},Io.prototype.c=function(o,u){return pu(this.ka(o),u)},Io.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function eV(o){return o&&o.email&&o.password?new Io(o.email,o.password,o.signInMethod):null}function Tr(){En(this,{providerId:"password",isOAuthProvider:!1})}function iC(o,u){if(u=Xy(u),!u)throw new N("argument-error","Invalid email link!");return new Io(o,u.code,Tr.EMAIL_LINK_SIGN_IN_METHOD)}function Xy(o){return o=Jk(o),(o=Mk(o))&&o.operation===xd?o:null}En(Tr,{PROVIDER_ID:"password"}),En(Tr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),En(Tr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function So(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new N("internal-error");this.a=o,te(this,"providerId","phone"),this.fa="phone",te(this,"signInMethod","phone")}So.prototype.ka=function(o){return o.fb(Nc(this))},So.prototype.b=function(o,u){var f=Nc(this);return f.idToken=u,ke(o,iB,f)},So.prototype.c=function(o,u){var f=Nc(this);return f.operation="REAUTH",o=ke(o,oB,f),pu(o,u)},So.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function tV(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return ze(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new So(u)}return null}function Nc(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function $i(o){try{this.a=o||se.auth()}catch{throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}En(this,{providerId:"phone",isOAuthProvider:!1})}$i.prototype.fb=function(o,u){var f=this.a.a;return ae(u.verify()).then(function(d){if(typeof d!="string")throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=S(o)?o.session:null,w=S(o)?o.phoneNumber:o,b;return m&&m.type==Cc?b=m.Ha().then(function(C){return NV(f,{idToken:C,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):m&&m.type==Ud?b=m.Ha().then(function(C){return AV(f,{mfaPendingCredential:C,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=CV(f,{phoneNumber:w,recaptchaToken:d}),b.then(function(C){return typeof u.reset=="function"&&u.reset(),C},function(C){throw typeof u.reset=="function"&&u.reset(),C});default:throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function oC(o,u){if(!o)throw new N("missing-verification-id");if(!u)throw new N("missing-verification-code");return new So({eb:o,cb:u})}En($i,{PROVIDER_ID:"phone"}),En($i,{PHONE_SIGN_IN_METHOD:"phone"});function Jy(o){if(o.temporaryProof&&o.phoneNumber)return new So({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,d=o&&o.oauthTokenSecret,m=o&&o.nonce,w=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(u){case"google.com":return nC(w,f);case"facebook.com":return eC(f);case"github.com":return tC(f);case"twitter.com":return rC(f,d);default:return f||d||w||b?b?u.indexOf("saml.")==0?new Vs(u,b):new Bi(u,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new ir(u).credential({idToken:w,accessToken:f,rawNonce:m}):null}}catch{return null}}function Zy(o){if(!o.isOAuthProvider)throw new N("invalid-oauth-provider")}function Wr(o,u,f,d,m,w,b){if(this.c=o,this.b=u||null,this.g=f||null,this.f=d||null,this.i=w||null,this.h=b||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}else throw new N("invalid-auth-event")}Wr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Wr.prototype.T=function(){return this.h},Wr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function sC(o){return o=o||{},o.type?new Wr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&_t(o.error),o.postBody,o.tenantId):null}function nV(){this.b=null,this.a=[]}var e0=null;function rV(o){var u=e0;u.a.push(o),u.b||(u.b=function(f){for(var d=0;d<u.a.length;d++)u.a[d](f)},o=tt("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function t0(o){var u="unauthorized-domain",f=void 0,d=Bn(o);o=d.a,d=d.c,d=="chrome-extension"?f=RS("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):d=="http"||d=="https"?f=RS("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",N.call(this,u,f)}F(t0,N);function Ac(o,u,f){N.call(this,o,f),o=u||{},o.Jb&&te(this,"email",o.Jb),o.ea&&te(this,"phoneNumber",o.ea),o.credential&&te(this,"credential",o.credential),o.Zb&&te(this,"tenantId",o.Zb)}F(Ac,N),Ac.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Un(o,u),o},Ac.prototype.toJSON=function(){return this.w()};function jd(o){if(o.code){var u=o.code||"";u.indexOf(_n)==0&&(u=u.substring(_n.length));var f={credential:Jy(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new N(u,o.message||void 0);return new Ac(u,f,o.message)}return null}function Rc(){}Rc.prototype.c=null;function aC(o){return o.c||(o.c=o.b())}var n0;function Vd(){}F(Vd,Rc),Vd.prototype.a=function(){var o=uC(this);return o?new ActiveXObject(o):new XMLHttpRequest},Vd.prototype.b=function(){var o={};return uC(this)&&(o[0]=!0,o[1]=!0),o};function uC(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var d=u[f];try{return new ActiveXObject(d),o.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}n0=new Vd;function Bd(){}F(Bd,Rc),Bd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new lC;throw Error("Unsupported browser")},Bd.prototype.b=function(){return{}};function lC(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=x(this.qc,this),this.a.onerror=x(this.Sb,this),this.a.onprogress=x(this.rc,this),this.a.ontimeout=x(this.vc,this)}e=lC.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,r0(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",r0(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,r0(this,1)};function r0(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function i0(o,u,f){this.reset(o,u,f,void 0,void 0)}i0.prototype.a=null,i0.prototype.reset=function(o,u,f,d,m){delete this.a};function o0(o){this.f=o,this.b=this.c=this.a=null}function xc(o,u){this.name=o,this.value=u}xc.prototype.toString=function(){return this.name};var cC=new xc("SEVERE",1e3),s0=new xc("WARNING",900),iV=new xc("CONFIG",700),oV=new xc("FINE",500);function fC(o){return o.c?o.c:o.a?fC(o.a):(Q("Root logger has no level set."),null)}o0.prototype.log=function(o,u,f){if(o.value>=fC(this).value)for(T(u)&&(u=u()),o=new i0(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var a0={},$d=null;function u0(o){$d||($d=new o0(""),a0[""]=$d,$d.c=iV);var u;if(!(u=a0[o])){u=new o0(o);var f=o.lastIndexOf("."),d=o.substr(f+1);f=u0(o.substr(0,f)),f.b||(f.b={}),f.b[d]=u,u.a=f,a0[o]=u}return u}function Ir(o,u){o&&o.log(oV,u,void 0)}function qd(o){this.f=o}F(qd,Rc),qd.prototype.a=function(){return new zd(this.f)},qd.prototype.b=function(o){return function(){return o}}({});function zd(o){bn.call(this),this.u=o,this.h=void 0,this.readyState=l0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=u0("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}F(zd,bn);var l0=0;e=zd.prototype,e.open=function(o,u){if(this.readyState!=l0)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Oc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Pc(this)),this.readyState=l0},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Oc(this)),this.a&&(this.readyState=3,Oc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,hC(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function hC(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Pc(this):Oc(this),this.readyState==3&&hC(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,Pc(this))},e.sc=function(o){this.a&&(this.response=o,Pc(this))},e.Ua=function(o){var u=this.i;u&&u.log(s0,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Pc(this)};function Pc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Oc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(s0,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(s0,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Oc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(zd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Dc(o){bn.call(this),this.headers=new au,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=dC,this.u=this.S=!1}F(Dc,bn);var dC="";Dc.prototype.b=u0("goog.net.XhrIo");var sV=/^https?$/i,aV=["POST","PUT"];function uV(o,u,f,d,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():n0.a(),o.C=o.D?aC(o.D):aC(n0),o.a.onreadystatechange=x(o.Vb,o);try{Ir(o.b,qi(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(b){Ir(o.b,qi(o,"Error opening Xhr: "+b.message)),pC(o,b);return}u=d||"";var w=new au(o.headers);m&&pj(m,function(b,C){w.set(C,b)}),m=Ui(w.Y()),d=c.FormData&&u instanceof c.FormData,!$r(aV,f)||m||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(b,C){this.a.setRequestHeader(C,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{gC(o),0<o.g&&(o.u=lV(o.a),Ir(o.b,qi(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=x(o.Ma,o)):o.s=Ey(o.Ma,o.g,o)),Ir(o.b,qi(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(b){Ir(o.b,qi(o,"Send error: "+b.message)),pC(o,b)}}function lV(o){return qr&&DS(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function cV(o){return o.toLowerCase()=="content-type"}e=Dc.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ir(this.b,qi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function pC(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,vC(o),Wd(o)}function vC(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Ir(this.b,qi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Wd(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Wd(this,!0)),Dc.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?mC(this):this.Jc())},e.Jc=function(){mC(this)};function mC(o){if(o.c&&typeof l<"u"){if(o.C[1]&&Lc(o)==4&&Hd(o)==2)Ir(o.b,qi(o,"Local request error detected and ignored"));else if(o.i&&Lc(o)==4)Ey(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),Lc(o)==4){Ir(o.b,qi(o,"Request complete")),o.c=!1;try{var u=Hd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var d;if(!(d=f)){var m;if(m=u===0){var w=String(o.l).match(lk)[1]||null;if(!w&&c.self&&c.self.location){var b=c.self.location.protocol;w=b.substr(0,b.length-1)}m=!sV.test(w?w.toLowerCase():"")}d=m}if(d)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var C=2<Lc(o)?o.a.statusText:""}catch(M){Ir(o.b,"Can not get status: "+M.message),C=""}o.h=C+" ["+Hd(o)+"]",vC(o)}}finally{Wd(o)}}}}function Wd(o,u){if(o.a){gC(o);var f=o.a,d=o.C[0]?g:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=d}catch(m){(o=o.b)&&o.log(cC,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function gC(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function Lc(o){return o.a?o.a.readyState:0}function Hd(o){try{return 2<Lc(o)?o.a.status:-1}catch{return-1}}function fV(o){try{return o.a?o.a.responseText:""}catch(u){return Ir(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case dC:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(cC,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Ir(this.b,"Can not get response: "+u.message),null}};function qi(o,u){return u+" ["+o.R+" "+o.l+" "+Hd(o)+"]"}function Ws(o){var u=pV;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ws.prototype.cancel=function(o){if(this.a)this.c instanceof Ws&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Fc,Kd(this),Mc(this,!1,o))}},Ws.prototype.m=function(o,u){this.i=!1,Mc(this,o,u)};function Mc(o,u,f){o.a=!0,o.c=f,o.f=!u,wC(o)}function Kd(o){if(o.a){if(!o.v)throw new Gd;o.v=!1}}function hV(o,u){c0(o,null,u,void 0)}function c0(o,u,f,d){o.g.push([u,f,d]),o.a&&wC(o)}Ws.prototype.then=function(o,u,f){var d,m,w=new Ie(function(b,C){d=b,m=C});return c0(this,d,function(b){b instanceof Fc?w.cancel():m(b)}),w.then(o,u,f)},Ws.prototype.$goog_Thenable=!0;function yC(o){return Za(o.g,function(u){return T(u[1])})}function wC(o){if(o.h&&o.a&&yC(o)){var u=o.h,f=Qd[u];f&&(c.clearTimeout(f.a),delete Qd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var d=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),w=m[0],b=m[1];if(m=m[2],w=o.f?b:w)try{var C=w.call(m||o.s,u);C!==void 0&&(o.f=o.f&&(C==u||C instanceof Error),o.c=u=C),(Te(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(d=!0,o.i=!0)}catch(M){u=M,o.f=!0,yC(o)||(f=!0)}}o.c=u,d&&(C=x(o.m,o,!0),d=x(o.m,o,!1),u instanceof Ws?(c0(u,C,d),u.C=!0):u.then(C,d)),f&&(u=new _C(u),Qd[u.a]=u,o.h=u.a)}function Gd(){$.call(this)}F(Gd,$),Gd.prototype.message="Deferred has already fired",Gd.prototype.name="AlreadyCalledError";function Fc(){$.call(this)}F(Fc,$),Fc.prototype.message="Deferred was canceled",Fc.prototype.name="CanceledError";function _C(o){this.a=c.setTimeout(x(this.c,this),0),this.b=o}_C.prototype.c=function(){throw delete Qd[this.a],this.b};var Qd={};function f0(o){var u={},f=u.document||document,d=ES(o).toString(),m=_d(document,"SCRIPT"),w={Wb:m,Ma:void 0},b=new Ws(w),C=null,M=u.timeout!=null?u.timeout:5e3;return 0<M&&(C=window.setTimeout(function(){Yd(m,!0);var B=new h0(mV,"Timeout reached for loading script "+d);Kd(b),Mc(b,!1,B)},M),w.Ma=C),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(Yd(m,u.xd||!1,C),Kd(b),Mc(b,!0,null))},m.onerror=function(){Yd(m,!0,C);var B=new h0(vV,"Error while loading script "+d);Kd(b),Mc(b,!1,B)},w=u.attributes||{},Un(w,{type:"text/javascript",charset:"UTF-8"}),MS(m,w),WU(m,o),dV(f).appendChild(m),b}function dV(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function pV(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&Yd(o,!0,this.Ma)}}function Yd(o,u,f){f!=null&&c.clearTimeout(f),o.onload=g,o.onerror=g,o.onreadystatechange=g,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var vV=0,mV=1;function h0(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),$.call(this,f),this.code=o}F(h0,$);function Xd(o){this.f=o}F(Xd,Rc),Xd.prototype.a=function(){return new this.f},Xd.prototype.b=function(){return{}};function Hr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||gV,this.g=wo(o.secureTokenHeaders||yV),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||wV,this.a=wo(o.firebaseHeaders||_V),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=di()=="Node",f=c.XMLHttpRequest||f&&se.INTERNAL.node&&se.INTERNAL.node.XMLHttpRequest,!f&&!zr())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,zr()?this.f=new qd(self):bk()?this.f=new Xd(f):this.f=new Bd,this.b=null}var d0,Kr="idToken",gV=new To(3e4,6e4),yV={"Content-Type":"application/x-www-form-urlencoded"},wV=new To(3e4,6e4),_V={"Content-Type":"application/json"};function bC(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function mu(o,u){u&&(o.l=p0("https://securetoken.googleapis.com/v1/token",u),o.h=p0("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=p0("https://identitytoolkit.googleapis.com/v2/",u))}function p0(o,u){return o=Bn(o),u=Bn(u.url),o.f=o.a+o.f,mc(o,u.c),o.a=u.a,gc(o,u.g),o.toString()}function EC(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Hr.prototype.T=function(){return this.b};function TC(o,u,f,d,m,w,b){Ij()||zr()?o=x(o.u,o):(d0||(d0=new Ie(function(C,M){EV(C,M)})),o=x(o.s,o)),o(u,f,d,m,w,b)}Hr.prototype.u=function(o,u,f,d,m,w){if(zr()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new Dc(this.f);if(w){b.g=Math.max(0,w);var C=setTimeout(function(){b.dispatchEvent("timeout")},w)}sk(b,"complete",function(){C&&clearTimeout(C);var M=null;try{M=JSON.parse(fV(this))||null}catch{M=null}u&&u(M)}),by(b,"ready",function(){C&&clearTimeout(C),ZS(this)}),by(b,"timeout",function(){C&&clearTimeout(C),ZS(this),u&&u(null)}),uV(b,o,f,d,m)};var bV=new fi(md,"https://apis.google.com/js/client.js?onload=%{onload}"),IC="__fcb"+Math.floor(1e6*Math.random()).toString();function EV(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[IC]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=ry(bV,{onload:IC});hV(f0(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Hr.prototype.s=function(o,u,f,d,m){var w=this;d0.then(function(){window.gapi.client.setApiKey(w.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:d,headers:m,authType:"none",callback:function(C){window.gapi.auth.setToken(b),u&&u(C)}})}).o(function(b){u&&u({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function TV(o,u){return new Ie(function(f,d){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?TC(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?d(E0(m)):m.access_token&&m.refresh_token?f(m):d(new N("internal-error")):d(new N("network-request-failed"))},"POST",fk(u).toString(),o.g,o.m.get()):d(new N("internal-error"))})}function SC(o,u,f,d,m,w,b){var C=Bn(u+f);vt(C,"key",o.c),b&&vt(C,"cb",Date.now().toString());var M=d=="GET";if(M)for(var B in m)m.hasOwnProperty(B)&&vt(C,B,m[B]);return new Ie(function(fe,je){TC(o,C.toString(),function(De){De?De.error?je(E0(De,w||{})):fe(De):je(new N("network-request-failed"))},d,M?void 0:pk(Ik(m)),o.a,o.v.get())})}function Hs(o){if(o=o.email,typeof o!="string"||!Cj.test(o))throw new N("invalid-email")}function kC(o){"email"in o&&Hs(o)}function IV(o,u){return ke(o,DV,{identifier:u,continueUri:Rd()?_c():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function SV(o){return ke(o,HV,{}).then(function(u){return u.authorizedDomains||[]})}function $n(o){if(!o[Kr])throw o.mfaPendingCredential?new N("multi-factor-auth-required",null,wo(o)):new N("internal-error")}function v0(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new N("internal-error")}else{if(!o.sessionInfo)throw new N("missing-verification-id");if(!o.code)throw new N("missing-verification-code")}}Hr.prototype.zb=function(){return ke(this,YV,{})},Hr.prototype.Bb=function(o,u){return ke(this,AC,{idToken:o,email:u})},Hr.prototype.Cb=function(o,u){return ke(this,RC,{idToken:o,password:u})};var kV={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Hr.prototype,e.Db=function(o,u){var f={idToken:o},d=[];return gS(kV,function(m,w){var b=u[w];b===null?d.push(m):w in u&&(f[w]=b)}),d.length&&(f.deleteAttribute=d),ke(this,AC,f)},e.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Un(o,u),ke(this,WV,o)},e.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Un(o,u),ke(this,$V,o)},e.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Un(o,u),ke(this,qV,o)},e.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Un(o,f),ke(this,zV,o)};function CV(o,u){return ke(o,QV,u)}e.fb=function(o){return ke(this,rB,o)};function NV(o,u){return ke(o,XV,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function CC(o){if(!o.phoneVerificationInfo)throw new N("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new N("missing-verification-code")}function AV(o,u){return ke(o,JV,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function RV(o,u,f){return ke(o,MV,{idToken:u,deleteProvider:f})}function m0(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new N("internal-error")}function g0(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Ms(o.postBody),Sy(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function NC(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=jd(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=jd(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=jd(o)):o.errorMessage&&(u=PC(o.errorMessage)),u)throw u;$n(o)}function y0(o,u){return u.returnIdpCredential=!0,ke(o,ZV,u)}function w0(o,u){return u.returnIdpCredential=!0,ke(o,tB,u)}function _0(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,ke(o,eB,u)}function b0(o){if(!o.oobCode)throw new N("invalid-action-code")}e.nb=function(o,u){return ke(this,GV,{oobCode:o,newPassword:u})},e.Ra=function(o){return ke(this,PV,{oobCode:o})},e.jb=function(o){return ke(this,xV,{oobCode:o})};var xV={endpoint:"setAccountInfo",A:b0,Z:"email",B:!0},PV={endpoint:"resetPassword",A:b0,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},B:!0},OV={endpoint:"signupNewUser",A:function(o){if(Hs(o),!o.password)throw new N("weak-password")},G:$n,V:!0,B:!0},DV={endpoint:"createAuthUri",B:!0},LV={endpoint:"deleteAccount",N:["idToken"]},MV={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new N("internal-error")}},FV={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Hs,G:$n,V:!0,B:!0},UV={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Hs,G:$n,V:!0},jV={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:CC,G:$n,B:!0,Na:!0},VV={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:CC,G:$n,B:!0,Na:!0},BV={endpoint:"getAccountInfo"},$V={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new N("internal-error");Hs(o)},Z:"email",B:!0},qV={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new N("internal-error")},Z:"email",B:!0},zV={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},Z:"email",B:!0},WV={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new N("internal-error");Hs(o)},Z:"email",B:!0},HV={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},KV={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new N("internal-error")}},GV={endpoint:"resetPassword",A:b0,Z:"email",B:!0},QV={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},AC={endpoint:"setAccountInfo",N:["idToken"],A:kC,V:!0},RC={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(kC(o),!o.password)throw new N("weak-password")},G:$n,V:!0},YV={endpoint:"signupNewUser",G:$n,V:!0,B:!0},XV={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new N("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},JV={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},ZV={endpoint:"verifyAssertion",A:m0,Ya:g0,G:NC,V:!0,B:!0},eB={endpoint:"verifyAssertion",A:m0,Ya:g0,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new N("user-not-found");if(o.errorMessage)throw PC(o.errorMessage);$n(o)},V:!0,B:!0},tB={endpoint:"verifyAssertion",A:function(o){if(m0(o),!o.idToken)throw new N("internal-error")},Ya:g0,G:NC,V:!0},nB={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new N("invalid-custom-token")},G:$n,V:!0,B:!0},xC={endpoint:"verifyPassword",A:function(o){if(Hs(o),!o.password)throw new N("wrong-password")},G:$n,V:!0,B:!0},rB={endpoint:"verifyPhoneNumber",A:v0,G:$n,B:!0},iB={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new N("internal-error");v0(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",jd(o);$n(o)}},oB={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:v0,G:$n,B:!0},sB={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Kr]^!!o.refreshToken)throw new N("internal-error")},B:!0,Na:!0};function ke(o,u,f){if(!Dj(f,u.N))return et(new N("internal-error"));var d=!!u.Na,m=u.Ub||"POST",w;return ae(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),d?SC(o,o.i,u.endpoint,m,f,u.Hb,u.lb||!1):SC(o,o.h,u.endpoint,m,f,u.Hb,u.lb||!1)}).then(function(b){return w=b,u.Ya?u.Ya(f,w):w}).then(u.G).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new N("internal-error");return w[u.Z]})}function PC(o){return E0({error:{errors:[{message:o}],code:400,message:o}})}function E0(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=d[f]?new N(d[f]):null)return f;f=o.error&&o.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Un(d,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in d)if(f.indexOf(m)===0)return new N(d[m],u);return!u&&o&&(u=Ec(o)),new N("internal-error",u)}function aB(o){this.b=o,this.a=null,this.rb=uB(this)}function uB(o){return pB().then(function(){return new Ie(function(u,f){tt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function m(){clearTimeout(w),u()}o.a=d,o.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){f(Error("Network Error"))},dB.get());d.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function lB(o,u){return o.rb.then(function(){return new Ie(function(f){o.a.send(u.type,u,f,tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function cB(o,u){o.rb.then(function(){o.a.register("authEvent",u,tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var fB=new fi(md,"https://apis.google.com/js/api.js?onload=%{onload}"),hB=new To(3e4,6e4),dB=new To(5e3,15e3),Jd=null;function pB(){return Jd||(Jd=new Ie(function(o,u){function f(){kk(),tt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){kk(),u(Error("Network Error"))},timeout:hB.get()})}if(tt("gapi.iframes.Iframe"))o();else if(tt("gapi.load"))f();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[d]=function(){tt("gapi.load")?f():u(Error("Network Error"))},d=ry(fB,{onload:d}),ae(f0(d)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Jd=null,o}))}function OC(o,u,f,d){this.l=o,this.h=u,this.i=f,this.g=d,this.f=null,this.g?(o=Bn(this.g.url),o=Nd(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Nd("https",this.l,null,"/__/auth/iframe"),this.a=o,vt(this.a,"apiKey",this.h),vt(this.a,"appName",this.i),this.b=null,this.c=[]}OC.prototype.toString=function(){return this.f?vt(this.a,"v",this.f):hi(this.a.b,"v"),this.b?vt(this.a,"eid",this.b):hi(this.a.b,"eid"),this.c.length?vt(this.a,"fw",this.c.join(",")):hi(this.a.b,"fw"),this.a.toString()};function T0(o,u,f,d,m,w){this.u=o,this.s=u,this.c=f,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}T0.prototype.yb=function(o){return this.h=o,this},T0.prototype.toString=function(){if(this.v){var o=Bn(this.v.url);o=Nd(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Nd("https",this.u,null,"/__/auth/handler");if(vt(o,"apiKey",this.s),vt(o,"appName",this.c),vt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=se.app(this.c).auth().la()}catch{f=null}u.ob=f,vt(o,"providerId",this.a.providerId),f=this.a,u=Ik(f.Ib);for(var d in u)u[d]=u[d].toString();d=f.Qc,u=wo(u);for(var m=0;m<d.length;m++){var w=d[m];w in u&&delete u[w]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),xs(u)||vt(o,"customParameters",Ec(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&vt(o,"scopes",f.join(","))),this.l?vt(o,"redirectUrl",this.l):hi(o.b,"redirectUrl"),this.g?vt(o,"eventId",this.g):hi(o.b,"eventId"),this.i?vt(o,"v",this.i):hi(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!Er(o,b)&&vt(o,b,this.b[b]);return this.h?vt(o,"tid",this.h):hi(o.b,"tid"),this.f?vt(o,"eid",this.f):hi(o.b,"eid"),b=I0(this.c),b.length&&vt(o,"fw",b.join(",")),o.toString()};function I0(o){try{return se.app(o).auth().Ga()}catch{return[]}}function DC(o,u,f,d,m,w){this.s=o,this.g=u,this.b=f,this.f=w,this.c=d||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function LC(o){var u=_c();return SV(o).then(function(f){e:{var d=Bn(u),m=d.c;d=d.a;for(var w=0;w<f.length;w++){var b=f[w],C=d,M=m;if(b.indexOf("chrome-extension://")==0?C=Bn(b).a==C&&M=="chrome-extension":M!="http"&&M!="https"?C=!1:kj.test(b)?C=C==b:(b=b.split(".").join("\\."),C=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(C)),C){f=!0;break e}}f=!1}if(!f)throw new t0(_c())})}function MC(o){return o.m||(o.m=Ad().then(function(){if(!o.u){var u=o.c,f=o.i,d=I0(o.b),m=new OC(o.s,o.g,o.b,o.f);m.f=u,m.b=f,m.c=ji(d||[]),o.u=m.toString()}o.v=new aB(o.u),vB(o)})),o.m}e=DC.prototype,e.Ob=function(o,u,f){var d=new N("popup-closed-by-user"),m=new N("web-storage-unsupported"),w=this,b=!1;return this.ma().then(function(){mB(w).then(function(C){C||(o&&Fs(o),u(m),b=!0)})}).o(function(){}).then(function(){if(!b)return Sj(o)}).then(function(){if(!b)return su(f).then(function(){u(d)})})},e.Xb=function(){var o=Qt();return!bc(o)&&!Sk(o)},e.Tb=function(){return!1},e.Mb=function(o,u,f,d,m,w,b,C){if(!o)return et(new N("popup-blocked"));if(b&&!bc())return this.ma().o(function(B){Fs(o),m(B)}),d(),ae();this.a||(this.a=LC(FC(this)));var M=this;return this.a.then(function(){var B=M.ma().o(function(fe){throw Fs(o),m(fe),fe});return d(),B}).then(function(){if(Zy(f),!b){var B=Uc(M.s,M.g,M.b,u,f,null,w,M.c,void 0,M.i,C,M.f);gk(B,o)}}).o(function(B){throw B.code=="auth/network-request-failed"&&(M.a=null),B})};function FC(o){return o.l||(o.C=o.c?cu(o.c,I0(o.b)):null,o.l=new Hr(o.g,L(o.i),o.C),o.f&&mu(o.l,o.f)),o.l}e.Nb=function(o,u,f,d){this.a||(this.a=LC(FC(this)));var m=this;return this.a.then(function(){Zy(u);var w=Uc(m.s,m.g,m.b,o,u,_c(),f,m.c,void 0,m.i,d,m.f);gk(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(m.a=null),w})},e.ma=function(){var o=this;return MC(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new N("network-request-failed")})},e.$b=function(){return!0};function Uc(o,u,f,d,m,w,b,C,M,B,fe,je){return o=new T0(o,u,f,d,m,je),o.l=w,o.g=b,o.i=C,o.b=wo(M||null),o.f=B,o.yb(fe).toString()}function vB(o){if(!o.v)throw Error("IfcHandler must be initialized!");cB(o.v,function(u){var f={};if(u&&u.authEvent){var d=!1;for(u=sC(u.authEvent),f=0;f<o.h.length;f++)d=o.h[f](u)||d;return f={},f.status=d?"ACK":"ERROR",ae(f)}return f.status="ERROR",ae(f)})}function mB(o){var u={type:"webStorageSupport"};return MC(o).then(function(){return lB(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){nr(this.h,function(u){return u==o})};function UC(o){if(this.a=o||se.INTERNAL.reactNative&&se.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=UC.prototype,e.get=function(o){return ae(this.a.getItem(o)).then(function(u){return u&&hu(u)})},e.set=function(o,u){return ae(this.a.setItem(o,Ec(u)))},e.U=function(o){return ae(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function jC(o){this.b=o,this.a={},this.f=x(this.c,this)}var VC=[];function gB(){var o=zr()?self:null;if(ze(VC,function(f){f.b==o&&(u=f)}),!u){var u=new jC(o);VC.push(u)}return u}jC.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,d=this.a[u];if(d&&0<d.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];ze(d,function(w){m.push(ae().then(function(){return w(o.origin,o.data.data)}))}),zS(m).then(function(w){var b=[];ze(w,function(C){b.push({fulfilled:C.Pb,value:C.value,reason:C.reason?C.reason.message:void 0})}),ze(b,function(C){for(var M in C)typeof C[M]>"u"&&delete C[M]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:b})})}};function BC(o,u,f){xs(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function $C(o){this.a=o}$C.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function qC(o){this.c=o,this.b=!1,this.a=[]}function zC(o,u,f,d){var m,w=f||{},b,C,M,B=null;if(o.b)return et(Error("connection_unavailable"));var fe=d?800:50,je=typeof MessageChannel<"u"?new MessageChannel:null;return new Ie(function(De,Ut){je?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),je.port1.start(),C=setTimeout(function(){Ut(Error("unsupported_event"))},fe),b=function(zi){zi.data.eventId===m&&(zi.data.status==="ack"?(clearTimeout(C),M=setTimeout(function(){Ut(Error("timeout"))},3e3)):zi.data.status==="done"?(clearTimeout(M),typeof zi.data.response<"u"?De(zi.data.response):Ut(Error("unknown_error"))):(clearTimeout(C),clearTimeout(M),Ut(Error("invalid_response"))))},B={messageChannel:je,onMessage:b},o.a.push(B),je.port1.addEventListener("message",b),o.c.postMessage({eventType:u,eventId:m,data:w},[je.port2])):Ut(Error("connection_unavailable"))}).then(function(De){return S0(o,B),De}).o(function(De){throw S0(o,B),De})}function S0(o,u){if(u){var f=u.messageChannel,d=u.onMessage;f&&(f.port1.removeEventListener("message",d),f.port1.close()),nr(o.a,function(m){return m==u})}}qC.prototype.close=function(){for(;0<this.a.length;)S0(this,this.a[0]);this.b=!0};function WC(){if(!N0())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;zr()&&self?(this.v=gB(),BC(this.v,"keyChanged",function(u,f){return GC(o).then(function(d){return 0<d.length&&ze(o.a,function(m){m(d)}),{keyProcessed:$r(d,f.key)}})}),BC(this.v,"ping",function(){return ae(["keyChanged"])})):Pj().then(function(u){(o.h=u)&&(o.g=new qC(new $C(u)),zC(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&$r(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var k0;function yB(o){return new Ie(function(u,f){var d=o.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){u()},d.onerror=function(m){f(Error(m.target.error))}})}function HC(o){return new Ie(function(u,f){var d=o.m.open("firebaseLocalStorageDb",1);d.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},d.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){f(w)}},d.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):yB(o).then(function(){return HC(o)}).then(function(w){u(w)}).o(function(w){f(w)})}})}function C0(o){return o.i||(o.i=HC(o)),o.i}function Zd(o,u){function f(m,w){C0(o).then(u).then(m).o(function(b){if(3<++d)w(b);else return C0(o).then(function(C){return C.close(),o.i=void 0,f(m,w)}).o(function(C){w(C)})})}var d=0;return new Ie(f)}function N0(){try{return!!c.indexedDB}catch{return!1}}function jc(o){return o.objectStore("firebaseLocalStorage")}function Vc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function gu(o){return new Ie(function(u,f){o.onsuccess=function(d){d&&d.target?u(d.target.result):u()},o.onerror=function(d){f(d.target.error)}})}e=WC.prototype,e.set=function(o,u){var f=this,d=!1;return Zd(this,function(m){return m=jc(Vc(m,!0)),gu(m.get(o))}).then(function(m){return Zd(f,function(w){if(w=jc(Vc(w,!0)),m)return m.value=u,gu(w.put(m));f.b++,d=!0;var b={};return b.fbase_key=o,b.value=u,gu(w.add(b))})}).then(function(){return f.c[o]=u,KC(f,o)}).oa(function(){d&&f.b--})};function KC(o,u){return o.g&&o.h&&xj()===o.h?zC(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):ae()}e.get=function(o){return Zd(this,function(u){return gu(jc(Vc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return Zd(this,function(d){return f=!0,u.b++,gu(jc(Vc(d,!0)).delete(o))}).then(function(){return delete u.c[o],KC(u,o)}).oa(function(){f&&u.b--})};function GC(o){return C0(o).then(function(u){var f=jc(Vc(u,!1));return f.getAll?gu(f.getAll()):new Ie(function(d,m){var w=[],b=f.openCursor();b.onsuccess=function(C){(C=C.target.result)?(w.push(C.value),C.continue()):d(w)},b.onerror=function(C){m(C.target.error)}})}).then(function(u){var f={},d=[];if(o.b==0){for(d=0;d<u.length;d++)f[u[d].fbase_key]=u[d].value;d=yk(o.c,f),o.c=f}return d})}e.ca=function(o){this.a.length==0&&wB(this),this.a.push(o)},e.ia=function(o){nr(this.a,function(u){return u==o}),this.a.length==0&&QC(this)};function wB(o){function u(){o.f=setTimeout(function(){o.l=GC(o).then(function(f){0<f.length&&ze(o.a,function(d){d(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}QC(o),u()}function QC(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function YC(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=ae().then(function(){if(N0()){var d=js(),m="__sak"+d;return k0||(k0=new WC),f=k0,f.set(m,d).then(function(){return f.get(m)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return f.U(m)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(d){return u.type=d.type,d.ca(function(m){ze(u.a,function(w){w(m)})}),d})}e=YC.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){nr(this.a,function(u){return u==o})};function Bc(){this.a={},this.type="inMemory"}e=Bc.prototype,e.get=function(o){return ae(this.a[o])},e.set=function(o,u){return this.a[o]=u,ae()},e.U=function(o){return delete this.a[o],ae()},e.ca=function(){},e.ia=function(){};function ep(){if(!_B())throw di()=="Node"?new N("internal-error","The LocalStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=XC()||se.INTERNAL.node.localStorage,this.type="localStorage"}function XC(){try{var o=c.localStorage,u=js();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function _B(){var o=di()=="Node";if(o=XC()||o&&se.INTERNAL.node&&se.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=ep.prototype,e.get=function(o){var u=this;return ae().then(function(){var f=u.a.getItem(o);return hu(f)})},e.set=function(o,u){var f=this;return ae().then(function(){var d=Ec(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return ae().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&br(c.window,"storage",o)},e.ia=function(o){c.window&&rr(c.window,"storage",o)};function A0(){this.type="nullStorage"}e=A0.prototype,e.get=function(){return ae(null)},e.set=function(){return ae()},e.U=function(){return ae()},e.ca=function(){},e.ia=function(){};function R0(){if(!bB())throw di()=="Node"?new N("internal-error","The SessionStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=JC()||se.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function JC(){try{var o=c.sessionStorage,u=js();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function bB(){var o=di()=="Node";if(o=JC()||o&&se.INTERNAL.node&&se.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=R0.prototype,e.get=function(o){var u=this;return ae().then(function(){var f=u.a.getItem(o);return hu(f)})},e.set=function(o,u){var f=this;return ae().then(function(){var d=Ec(u);d===null?f.U(o):f.a.setItem(o,d)})},e.U=function(o){var u=this;return ae().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function EB(){var o={};o.Browser=TB,o.Node=IB,o.ReactNative=SB,o.Worker=kB,this.a=o[di()]}var x0,TB={F:ep,bb:R0},IB={F:ep,bb:R0},SB={F:UC,bb:A0},kB={F:ep,bb:A0},yu={rd:"local",NONE:"none",td:"session"};function CB(o){var u=new N("invalid-persistence-type"),f=new N("unsupported-persistence-type");e:{for(d in yu)if(yu[d]==o){var d=!0;break e}d=!1}if(!d||typeof o!="string")throw u;switch(di()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!N0()&&o!=="none")throw f;break;default:if(!xy()&&o!=="none")throw f}}function ZC(){var o=!!(!Sk(Qt())&&Ay()),u=bc(),f=xy();this.m=o,this.h=u,this.l=f,this.a={},x0||(x0=new EB),o=x0;try{this.g=!Cy()&&Ck()||!c.indexedDB?new o.a.F:new YC(zr()?new Bc:new o.a.F)}catch{this.g=new Bc,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new Bc}this.v=new Bc,this.f=x(this.Yb,this),this.b={}}var P0;function $c(){return P0||(P0=new ZC),P0}function Ks(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function wu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function NB(o,u,f){var d=wu(u,f),m=Ks(o,u.F);return o.get(u,f).then(function(w){var b=null;try{b=hu(c.localStorage.getItem(d))}catch{}if(b&&!w)return c.localStorage.removeItem(d),o.set(u,b,f);b&&w&&m.type!="localStorage"&&c.localStorage.removeItem(d)})}e=ZC.prototype,e.get=function(o,u){return Ks(this,o.F).get(wu(o,u))};function _u(o,u,f){return f=wu(u,f),u.F=="local"&&(o.b[f]=null),Ks(o,u.F).U(f)}e.set=function(o,u,f){var d=wu(o,f),m=this,w=Ks(this,o.F);return w.set(d,u).then(function(){return w.get(d)}).then(function(b){o.F=="local"&&(m.b[d]=b)})},e.addListener=function(o,u,f){o=wu(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),xs(this.a)&&(Ks(this,"local").ca(this.f),this.h||(Cy()||!Ck())&&c.indexedDB||!this.l||AB(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=wu(o,u),this.a[o]&&(nr(this.a[o],function(d){return d==f}),this.a[o].length==0&&delete this.a[o]),xs(this.a)&&(Ks(this,"local").ia(this.f),O0(this))};function AB(o){O0(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),d=o.b[u];f!=d&&(o.b[u]=f,f=new Ds({type:"storage",key:u,target:window,oldValue:d,newValue:f,a:!0}),o.Yb(f))}},1e3)}function O0(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var d=this.b[f];typeof d>"u"&&(d=null);var m=c.localStorage.getItem(f);m!==d&&(this.b[f]=m,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ks(this,"local").ia(this.f):O0(this),this.m){if(f=c.localStorage.getItem(u),d=o.a.newValue,d!==f)d!==null?c.localStorage.setItem(u,d):c.localStorage.removeItem(u);else if(this.b[u]===d&&typeof o.a.a>"u")return}var w=this;f=function(){(typeof o.a.a<"u"||w.b[u]!==c.localStorage.getItem(u))&&(w.b[u]=c.localStorage.getItem(u),w.mb(u))},qr&&_o&&_o==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else ze(o,x(this.mb,this))},e.mb=function(o){this.a[o]&&ze(this.a[o],function(u){u()})};function RB(o){this.a=o,this.b=$c()}var D0={name:"authEvent",F:"local"};function xB(o){return o.b.get(D0,o.a).then(function(u){return sC(u)})}function PB(){this.a=$c()}function OB(){this.b=-1}function tp(o,u){this.b=eN,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),np===void 0&&(c.Int32Array?np=new Int32Array(rN):np=rN),this.reset()}var np;F(tp,OB);for(var eN=64,DB=eN-1,tN=[],L0=0;L0<DB;L0++)tN[L0]=0;var nN=tu(128,tN);tp.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):ji(this.h)};function M0(o){for(var u=o.f,f=o.l,d=0,m=0;m<u.length;)f[d++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*d;for(u=16;64>u;u++){m=f[u-15]|0,d=f[u-2]|0;var w=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,b=(f[u-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;f[u]=w+b|0}d=o.a[0]|0,m=o.a[1]|0;var C=o.a[2]|0,M=o.a[3]|0,B=o.a[4]|0,fe=o.a[5]|0,je=o.a[6]|0;for(w=o.a[7]|0,u=0;64>u;u++){var De=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&m^d&C^m&C)|0;b=B&fe^~B&je,w=w+((B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7))|0,b=b+(np[u]|0)|0,b=w+(b+(f[u]|0)|0)|0,w=je,je=fe,fe=B,B=M+b|0,M=C,C=m,m=d,d=b+De|0}o.a[0]=o.a[0]+d|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+C|0,o.a[3]=o.a[3]+M|0,o.a[4]=o.a[4]+B|0,o.a[5]=o.a[5]+fe|0,o.a[6]=o.a[6]+je|0,o.a[7]=o.a[7]+w|0}function F0(o,u,f){f===void 0&&(f=u.length);var d=0,m=o.c;if(typeof u=="string")for(;d<f;)o.f[m++]=u.charCodeAt(d++),m==o.b&&(M0(o),m=0);else if(_(u))for(;d<f;){var w=u[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");o.f[m++]=w,m==o.b&&(M0(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var rN=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function iN(){tp.call(this,8,LB)}F(iN,tp);var LB=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function oN(o,u,f,d,m,w){this.v=o,this.i=u,this.l=f,this.m=d||null,this.u=m||null,this.s=w,this.h=u+":"+f,this.C=new PB,this.g=new RB(this.h),this.f=null,this.b=[],this.a=this.c=null}function rp(o){return new N("invalid-cordova-configuration",o)}e=oN.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=Nj().then(function(){if(typeof tt("universalLinks.subscribe",c)!="function")throw rp("cordova-universal-links-plugin-fix is not installed");if(typeof tt("BuildInfo.packageName",c)>"u")throw rp("cordova-plugin-buildinfo is not installed");if(typeof tt("cordova.plugins.browsertab.openUrl",c)!="function")throw rp("cordova-plugin-browsertab is not installed");if(typeof tt("cordova.InAppBrowser.open",c)!="function")throw rp("cordova-plugin-inappbrowser is not installed")},function(){throw new N("cordova-not-ready")})};function MB(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function FB(o){var u=new iN;F0(u,o),o=[];var f=8*u.g;56>u.c?F0(u,nN,56-u.c):F0(u,nN,u.b-(u.c-56));for(var d=63;56<=d;d--)u.f[d]=f&255,f/=256;for(M0(u),d=f=0;d<u.i;d++)for(var m=24;0<=m;m-=8)o[f++]=u.a[d]>>m&255;return Gj(o)}e.Ob=function(o,u){return u(new N("operation-not-supported-in-this-environment")),ae()},e.Mb=function(){return et(new N("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,u,f,d){if(this.c)return et(new N("redirect-operation-pending"));var m=this,w=c.document,b=null,C=null,M=null,B=null;return this.c=ae().then(function(){return Zy(u),aN(m)}).then(function(){return UB(m,o,u,f,d)}).then(function(){return new Ie(function(fe,je){C=function(){var De=tt("cordova.plugins.browsertab.close",c);return fe(),typeof De=="function"&&De(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(C),M=function(){b||(b=su(2e3).then(function(){je(new N("redirect-cancelled-by-user"))}))},B=function(){Py()&&M()},w.addEventListener("resume",M,!1),Qt().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",B,!1)}).o(function(fe){return U0(m).then(function(){throw fe})})}).oa(function(){M&&w.removeEventListener("resume",M,!1),B&&w.removeEventListener("visibilitychange",B,!1),b&&b.cancel(),C&&m.Sa(C),m.c=null})};function UB(o,u,f,d,m){var w=MB(),b=new Wr(u,d,null,w,new N("no-auth-event"),null,m),C=tt("BuildInfo.packageName",c);if(typeof C!="string")throw new N("invalid-cordova-configuration");var M=tt("BuildInfo.displayName",c),B={};if(Qt().toLowerCase().match(/iphone|ipad|ipod/))B.ibi=C;else if(Qt().toLowerCase().match(/android/))B.apn=C;else return et(new N("operation-not-supported-in-this-environment"));M&&(B.appDisplayName=M),w=FB(w),B.sessionId=w;var fe=Uc(o.v,o.i,o.l,u,f,null,d,o.m,B,o.u,m,o.s);return o.ma().then(function(){var je=o.h;return o.C.a.set(D0,b.w(),je)}).then(function(){var je=tt("cordova.plugins.browsertab.isAvailable",c);if(typeof je!="function")throw new N("invalid-cordova-configuration");var De=null;je(function(Ut){if(Ut){if(De=tt("cordova.plugins.browsertab.openUrl",c),typeof De!="function")throw new N("invalid-cordova-configuration");De(fe)}else{if(De=tt("cordova.InAppBrowser.open",c),typeof De!="function")throw new N("invalid-cordova-configuration");Ut=Qt(),o.a=De(fe,Ut.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Ut.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function sN(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function aN(o){return o.f||(o.f=o.ma().then(function(){return new Ie(function(u){function f(d){return u(d),o.Sa(f),!1}o.Ea(f),jB(o)})})),o.f}function U0(o){var u=null;return xB(o.g).then(function(f){return u=f,f=o.g,_u(f.b,D0,f.a)}).then(function(){return u})}function jB(o){function u(b){d=!0,m&&m.cancel(),U0(o).then(function(C){var M=f;if(C&&b&&b.url){var B=null;M=Jk(b.url),M.indexOf("/__/auth/callback")!=-1&&(B=Bn(M),B=hu(Er(B,"firebaseError")||null),B=(B=typeof B=="object"?_t(B):null)?new Wr(C.c,C.b,null,null,B,null,C.T()):new Wr(C.c,C.b,M,C.f,null,null,C.T())),M=B||f}sN(o,M)})}var f=new Wr("unknown",null,null,null,new N("no-auth-event")),d=!1,m=su(500).then(function(){return U0(o).then(function(){d||sN(o,f)})}),w=c.handleOpenURL;c.handleOpenURL=function(b){if(b.toLowerCase().indexOf(tt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:b}),typeof w=="function")try{w(b)}catch(C){console.error(C)}},e0||(e0=new nV),rV(u)}e.Ea=function(o){this.b.push(o),aN(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Wr("unknown",null,null,null,new N("no-auth-event")),o(u))})},e.Sa=function(o){nr(this.b,function(u){return u==o})};function VB(o){this.a=o,this.b=$c()}var j0={name:"pendingRedirect",F:"session"};function BB(o){return o.b.set(j0,"pending",o.a)}function V0(o){return _u(o.b,j0,o.a)}function $B(o){return o.b.get(j0,o.a).then(function(u){return u=="pending"})}function ip(o,u,f,d){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=d,this.h=[],this.f=!1,this.l=x(this.s,this),this.b=new op,this.C=new wN,this.g=new VB(vN(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=uN(this.D,this.v,this.m,ge,this.J)}function uN(o,u,f,d,m){var w=se.SDK_VERSION||null;return Ny()?new oN(o,u,f,w,d,m):new DC(o,u,f,w,d,m)}ip.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=uN(this.D,this.v,this.m,null,this.J),this.i={}};function lN(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function cN(o){o.a.Xb()&&lN(o).o(function(u){var f=new Wr("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));$0(u)&&o.s(f)}),o.a.Tb()||gN(o.b)}function B0(o,u){$r(o.h,u)||o.h.push(u),o.f||$B(o.g).then(function(f){f?V0(o.g).then(function(){lN(o).o(function(d){var m=new Wr("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));$0(d)&&o.s(m)})}):cN(o)}).o(function(){cN(o)})}function fN(o,u){nr(o.h,function(f){return f==u})}ip.prototype.s=function(o){if(!o)throw new N("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var d=this.h[f];if(d.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,d),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return gN(this.b),u};var qB=new To(2e3,1e4),zB=new To(3e4,6e4);ip.prototype.qa=function(){return this.b.qa()};function hN(o,u,f,d,m,w,b){return o.a.Mb(u,f,d,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,w,b)}function $0(o){return!!(o&&o.code=="auth/cordova-not-ready")}function dN(o,u,f,d,m){var w;return BB(o.g).then(function(){return o.a.Nb(u,f,d,m).o(function(b){if($0(b))throw new N("operation-not-supported-in-this-environment");return w=b,V0(o.g).then(function(){throw w})}).then(function(){return o.a.$b()?new Ie(function(){}):V0(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function pN(o,u,f,d,m){return o.a.Ob(d,function(w){u.na(f,null,w,m)},qB.get())}var q0={};function vN(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function mN(o,u,f,d){var m=vN(u,f,d);return q0[m]||(q0[m]=new ip(o,u,f,d)),q0[m]}function op(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}op.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},op.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,d=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",w=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!w),f!="unknown"||m||w?o.a?(Gs(this,!0,null,o.a),ae()):u.Fa(f,d)?WB(this,o,u):et(new N("invalid-auth-event")):(Gs(this,!1,null,null),ae())}else et(new N("invalid-auth-event"))};function gN(o){o.g||(o.g=!0,Gs(o,!1,null,null))}function sp(o){o.g&&!o.i&&Gs(o,!1,null,null)}function WB(o,u,f){f=f.Fa(u.c,u.b);var d=u.g,m=u.f,w=u.i,b=u.T(),C=!!u.c.match(/Redirect$/);f(d,m,b,w).then(function(M){Gs(o,C,M,null)}).o(function(M){Gs(o,C,null,M)})}function HB(o,u){if(o.b=function(){return et(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function yN(o,u){if(o.b=function(){return ae(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Gs(o,u,f,d){u?d?HB(o,d):yN(o,f):yN(o,{user:null}),o.f=[],o.c=[]}op.prototype.qa=function(){var o=this;return new Ie(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),KB(o))})};function KB(o){var u=new N("timeout");o.a&&o.a.cancel(),o.a=su(zB.get()).then(function(){o.b||(o.g=!0,Gs(o,!0,null,u))})}function wN(){}wN.prototype.h=function(o,u){if(o){var f=o.c,d=o.b;o.a?(u.na(o.c,null,o.a,o.b),ae()):u.Fa(f,d)?GB(o,u):et(new N("invalid-auth-event"))}else et(new N("invalid-auth-event"))};function GB(o,u){var f=o.b,d=o.c;u.Fa(d,f)(o.g,o.f,o.T(),o.i).then(function(m){u.na(d,m,null,f)}).o(function(m){u.na(d,null,m,f)})}function _N(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function z0(o,u){this.a=u,te(this,"verificationId",o)}z0.prototype.confirm=function(o){return o=oC(this.verificationId,o),this.a(o)};function W0(o,u,f,d){return new $i(o).fb(u,f).then(function(m){return new z0(m,d)})}function QB(o){var u=zk(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");En(this,{token:o,expirationTime:Tc(1e3*u.exp),authTime:Tc(1e3*u.auth_time),issuedAtTime:Tc(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function H0(o,u,f){var d=u&&u[EN];if(!d)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=wo(u),this.g=f,this.c=new Fd(null,d),this.b=[];var m=this;ze(u[bN]||[],function(w){(w=Uy(w))&&m.b.push(w)}),te(this,"auth",this.a),te(this,"session",this.c),te(this,"hints",this.b)}var bN="mfaInfo",EN="mfaPendingCredential";H0.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var d=wo(u.f);return delete d[bN],delete d[EN],Un(d,f),u.g(d)})};function K0(o,u,f,d){N.call(this,"multi-factor-auth-required",d,u),this.b=new H0(o,u,f),te(this,"resolver",this.b)}F(K0,N);function TN(o,u,f){if(o&&S(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new K0(u,o.serverResponse,f,o.message)}catch{}return null}function IN(){}IN.prototype.sb=function(o,u,f){return u.type==Cc?YB(this,o,u,f):XB(this,o,u)};function YB(o,u,f,d){return f.Ha().then(function(m){return m={idToken:m},typeof d<"u"&&(m.displayName=d),Un(m,{phoneVerificationInfo:Nc(o.a)}),ke(u,jV,m)})}function XB(o,u,f){return f.Ha().then(function(d){return d={mfaPendingCredential:d},Un(d,{phoneVerificationInfo:Nc(o.a)}),ke(u,VV,d)})}function G0(o){te(this,"factorId",o.fa),this.a=o}F(G0,IN);function SN(o){if(G0.call(this,o),this.a.fa!=$i.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}F(SN,G0);function bu(o,u){Vn.call(this,o);for(var f in u)this[f]=u[f]}F(bu,Vn);function Q0(o,u){this.a=o,this.b=[],this.c=x(this.yc,this),br(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&ze(u.multiFactor.enrolledFactors,function(d){var m=null,w={};if(d){d.uid&&(w[Vy]=d.uid),d.displayName&&(w[Ak]=d.displayName),d.enrollmentTime&&(w[jy]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[By]=d.phoneNumber);try{m=new Ic(w)}catch{}d=m}else d=null;d&&f.push(d)}),ap(this,f)}function JB(o){var u=[];return ze(o.mfaInfo||[],function(f){(f=Uy(f))&&u.push(f)}),u}e=Q0.prototype,e.yc=function(o){ap(this,JB(o.hd))};function ap(o,u){o.b=u,te(o,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(o){return new Fd(o,null)})},e.fc=function(o,u){var f=this,d=this.a.a;return this.Rb().then(function(m){return o.sb(d,m,u)}).then(function(m){return mi(f.a,m),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,d=this.a.a;return this.a.I().then(function(m){return ke(d,sB,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var w=yo(u.b,function(b){return b.uid!=f});return ap(u,w),mi(u.a,m),u.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Fi(this.b,function(o){return o.w()})}}};function Y0(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Y0.prototype.start=function(){this.a=this.c,X0(this,!0)};function ZB(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function X0(o,u){o.stop(),o.b=su(ZB(o,u)).then(function(){return Rj()}).then(function(){return o.h()}).then(function(){X0(o,!0)}).o(function(f){o.i(f)&&X0(o,!1)})}Y0.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function J0(o){this.f=o,this.b=this.a=null,this.c=Date.now()}J0.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function kN(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function CN(o,u){o.b=Ld(u[Kr]||""),o.a=u.refreshToken,u=u.expiresIn,kN(o,typeof u<"u"?Number(u):void 0)}function e6(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function t6(o,u){return TV(o.f,u).then(function(f){return o.b=Ld(f.access_token),o.a=f.refresh_token,kN(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}J0.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?et(new N("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?t6(this,{grant_type:"refresh_token",refresh_token:this.a}):ae(null):ae({accessToken:this.b.toString(),refreshToken:this.a})};function up(o,u){this.a=o||null,this.b=u||null,En(this,{lastSignInTime:Tc(u||null),creationTime:Tc(o||null)})}function n6(o){return new up(o.a,o.b)}up.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function r6(o,u,f,d,m,w){En(this,{uid:o,displayName:d||null,photoURL:m||null,email:f||null,phoneNumber:w||null,providerId:u})}function or(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var d=se.SDK_VERSION?cu(se.SDK_VERSION):null;this.a=new Hr(this.l,L(ge),d),o.emulatorConfig&&mu(this.a,o.emulatorConfig),this.b=new J0(this.a),iw(this,u[Kr]),CN(this.b,u),te(this,"refreshToken",this.b.a),AN(this,f||{}),bn.call(this),this.R=!1,this.s&&Us()&&(this.i=mN(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=i6(this),this.aa=x(this.hb,this);var m=this;this.ya=null,this.Oa=function(w){m.wa(w.h)},this.ja=null,this.Aa=function(w){mu(m.a,w.c)},this.X=null,this.$=[],this.Ba=function(w){qc(m,w.f)},this.ba=null,this.O=new Q0(this,f),te(this,"multiFactor",this.O)}F(or,bn),or.prototype.wa=function(o){this.ya=o,bC(this.a,o)},or.prototype.la=function(){return this.ya};function Z0(o,u){o.ja&&rr(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&br(u,"languageCodeChanged",o.Oa)}function ew(o,u){o.X&&rr(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&br(u,"emulatorConfigChanged",o.Aa)}function qc(o,u){o.$=u,EC(o.a,se.SDK_VERSION?cu(se.SDK_VERSION,o.$):null)}or.prototype.Ga=function(){return ji(this.$)};function tw(o,u){o.ba&&rr(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&br(u,"frameworkChanged",o.Ba)}or.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function nw(o){try{return se.app(o.m).auth()}catch{throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function i6(o){return new Y0(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function NN(o){o.D||o.u.b||(o.u.start(),rr(o,"tokenChanged",o.aa),br(o,"tokenChanged",o.aa))}function rw(o){rr(o,"tokenChanged",o.aa),o.u.stop()}function iw(o,u){o.za=u,te(o,"_lat",u)}function o6(o,u){nr(o.S,function(f){return f==u})}function Qs(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return zS(u).then(function(){return o})}function zc(o){o.i&&!o.R&&(o.R=!0,B0(o.i,o))}function AN(o,u){En(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new up(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}te(or.prototype,"providerId","firebase");function RN(){}function ow(o){return ae().then(function(){if(o.D)throw new N("app-deleted")})}function sw(o){return Fi(o.providerData,function(u){return u.providerId})}function aw(o,u){u&&(xN(o,u.providerId),o.providerData.push(u))}function xN(o,u){nr(o.providerData,function(f){return f.providerId==u})}function ko(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&te(o,u,f)}function lp(o,u){o!=u&&(En(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?te(o,"metadata",n6(u.metadata)):te(o,"metadata",new up),ze(u.providerData,function(f){aw(o,f)}),e6(o.b,u.b),te(o,"refreshToken",o.b.a),ap(o.O,u.O.b))}e=or.prototype,e.reload=function(){var o=this;return At(this,ow(this).then(function(){return uw(o).then(function(){return Qs(o)}).then(RN)}))};function uw(o){return o.I().then(function(u){var f=o.isAnonymous;return s6(o,u).then(function(){return f||ko(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new QB(u)})},e.I=function(o){var u=this;return At(this,ow(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new N("internal-error");return f.accessToken!=u.za&&(iw(u,f.accessToken),u.dispatchEvent(new bu("tokenChanged"))),ko(u,"refreshToken",f.refreshToken),f.accessToken}))};function mi(o,u){u[Kr]&&o.za!=u[Kr]&&(CN(o.b,u),o.dispatchEvent(new bu("tokenChanged")),iw(o,u[Kr]),ko(o,"refreshToken",o.b.a))}function s6(o,u){return ke(o.a,BV,{idToken:u}).then(x(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new N("internal-error");o=o[0],AN(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=a6(o),f=0;f<u.length;f++)aw(this,u[f]);ko(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new bu("userReloaded",{hd:o}))};function a6(o){return(o=o.providerUserInfo)&&o.length?Fi(o,function(u){return new r6(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return Oy("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var u=this,f=null;return At(this,o.c(this.a,this.uid).then(function(d){return mi(u,d),f=Wc(u,d,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function cp(o,u){return uw(o).then(function(){if($r(sw(o),u))return Qs(o).then(function(){throw new N("provider-already-linked")})})}e.Cc=function(o){return Oy("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var u=this,f=null;return At(this,cp(this,o.providerId).then(function(){return u.I()}).then(function(d){return o.b(u.a,d)}).then(function(d){return f=Wc(u,d,"link"),PN(u,d)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return At(this,cp(this,"phone").then(function(){return W0(nw(f),o,u,x(f.qb,f))}))},e.Mc=function(o,u){var f=this;return At(this,ae().then(function(){return W0(nw(f),o,u,x(f.tb,f))}),!0)};function Wc(o,u,f){var d=Jy(u);return u=Hk(u),pi({user:o,credential:d,additionalUserInfo:u,operationType:f})}function PN(o,u){return mi(o,u),o.reload().then(function(){return o})}e.Bb=function(o){var u=this;return At(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return mi(u,f),u.reload()}))},e.ed=function(o){var u=this;return At(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return mi(u,f),u.reload()}))},e.Cb=function(o){var u=this;return At(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return mi(u,f),u.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return ow(this);var u=this;return At(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return mi(u,f),ko(u,"displayName",f.displayName||null),ko(u,"photoURL",f.photoUrl||null),ze(u.providerData,function(d){d.providerId==="password"&&(te(d,"displayName",u.displayName),te(d,"photoURL",u.photoURL))}),Qs(u)}).then(RN))},e.cd=function(o){var u=this;return At(this,uw(this).then(function(f){return $r(sw(u),o)?RV(u.a,f,[o]).then(function(d){var m={};return ze(d.providerUserInfo||[],function(w){m[w.providerId]=!0}),ze(sw(u),function(w){m[w]||xN(u,w)}),m[$i.PROVIDER_ID]||te(u,"phoneNumber",null),Qs(u)}):Qs(u).then(function(){throw new N("no-such-provider")})}))},e.delete=function(){var o=this;return At(this,this.I().then(function(u){return ke(o.a,LV,{idToken:u})}).then(function(){o.dispatchEvent(new bu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");Z0(o,null),ew(o,null),tw(o,null),o.J=[],o.D=!0,rw(o),te(o,"refreshToken",null),o.i&&fN(o.i,o)})},e.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,d){o!="linkViaPopup"&&o!="reauthViaPopup"||d!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?x(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?x(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?x(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?x(this.Lb,this):null},e.Ec=function(o){var u=this;return ON(this,"linkViaPopup",o,function(){return cp(u,o.providerId).then(function(){return Qs(u)})},!1)},e.Nc=function(o){return ON(this,"reauthViaPopup",o,function(){return ae()},!0)};function ON(o,u,f,d,m){if(!Us())return et(new N("operation-not-supported-in-this-environment"));if(o.h&&!m)return et(o.h);var w=Hy(f.providerId),b=js(o.uid+":::"),C=null;(!bc()||Ay())&&o.s&&f.isOAuthProvider&&(C=Uc(o.s,o.l,o.m,u,f,null,b,se.SDK_VERSION||null,null,null,o.tenantId));var M=_k(C,w&&w.ua,w&&w.ta);return d=d().then(function(){if(LN(o),!m)return o.I().then(function(){})}).then(function(){return hN(o.i,M,u,f,b,!!C,o.tenantId)}).then(function(){return new Ie(function(B,fe){o.na(u,null,new N("cancelled-popup-request"),o.g||null),o.f=B,o.C=fe,o.g=b,o.c=pN(o.i,o,u,M,b)})}).then(function(B){return M&&Fs(M),B?pi(B):null}).o(function(B){throw M&&Fs(M),B}),At(o,d,m)}e.Fc=function(o){var u=this;return DN(this,"linkViaRedirect",o,function(){return cp(u,o.providerId)},!1)},e.Oc=function(o){return DN(this,"reauthViaRedirect",o,function(){return ae()},!0)};function DN(o,u,f,d,m){if(!Us())return et(new N("operation-not-supported-in-this-environment"));if(o.h&&!m)return et(o.h);var w=null,b=js(o.uid+":::");return d=d().then(function(){if(LN(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=b,Qs(o)}).then(function(C){return o.ha&&(C=o.ha,C=C.b.set(lw,o.w(),C.a)),C}).then(function(){return dN(o.i,u,f,b,o.tenantId)}).o(function(C){if(w=C,o.ha)return FN(o.ha);throw w}).then(function(){if(w)throw w}),At(o,d,m)}function LN(o){if(!o.i||!o.R)throw o.i&&!o.R?new N("internal-error"):new N("auth-domain-config-required")}e.Kb=function(o,u,f,d){var m=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return f=this.I().then(function(b){return w0(m.a,{requestUri:o,postBody:d,sessionId:u,idToken:b})}).then(function(b){return w=Wc(m,b,"link"),PN(m,b)}).then(function(){return w}),At(this,f)},e.Lb=function(o,u,f,d){var m=this;this.c&&(this.c.cancel(),this.c=null);var w=null,b=ae().then(function(){return pu(_0(m.a,{requestUri:o,sessionId:u,postBody:d,tenantId:f}),m.uid)}).then(function(C){return w=Wc(m,C,"reauthenticate"),mi(m,C),m.h=null,m.reload()}).then(function(){return w});return At(this,b,!0)},e.ub=function(o){var u=this,f=null;return At(this,this.I().then(function(d){return f=d,typeof o>"u"||xs(o)?{}:Od(new Pd(o))}).then(function(d){return u.a.ub(f,d)}).then(function(d){if(u.email!=d)return u.reload()}).then(function(){}))},e.Eb=function(o,u){var f=this,d=null;return At(this,this.I().then(function(m){return d=m,typeof u>"u"||xs(u)?{}:Od(new Pd(u))}).then(function(m){return f.a.Eb(d,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function At(o,u,f){var d=u6(o,u,f);return o.J.push(d),d.oa(function(){eu(o.J,d)}),d.o(function(m){var w=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(w=TN(m.w(),nw(o),x(o.jc,o))),w||m})}e.jc=function(o){var u=null,f=this;return o=pu(ae(o),f.uid).then(function(d){return u=Wc(f,d,"reauthenticate"),mi(f,d),f.h=null,f.reload()}).then(function(){return u}),At(this,o,!0)};function u6(o,u,f){return o.h&&!f?(u.cancel(),et(o.h)):u.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new bu("userInvalidated")),o.h=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Un(o,this.metadata.w()),ze(this.providerData,function(u){o.providerData.push(Oj(u))}),Un(o,this.O.w()),o};function MN(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Kr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var d=o.stsTokenManager.expirationTime;d&&(f.expiresIn=(d-Date.now())/1e3)}else return null;var m=new or(u,f,o);return o.providerData&&ze(o.providerData,function(w){w&&aw(m,pi(w))}),o.redirectEventId&&(m.ga=o.redirectEventId),m}function l6(o,u,f,d){var m=new or(o,u);return f&&(m.ha=f),d&&qc(m,d),m.reload().then(function(){return m})}function c6(o,u,f,d){var m=o.b,w={};return w[Kr]=m.b&&m.b.toString(),w.refreshToken=m.a,u=new or(u||{apiKey:o.l,authDomain:o.s,appName:o.m},w),f&&(u.ha=f),d&&qc(u,d),lp(u,o),u}function f6(o){this.a=o,this.b=$c()}var lw={name:"redirectUser",F:"session"};function FN(o){return _u(o.b,lw,o.a)}function h6(o,u){return o.b.get(lw,o.a).then(function(f){return f&&u&&(f.authDomain=u),MN(f||{})})}function cw(o){this.a=o,this.b=$c(),this.c=null,this.f=d6(this),this.b.addListener(gi("local"),this.a,x(this.g,this))}cw.prototype.g=function(){var o=this,u=gi("local");Eu(this,function(){return ae().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return fw(o,"local").then(function(){o.c=u})})})};function fw(o,u){var f=[],d;for(d in yu)yu[d]!==u&&f.push(_u(o.b,gi(yu[d]),o.a));return f.push(_u(o.b,hw,o.a)),nj(f)}function d6(o){var u=gi("local"),f=gi("session"),d=gi("none");return NB(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(d,o.a).then(function(w){return w?d:o.b.get(u,o.a).then(function(b){return b?u:o.b.get(hw,o.a).then(function(C){return C?gi(C):u})})})}).then(function(m){return o.c=m,fw(o,m.F)}).o(function(){o.c||(o.c=u)})}var hw={name:"persistence",F:"session"};function gi(o){return{name:"authUser",F:o}}cw.prototype.xb=function(o){var u=null,f=this;return CB(o),Eu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(d){return u=d,fw(f,o)}).then(function(){if(f.c=gi(o),u)return f.b.set(f.c,u,f.a)}):ae()})};function p6(o){return Eu(o,function(){return o.b.set(hw,o.c.F,o.a)})}function UN(o,u){return Eu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function jN(o){return Eu(o,function(){return _u(o.b,o.c,o.a)})}function VN(o,u,f){return Eu(o,function(){return o.b.get(o.c,o.a).then(function(d){return d&&u&&(d.authDomain=u),d&&f&&(d.emulatorConfig=f),MN(d||{})})})}function Eu(o,u){return o.f=o.f.then(u,u),o.f}function Gr(o){if(this.l=!1,te(this,"settings",new _N),te(this,"app",o),qe(this).options&&qe(this).options.apiKey)o=se.SDK_VERSION?cu(se.SDK_VERSION):null,this.a=new Hr(qe(this).options&&qe(this).options.apiKey,L(ge),o);else throw new N("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=se.INTERNAL.createSubscribe(x(this.zc,this)),this.X=void 0,this.bc=se.INTERNAL.createSubscribe(x(this.Ac,this)),Tu(this,null),this.i=new cw(qe(this).options.apiKey+":"+qe(this).name),this.D=new f6(qe(this).options.apiKey+":"+qe(this).name),this.$=ft(this,_6(this)),this.h=ft(this,b6(this)),this.ba=!1,this.ja=x(this.Zc,this),this.Ba=x(this.da,this),this.ya=x(this.mc,this),this.za=x(this.wc,this),this.Aa=x(this.xc,this),this.b=null,g6(this),this.INTERNAL={},this.INTERNAL.delete=x(this.delete,this),this.INTERNAL.logFramework=x(this.Gc,this),this.u=0,bn.call(this),m6(this),this.J=[],this.P=null}F(Gr,bn);function BN(o){Vn.call(this,"languageCodeChanged"),this.h=o}F(BN,Vn);function $N(o){Vn.call(this,"emulatorConfigChanged"),this.c=o}F($N,Vn);function qN(o){Vn.call(this,"frameworkChanged"),this.f=o}F(qN,Vn),e=Gr.prototype,e.xb=function(o){return o=this.i.xb(o),ft(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,bC(this.a,this.aa),this.dispatchEvent(new BN(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,v6(u),this.P={url:o,ec:u},this.settings.ib=!0,mu(this.a,this.P),this.dispatchEvent(new $N(this.P))}};function v6(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&Ad().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),EC(this.a,se.SDK_VERSION?cu(se.SDK_VERSION,this.J):null),this.dispatchEvent(new qN(this.J))},e.Ga=function(){return ji(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function m6(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=Bn(this.P.url);u=pi({protocol:u.c,host:u.a,port:u.g,options:pi({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:qe(this).options.apiKey,authDomain:qe(this).options.authDomain,appName:qe(this).name,currentUser:ve(this)&&ve(this).w()}};function dw(o){return o.Oa||et(new N("auth-domain-config-required"))}function g6(o){var u=qe(o).options.authDomain,f=qe(o).options.apiKey;u&&Us()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=mN(u,f,qe(o).name,o.P),B0(o.b,o),ve(o)&&zc(ve(o)),o.m){zc(o.m);var d=o.m;d.wa(o.la()),Z0(d,o),d=o.m,qc(d,o.J),tw(d,o),d=o.m,mu(d.a,o.P),ew(d,o),o.m=null}return o.b}}))}e.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,d){o=="signInViaPopup"&&this.g==d&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?x(this.ic,this):null},e.ic=function(o,u,f,d){var m=this,w={requestUri:o,postBody:d,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return Ys(m,y0(m.a,w))})},e.Xc=function(o){if(!Us())return et(new N("operation-not-supported-in-this-environment"));var u=this,f=Hy(o.providerId),d=js(),m=null;(!bc()||Ay())&&qe(this).options.authDomain&&o.isOAuthProvider&&(m=Uc(qe(this).options.authDomain,qe(this).options.apiKey,qe(this).name,"signInViaPopup",o,null,d,se.SDK_VERSION||null,null,null,this.T(),this.P));var w=_k(m,f&&f.ua,f&&f.ta);return f=dw(this).then(function(b){return hN(b,w,"signInViaPopup",o,d,!!m,u.T())}).then(function(){return new Ie(function(b,C){u.na("signInViaPopup",null,new N("cancelled-popup-request"),u.g),u.f=b,u.C=C,u.g=d,u.c=pN(u.b,u,"signInViaPopup",w,d)})}).then(function(b){return w&&Fs(w),b?pi(b):null}).o(function(b){throw w&&Fs(w),b}),ft(this,f)},e.Yc=function(o){if(!Us())return et(new N("operation-not-supported-in-this-environment"));var u=this,f=dw(this).then(function(){return p6(u.i)}).then(function(){return dN(u.b,"signInViaRedirect",o,void 0,u.T())});return ft(this,f)};function zN(o){if(!Us())return et(new N("operation-not-supported-in-this-environment"));var u=dw(o).then(function(){return o.b.qa()}).then(function(f){return f?pi(f):null});return ft(o,u)}e.qa=function(){var o=this;return zN(this).then(function(u){return o.b&&sp(o.b.b),u}).o(function(u){throw o.b&&sp(o.b.b),u})},e.dd=function(o){if(!o)return et(new N("null-user"));if(this.S!=o.tenantId)return et(new N("tenant-id-mismatch"));var u=this,f={};f.apiKey=qe(this).options.apiKey,f.authDomain=qe(this).options.authDomain,f.appName=qe(this).name;var d=c6(o,f,u.D,u.Ga());return ft(this,this.h.then(function(){if(qe(u).options.apiKey!=o.l)return d.reload()}).then(function(){return ve(u)&&o.uid==ve(u).uid?(lp(ve(u),o),u.da(o)):(Tu(u,d),zc(d),u.da(d))}).then(function(){Hc(u)}))};function y6(o,u){var f={};return f.apiKey=qe(o).options.apiKey,f.authDomain=qe(o).options.authDomain,f.appName=qe(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return l6(f,u,o.D,o.Ga())}).then(function(d){return ve(o)&&d.uid==ve(o).uid?(lp(ve(o),d),o.da(d)):(Tu(o,d),zc(d),o.da(d))}).then(function(){Hc(o)})}function Tu(o,u){ve(o)&&(o6(ve(o),o.Ba),rr(ve(o),"tokenChanged",o.ya),rr(ve(o),"userDeleted",o.za),rr(ve(o),"userInvalidated",o.Aa),rw(ve(o))),u&&(u.S.push(o.Ba),br(u,"tokenChanged",o.ya),br(u,"userDeleted",o.za),br(u,"userInvalidated",o.Aa),0<o.u&&NN(u)),te(o,"currentUser",u),u&&(u.wa(o.la()),Z0(u,o),qc(u,o.J),tw(u,o),mu(u.a,o.P),ew(u,o))}e.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&sp(o.b.b),ve(o)?(Tu(o,null),jN(o.i).then(function(){Hc(o)})):ae()});return ft(this,u)};function w6(o){var u=h6(o.D,qe(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),FN(o.D)});return ft(o,u)}function _6(o){var u=qe(o).options.authDomain,f=w6(o).then(function(){return VN(o.i,u,o.P)}).then(function(d){return d?(d.ha=o.D,o.m&&(o.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return UN(o.i,d).then(function(){return d})}).o(function(m){return m.code=="auth/network-request-failed"?d:jN(o.i)})):null}).then(function(d){Tu(o,d||null)});return ft(o,f)}function b6(o){return o.$.then(function(){return zN(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(gi("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return VN(this.i,qe(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=ve(o)&&u){f=ve(o).uid;var d=u.uid;f=f==null||f===""||d===void 0||d===null||d===""?!1:f==d}if(f)return lp(ve(o),u),ve(o).I();(ve(o)||u)&&(Tu(o,u),u&&(zc(u),u.ha=o.D),o.b&&B0(o.b,o),Hc(o))}})},e.da=function(o){return UN(this.i,o)},e.mc=function(){Hc(this),this.da(ve(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Ys(o,u){var f=null,d=null;return ft(o,u.then(function(m){return f=Jy(m),d=Hk(m),y6(o,m)},function(m){var w=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(w=TN(m.w(),o,x(o.kc,o))),w||m}).then(function(){return pi({user:ve(o),credential:f,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ys(u,ae(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(ve(u))})},e.Ac=function(o){var u=this;E6(this,function(){o.next(ve(u))})},e.Ic=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(ve(d)):typeof o.next=="function"&&o.next(ve(d))}),this.hb(o,u,f)},e.Hc=function(o,u,f){var d=this;return this.ba&&Promise.resolve().then(function(){d.X=d.getUid(),typeof o=="function"?o(ve(d)):typeof o.next=="function"&&o.next(ve(d))}),this.bc(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return ve(u)?ve(u).I(o).then(function(d){return{accessToken:d}}):null});return ft(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ys(u,ke(u.a,nB,{token:o}))}).then(function(f){var d=f.user;return ko(d,"isAnonymous",!1),u.da(d),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ys(f,ke(f.a,xC,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ys(f,ke(f.a,OV,{email:o,password:u}))})},e.$a=function(o){var u=this;return this.h.then(function(){return Ys(u,o.ka(u.a))})},e.Sc=function(o){return Oy("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var u=ve(o);if(u&&u.isAnonymous){var f=pi({providerId:null,isNewUser:!1});return pi({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ys(o,o.a.zb()).then(function(d){var m=d.user;return ko(m,"isAnonymous",!0),o.da(m),d})})};function qe(o){return o.app}function ve(o){return o.currentUser}e.getUid=function(){return ve(this)&&ve(this).uid||null};function fp(o){return ve(o)&&ve(o)._lat||null}function Hc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](fp(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](fp(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&ve(this)&&NN(ve(this))},e.Pc=function(o){var u=this;ze(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&ve(this)&&rw(ve(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),ft(this,this.h.then(function(){u.l||$r(u.s,o)&&o(fp(u))}))},e.removeAuthTokenListener=function(o){nr(this.s,function(u){return u==o})};function E6(o,u){o.O.push(u),ft(o,o.h.then(function(){!o.l&&$r(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(fp(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(gi("local"),o.a,this.ja)),this.b&&(fN(this.b,this),sp(this.b.b)),Promise.resolve()};function ft(o,u){return o.R.push(u),u.oa(function(){eu(o.R,u)}),u}e.hc=function(o){return ft(this,IV(this.a,o))},e.Bc=function(o){return!!Xy(o)},e.wb=function(o,u){var f=this;return ft(this,ae().then(function(){var d=new Pd(u);if(!d.c)throw new N("argument-error",zy+" must be true when sending sign in link to email");return Od(d)}).then(function(d){return f.a.wb(o,d)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},e.nb=function(o,u){return ft(this,this.a.nb(o,u).then(function(){}))},e.Ra=function(o){return ft(this,this.a.Ra(o).then(function(u){return new Lj(u)}))},e.jb=function(o){return ft(this,this.a.jb(o).then(function(){}))},e.vb=function(o,u){var f=this;return ft(this,ae().then(function(){return typeof u>"u"||xs(u)?{}:Od(new Pd(u))}).then(function(d){return f.a.vb(o,d)}).then(function(){}))},e.Wc=function(o,u){return ft(this,W0(this,o,u,x(this.$a,this)))},e.Vc=function(o,u){var f=this;return ft(this,ae().then(function(){var d=u||_c(),m=iC(o,d);if(d=Xy(d),!d)throw new N("argument-error","Invalid email link!");if(d.tenantId!==f.T())throw new N("tenant-id-mismatch");return f.$a(m)}))};function Kc(){}Kc.prototype.render=function(){},Kc.prototype.reset=function(){},Kc.prototype.getResponse=function(){},Kc.prototype.execute=function(){};function Iu(){this.a={},this.b=1e12}var pw=null;Iu.prototype.render=function(o,u){return this.a[this.b.toString()]=new hp(o,u),this.b++},Iu.prototype.reset=function(o){var u=vw(this,o);o=WN(o),u&&o&&(u.delete(),delete this.a[o])},Iu.prototype.getResponse=function(o){return(o=vw(this,o))?o.getResponse():null},Iu.prototype.execute=function(o){(o=vw(this,o))&&o.execute()};function vw(o,u){return(u=WN(u))&&o.a[u]||null}function WN(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function hp(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=dc(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():br(this.f,"click",this.i)}hp.prototype.getResponse=function(){return mw(this),this.b},hp.prototype.execute=function(){mw(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=Aj();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},hp.prototype.delete=function(){mw(this),this.g=!0,clearTimeout(this.a),this.a=null,rr(this.f,"click",this.i)};function mw(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function gw(){}te(gw,"FACTOR_ID","phone");function yw(){}yw.prototype.g=function(){return pw||(pw=new Iu),ae(pw)},yw.prototype.c=function(){};var ww=null;function _w(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var T6=new fi(md,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),I6=new To(3e4,6e4);_w.prototype.g=function(o){var u=this;return new Ie(function(f,d){var m=setTimeout(function(){d(new N("network-request-failed"))},I6.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var b=c.grecaptcha.render;c.grecaptcha.render=function(C,M){return C=b(C,M),u.b++,C},clearTimeout(m),f(c.grecaptcha)}else clearTimeout(m),d(new N("internal-error"));delete c[u.a]};var w=ry(T6,{onload:u.a,hl:o||""});ae(f0(w)).o(function(){clearTimeout(m),d(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(c.grecaptcha)})},_w.prototype.c=function(){this.b--};var bw=null;function Ew(o,u,f,d,m,w,b){if(te(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,b?(ww||(ww=new yw),b=ww):(bw||(bw=new _w),b=bw),this.m=b,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[GN])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[S6]==="invisible",!c.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!dc(u)||!this.i&&dc(u).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Hr(o,w||null,m||null),this.u=d||function(){return null};var C=this;this.l=[];var M=this.a[HN];this.a[HN]=function(fe){if(QN(C,fe),typeof M=="function")M(fe);else if(typeof M=="string"){var je=tt(M,c);typeof je=="function"&&je(fe)}};var B=this.a[KN];this.a[KN]=function(){if(QN(C,null),typeof B=="function")B();else if(typeof B=="string"){var fe=tt(B,c);typeof fe=="function"&&fe()}}}var HN="callback",KN="expired-callback",GN="sitekey",S6="size";function QN(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function k6(o,u){nr(o.l,function(f){return f==u})}function Tw(o,u){return o.h.push(u),u.oa(function(){eu(o.h,u)}),u}e=Ew.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Tw(this,ae().then(function(){if(Rd()&&!zr())return Ad();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,ke(o.s,KV,{})}).then(function(u){o.a[GN]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){dp(this);var o=this;return Tw(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=dc(u);u=JU("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){dp(this);var o=this;return Tw(this,this.render().then(function(u){return new Ie(function(f){var d=o.g.getResponse(u);if(d)f(d);else{var m=function(w){w&&(k6(o,m),f(w))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){dp(this),this.c!==null&&this.g.reset(this.c)};function dp(o){if(o.D)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){dp(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=dc(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function Iw(o,u,f){var d=!1;try{this.b=f||se.app()}catch{throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new N("invalid-api-key");var m=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=se.SDK_VERSION?cu(se.SDK_VERSION,w):null,Ew.call(this,f,o,u,function(){try{var b=m.b.auth().la()}catch{b=null}return b},w,L(ge),d)}F(Iw,Ew);function YN(o,u,f,d){e:{f=Array.prototype.slice.call(f);for(var m=0,w=!1,b=0;b<u.length;b++)if(u[b].optional)w=!0;else{if(w)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(w=u.length,f.length<m||w<f.length)d="Expected "+(m==w?m==1?"1 argument":m+" arguments":m+"-"+w+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(w=u[m].optional&&f[m]===void 0,!u[m].M(f[m])&&!w){if(u=u[m],0>m||m>=XN.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");f=XN[m],d=(d?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}d=null}}if(d)throw new N("argument-error",o+" failed: "+d)}var XN="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ee(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function Sw(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function bt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:S}}function Su(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function yi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function C6(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function N6(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Gr)}}}function A6(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof se.app.App)}}}function Co(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function JN(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function ku(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function kw(o,u){return S(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function ZN(o){return S(o)&&typeof o.uid=="string"}function pp(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function mt(o,u,f,d){return{name:f||"",K:o.K+" or "+u.K,optional:!!d,M:function(m){return o.M(m)||u.M(m)}}}function ot(o,u){for(var f in u){var d=u[f].name;o[d]=tA(d,o[f],u[f].j)}}function eA(o,u){for(var f in u){var d=u[f].name;d!==f&&Object.defineProperty(o,d,{get:V(function(m){return this[m]},f),set:V(function(m,w,b,C){YN(m,[b],[C],!0),this[w]=C},d,f,u[f].kb),enumerable:!0})}}function gt(o,u,f,d){o[u]=tA(u,f,d)}function tA(o,u,f){function d(){var b=Array.prototype.slice.call(arguments);return YN(m,f,b),u.apply(this,b)}if(!f)return u;var m=R6(o),w;for(w in u)d[w]=u[w];for(w in u.prototype)d.prototype[w]=u.prototype[w];return d}function R6(o){return o=o.split("."),o[o.length-1]}ot(Gr.prototype,{jb:{name:"applyActionCode",j:[ee("code")]},Ra:{name:"checkActionCode",j:[ee("code")]},nb:{name:"confirmPasswordReset",j:[ee("code"),ee("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ee("email"),ee("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ee("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ee("emailLink")]},Hc:{name:"onAuthStateChanged",j:[mt(bt(),Su(),"nextOrObserver"),Su("opt_error",!0),Su("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[mt(bt(),Su(),"nextOrObserver"),Su("opt_error",!0),Su("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[ee("email"),mt(bt("opt_actionCodeSettings",!0),yi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[ee("email"),bt("actionCodeSettings")]},xb:{name:"setPersistence",j:[ee("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Co()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Co()]},Tc:{name:"signInWithCustomToken",j:[ee("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ee("email"),ee("password")]},Vc:{name:"signInWithEmailLink",j:[ee("email"),ee("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ee("phoneNumber"),pp()]},Xc:{name:"signInWithPopup",j:[ku()]},Yc:{name:"signInWithRedirect",j:[ku()]},dd:{name:"updateCurrentUser",j:[mt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof or)}}}(),yi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ee(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ee("url"),bt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ee("code")]}}),eA(Gr.prototype,{lc:{name:"languageCode",kb:mt(ee(),yi(),"languageCode")},ti:{name:"tenantId",kb:mt(ee(),yi(),"tenantId")}}),Gr.Persistence=yu,Gr.Persistence.LOCAL="local",Gr.Persistence.SESSION="session",Gr.Persistence.NONE="none",ot(or.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Sw("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Sw("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Co()]},qb:{name:"linkWithCredential",j:[Co()]},Dc:{name:"linkWithPhoneNumber",j:[ee("phoneNumber"),pp()]},Ec:{name:"linkWithPopup",j:[ku()]},Fc:{name:"linkWithRedirect",j:[ku()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Co()]},tb:{name:"reauthenticateWithCredential",j:[Co()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ee("phoneNumber"),pp()]},Nc:{name:"reauthenticateWithPopup",j:[ku()]},Oc:{name:"reauthenticateWithRedirect",j:[ku()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[mt(bt("opt_actionCodeSettings",!0),yi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ee(null,!0)]},cd:{name:"unlink",j:[ee("provider")]},Bb:{name:"updateEmail",j:[ee("email")]},Cb:{name:"updatePassword",j:[ee("password")]},ed:{name:"updatePhoneNumber",j:[Co("phone")]},Db:{name:"updateProfile",j:[bt("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[ee("email"),mt(bt("opt_actionCodeSettings",!0),yi(null,!0),"opt_actionCodeSettings",!0)]}}),ot(Iu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ot(Kc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ot(Ie.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),eA(_N.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Sw("appVerificationDisabledForTesting")}}),ot(z0.prototype,{confirm:{name:"confirm",j:[ee("verificationCode")]}}),gt(du,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[Zj,eV,tV,Jj],d=0;d<f.length;d++)if(u=f[d](o))return u;return null},[mt(ee(),bt(),"json")]),gt(Tr,"credential",function(o,u){return new Io(o,u)},[ee("email"),ee("password")]),ot(Io.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),ot($s.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[bt("customOAuthParameters")]}}),gt($s,"credential",eC,[mt(ee(),bt(),"token")]),gt(Tr,"credentialWithLink",iC,[ee("email"),ee("emailLink")]),ot(qs.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[bt("customOAuthParameters")]}}),gt(qs,"credential",tC,[mt(ee(),bt(),"token")]),ot(zs.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[bt("customOAuthParameters")]}}),gt(zs,"credential",nC,[mt(ee(),mt(bt(),yi()),"idToken"),mt(ee(),yi(),"accessToken",!0)]),ot(vu.prototype,{Ka:{name:"setCustomParameters",j:[bt("customOAuthParameters")]}}),gt(vu,"credential",rC,[mt(ee(),bt(),"token"),ee("secret",!0)]),ot(ir.prototype,{Ca:{name:"addScope",j:[ee("scope")]},credential:{name:"credential",j:[mt(ee(),mt(bt(),yi()),"optionsOrIdToken"),mt(ee(),yi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[bt("customOAuthParameters")]}}),ot(Bi.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),ot(Vs.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),gt($i,"credential",oC,[ee("verificationId"),ee("verificationCode")]),ot($i.prototype,{fb:{name:"verifyPhoneNumber",j:[mt(ee(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?kw(f.session,Cc)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?kw(f.session,Ud)&&ZN(f.multiFactorHint):f.session&&f.multiFactorUid?kw(f.session,Ud)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),pp()]}}),ot(So.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),ot(N.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),ot(Ac.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),ot(t0.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),ot(K0.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),ot(H0.prototype,{Rc:{name:"resolveSignIn",j:[JN()]}}),ot(Q0.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[JN(),ee("displayName",!0)]},bd:{name:"unenroll",j:[mt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ZN},ee(),"multiFactorInfoIdentifier")]}}),ot(Iw.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),gt(qy,"parseLink",Mk,[ee("link")]),gt(gw,"assertion",function(o){return new SN(o)},[Co("phone")]),function(){if(typeof se<"u"&&se.INTERNAL&&se.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:xd,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:$y,VERIFY_AND_CHANGE_EMAIL:Sc,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Gr,AuthCredential:du,Error:N};gt(o,"EmailAuthProvider",Tr,[]),gt(o,"FacebookAuthProvider",$s,[]),gt(o,"GithubAuthProvider",qs,[]),gt(o,"GoogleAuthProvider",zs,[]),gt(o,"TwitterAuthProvider",vu,[]),gt(o,"OAuthProvider",ir,[ee("providerId")]),gt(o,"SAMLAuthProvider",Zk,[ee("providerId")]),gt(o,"PhoneAuthProvider",$i,[N6()]),gt(o,"RecaptchaVerifier",Iw,[mt(ee(),C6(),"recaptchaContainer"),bt("recaptchaParameters",!0),A6()]),gt(o,"ActionCodeURL",qy,[]),gt(o,"PhoneMultiFactorGenerator",gw,[]),se.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Gr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),se.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:x(u.getUid,u),getToken:x(u.nc,u),addAuthTokenListener:x(u.cc,u),removeAuthTokenListener:x(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),se.registerVersion("@firebase/auth","0.16.5"),se.INTERNAL.extendNamespace({User:or})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var pW="@firebase/database",vW="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uL="";function lL(e){uL=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mW=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Pt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:sh(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gW=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return vr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cL=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new mW(t)}}catch{}return new gW},ua=cL("localStorage"),Hb=cL("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nl=new Hl("@firebase/database"),fL=function(){var e=1;return function(){return e++}}(),hL=function(e){var t=L8(e),n=new x8;n.update(t);var r=n.digest();return ih.encodeByteArray(r)},Uh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Uh.apply(null,i):typeof i=="object"?n+=Pt(i):n+=i,n+=" "}return n},ma=null,PR=!0,dL=function(e,t){H(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(nl.logLevel=be.VERBOSE,ma=nl.log.bind(nl),t&&Hb.set("logging_enabled",!0)):typeof e=="function"?ma=e:(ma=null,Hb.remove("logging_enabled"))},$t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(PR===!0&&(PR=!1,ma===null&&Hb.get("logging_enabled")===!0&&dL(!0)),ma){var n=Uh.apply(null,e);ma(n)}},jh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];$t.apply(void 0,Ee([e],Zt(t)))}},Kb=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Uh.apply(void 0,Ee([],Zt(e)));nl.error(n)},Ri=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Uh.apply(void 0,Ee([],Zt(e)));throw nl.error(n),new Error(n)},nn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Uh.apply(void 0,Ee([],Zt(e)));nl.warn(n)},yW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Jm=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},wW=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},lo="[MIN_NAME]",xi="[MAX_NAME]",$a=function(e,t){if(e===t)return 0;if(e===lo||t===xi)return-1;if(t===lo||e===xi)return 1;var n=zv(e),r=zv(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},_W=function(e,t){return e===t?0:e<t?-1:1},rf=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Pt(t))},YE=function(e){if(typeof e!="object"||e===null)return Pt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Pt(t[i]),r+=":",r+=YE(e[t[i]]);return r+="}",r},pL=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Mt(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var vL=function(e){H(!Jm(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var p=h.join(""),v="";for(c=0;c<64;c+=8){var g=parseInt(p.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},bW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function TW(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var IW=new RegExp("^-?(0*)\\d{1,10}$"),mL=-2147483648,XE=2147483647,zv=function(e){if(IW.test(e)){var t=Number(e);if(t>=mL&&t<=XE)return t}return null},Kl=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw nn("Exception was thrown by user callback.",n),t},Math.floor(0))}},SW=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},kf=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kW=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){return this.appCheck?this.appCheck.getToken(t):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){nn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CW=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.get().then(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(n){return n&&n.code==="auth/token-not-initialized"?($t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)}))},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nn(t)},e}(),Cf=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JE="5",gL="v",yL="s",wL="r",_L="f",bL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,EL="ls",NW="p",Gb="ac",TL="websocket",IL="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZE=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ua.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ua.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function AW(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function SL(e,t,n){H(typeof t=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");var r;if(t===TL)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===IL)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);AW(e)&&(n.ns=e.namespace);var i=[];return Mt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RW=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),vr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return XD(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o_={},s_={};function eT(e){var t=e.toString();return o_[t]||(o_[t]=new RW),o_[t]}function xW(e,t){var n=e.toString();return s_[n]||(s_[n]=t()),s_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PW=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(p){l[p]&&Kl(function(){r.onMessage_(l[p])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OR="start",OW="close",DW="pLPCommand",LW="pRTLPCB",kL="id",CL="pw",NL="ser",MW="cb",FW="seg",UW="ts",jW="d",VW="dframe",AL=1870,RL=30,BW=AL-RL,$W=25e3,qW=3e4,tT=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jh(t),this.stats_=eT(n),this.urlFn=function(h){return c.appCheckToken&&(h[Gb]=c.appCheckToken),SL(n,IL,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PW(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(qW)),wW(function(){if(!r.isClosed_){r.scriptTagHolder=new zW(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Zt(a,5),h=c[0],p=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===OR)r.id=p,r.password=v;else if(h===OW)p?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(p,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=Zt(a,2),h=c[0],p=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,p)},function(){r.onClosed_()},r.urlFn);var i={};i[OR]="t",i[NL]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[MW]=r.scriptTagHolder.uniqueCallbackIdentifier),i[gL]=JE,r.transportSessionId&&(i[yL]=r.transportSessionId),r.lastSessionId&&(i[EL]=r.lastSessionId),r.applicationId&&(i[NW]=r.applicationId),r.appCheckToken&&(i[Gb]=r.appCheckToken),typeof location<"u"&&location.hostname&&bL.test(location.hostname)&&(i[wL]=_L);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bW()&&!EW()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Pt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=y8(n),i=pL(r,BW),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[VW]="t",r[kL]=t,r[CL]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Pt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),zW=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=fL(),window[DW+this.uniqueCallbackIdentifier]=t,window[LW+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){$t("frame writing exception"),c.stack&&$t(c.stack),$t(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||$t("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[kL]=this.myID,t[CL]=this.myPW,t[NL]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+RL+r.length<=AL){var a=this.pendingSegs.shift();r=r+"&"+FW+i+"="+a.seg+"&"+UW+i+"="+a.ts+"&"+jW+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor($W)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){$t("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WW=16384,HW=45e3,Wv=null;typeof MozWebSocket<"u"?Wv=MozWebSocket:typeof WebSocket<"u"&&(Wv=WebSocket);var ra=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jh(this.connId),this.stats_=eT(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[gL]=JE,typeof location<"u"&&location.hostname&&bL.test(location.hostname)&&(s[wL]=_L),n&&(s[yL]=n),r&&(s[EL]=r),i&&(s[Gb]=i),SL(t,TL,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ua.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!eL()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Wv(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var p=h.message||h.data;p&&r.log_(p),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Wv!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return ua.isInMemoryStorage||ua.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){ua.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=sh(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Pt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=pL(n,WW);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(HW))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KW=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[tT,ra]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ra&&ra.isAvailable(),s=i&&!ra.previouslyFailed();if(t.webSocketOnly&&(i||nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ra];else{var a=this.transports_=[];try{for(var l=Ht(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GW=6e4,QW=5e3,YW=10*1024,XW=100*1024,a_="t",DR="d",JW="s",LR="r",ZW="e",MR="o",FR="a",UR="n",jR="p",eH="h",xL=function(){function e(t,n,r,i,s,a,l,c,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jh("c:"+this.id+":"),this.transportManager_=new KW(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=kf(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>XW?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>YW?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(a_ in t){var n=t[a_];n===FR?this.upgradeIfSecondaryHealthy_():n===LR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===MR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=rf("t",t),r=rf("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jR,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:FR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:UR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=rf("t",t),r=rf("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=rf(a_,t);if(DR in t){var r=t[DR];if(n===eH)this.onHandshake_(r);else if(n===UR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===JW?this.onConnectionShutdown_(r):n===LR?this.onReset_(r):n===ZW?Kb("Server Error: "+r):n===MR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kb("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),JE!==r&&nn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),kf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(GW))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):kf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(QW))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jR,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ua.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PL=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL=function(){function e(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=Ee([],Zt(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){H(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VR=function(e){Y(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zE()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return H(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(OL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BR=32,$R=768,Ue=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Me(){return new Ue("")}function ye(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ds(e){return e.pieces_.length-e.pieceNum_}function We(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ue(e.pieces_,t)}function nT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function tH(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ah(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function DL(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ue(t,0)}function it(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ue)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new Ue(n,0)}function we(e){return e.pieceNum_>=e.pieces_.length}function Rn(e,t){var n=ye(e),r=ye(t);if(n===null)return t;if(n===r)return Rn(We(e),We(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function nH(e,t){for(var n=ah(e,0),r=ah(t,0),i=0;i<n.length&&i<r.length;i++){var s=$a(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function rT(e,t){if(ds(e)!==ds(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Nr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ds(e)>ds(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var rH=function(){function e(t,n){this.errorPrefix_=n,this.parts_=ah(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Xm(this.parts_[r]);LL(this)}return e}();function iH(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Xm(t),LL(e)}function oH(e){var t=e.parts_.pop();e.byteLength_-=Xm(t),e.parts_.length>0&&(e.byteLength_-=1)}function LL(e){if(e.byteLength_>$R)throw new Error(e.errorPrefix_+"has a key path longer than "+$R+" bytes ("+e.byteLength_+").");if(e.parts_.length>BR)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+BR+") or object contains a cycle "+ea(e))}function ea(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sH=function(e){Y(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return H(n==="visible","Unknown event type: "+n),[this.visible_]},t}(OL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var of=1e3,aH=60*5*1e3,uH=3*1e3,qR=30*1e3,lH=1.3,cH=3e4,fH="server_kill",zR=3,ga=function(e){Y(t,e);function t(n,r,i,s,a,l,c,h){var p=e.call(this)||this;if(p.repoInfo_=n,p.applicationId_=r,p.onDataUpdate_=i,p.onConnectStatus_=s,p.onServerInfoUpdate_=a,p.authTokenProvider_=l,p.appCheckTokenProvider_=c,p.authOverride_=h,p.id=t.nextPersistentConnectionId_++,p.log_=jh("p:"+p.id+":"),p.interruptReasons_={},p.listens=new Map,p.outstandingPuts_=[],p.outstandingGets_=[],p.outstandingPutCount_=0,p.outstandingGetCount_=0,p.onDisconnectRequestQueue_=[],p.connected_=!1,p.reconnectDelay_=of,p.maxReconnectDelay_=aH,p.securityDebugCallback_=null,p.lastSessionId=null,p.establishConnectionTimer_=null,p.visible_=!1,p.requestCBHash_={},p.requestNumber_=0,p.realtime_=null,p.authToken_=null,p.appCheckToken_=null,p.forceTokenRefresh_=!1,p.invalidAuthTokenCount_=0,p.invalidAppCheckTokenCount_=0,p.firstConnection_=!0,p.lastConnectionAttemptTime_=null,p.lastConnectionEstablishedTime_=null,h&&!eL())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return p.scheduleConnect_(0),sH.getInstance().on("visible",p.onVisible_,p),n.host.indexOf("fblocal")===-1&&VR.getInstance().on("online",p.onOnline_,p),p}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Pt(a)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this,i=new Wn,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},uH),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var p=h.d,v=h.s;t.warnOnListenWarnings_(p,i);var g=r.listens.get(s)&&r.listens.get(s).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,p))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&vr(n,"w")){var i=Aa(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();nn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||A8(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qR)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=N8(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),H(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Pt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Kb("Unrecognized action received from server: "+Pt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=of,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=of,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>cH&&(this.reconnectDelay_=of),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lH)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,g,y,_,T,S=this;return A(this,function(E){switch(E.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},p=function(I){H(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(I)},this.realtime_={close:h,sendRequest:p},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return g=Zt.apply(void 0,[E.sent(),2]),y=g[0],_=g[1],l?$t("getToken() completed but was canceled"):($t("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,c=new xL(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(I){nn(I+" ("+S.repoInfo_.toString()+")"),S.interrupt(fH)},a)),[3,4];case 3:return T=E.sent(),this.log_("Failed to get token: "+T),l||(this.repoInfo_.nodeAdmin&&nn(T),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){$t("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){$t("Resuming connection for reason: "+n),delete this.interruptReasons_[n],zb(this.interruptReasons_)&&(this.reconnectDelay_=of,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return YE(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new Ue(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){$t("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zR&&(this.reconnectDelay_=qR,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){$t("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zR&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=Ht(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,Ht(c.values())),p=h.next();!p.done;p=h.next()){var v=p.value;this.sendListen_(v)}}catch(_){i={error:_}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(_){n={error:_}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+uL.replace(/\./g,"-")]=1,zE()?n["framework.cordova"]=1:ZD()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=VR.getInstance().currentlyOnline();return zb(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(PL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zm=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Ne(lo,t),i=new Ne(lo,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Ne.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Op,ML=function(e){Y(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Op},set:function(n){Op=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return $a(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw zl("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Ne.MIN},t.prototype.maxPost=function(){return new Ne(xi,Op)},t.prototype.makePost=function(n,r){return H(typeof n=="string","KeyIndex indexValue must always be a string."),new Ne(n,Op)},t.prototype.toString=function(){return".key"},t}(Zm),ki=new ML;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dp=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),ei=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Ji.EMPTY_NODE,this.right=s??Ji.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ji.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ji.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),hH=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new ei(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ji=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ei.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ei.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Dp(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Dp(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Dp(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Dp(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new hH,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(e,t){return $a(e.name,t.name)}function iT(e,t){return $a(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qb;function pH(e){Qb=e}var FL=function(e){return typeof e=="number"?"number:"+vL(e):"string:"+e},UL=function(e){if(e.isLeafNode()){var t=e.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&vr(t,".sv"),"Priority must be a string or number.")}else H(e===Qb||e.isEmpty(),"priority of unexpected type.");H(e===Qb||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WR,vl=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UL(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return WR},set:function(t){WR=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return we(t)?this:ye(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ye(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(H(r!==".priority"||ds(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+FL(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=vL(this.value_):t+=this.value_,this.lazyHash_=hL(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return H(i>=0,"Unknown leaf type: "+n),H(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jL,VL;function vH(e){jL=e}function mH(e){VL=e}var gH=function(e){Y(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?$a(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Ne.MIN},t.prototype.maxPost=function(){return new Ne(xi,new vl("[PRIORITY-POST]",VL))},t.prototype.makePost=function(n,r){var i=jL(n);return new Ne(r,new vl("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Zm),Qe=new gH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yH=Math.log(2),wH=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/yH,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),Hv=function(e,t,n,r){e.sort(t);var i=function(c,h){var p=h-c,v,g;if(p===0)return null;if(p===1)return v=e[c],g=n?n(v):v,new ei(g,v.node,ei.BLACK,null,null);var y=parseInt(p/2,10)+c,_=i(c,y),T=i(y+1,h);return v=e[y],g=n?n(v):v,new ei(g,v.node,ei.BLACK,_,T)},s=function(c){for(var h=null,p=null,v=e.length,g=function(E,I){var k=v-E,P=v;v-=E;var D=i(k+1,P),x=e[k],V=n?n(x):x;y(new ei(V,x.node,I,null,D))},y=function(E){h?(h.left=E,h=E):(p=E,h=E)},_=0;_<c.count;++_){var T=c.nextBitIsOne(),S=Math.pow(2,c.count-(_+1));T?g(S,ei.BLACK):(g(S,ei.BLACK),g(S,ei.RED))}return p},a=new wH(e.length),l=s(a);return new Ji(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u_,Nu={},Kv=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return H(Nu&&Qe,"ChildrenNode.ts has not been loaded"),u_=u_||new e({".priority":Nu},{".priority":Qe}),u_},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Aa(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ji?n:null},e.prototype.hasIndex=function(t){return vr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){H(t!==ki,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Ne.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=Hv(r,t.getCompare()):l=Nu;var c=t.toString(),h=He({},this.indexSet_);h[c]=t;var p=He({},this.indexes_);return p[c]=l,new e(p,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=$v(this.indexes_,function(s,a){var l=Aa(r.indexSet_,a);if(H(l,"Missing index implementation for "+a),s===Nu)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(Ne.Wrap),p=h.getNext();p;)p.name!==t.name&&c.push(p),p=h.getNext();return c.push(t),Hv(c,l.getCompare())}else return Nu;else{var v=n.get(t.name),g=s;return v&&(g=g.remove(new Ne(t.name,v))),g.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=$v(this.indexes_,function(i){if(i===Nu)return i;var s=n.get(t.name);return s?i.remove(new Ne(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sf,de=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&UL(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return sf||(sf=new e(new Ji(iT),null,Kv.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||sf},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?sf:n},e.prototype.getChild=function(t){var n=ye(t);return n===null?this:this.getImmediateChild(n).getChild(We(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(H(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Ne(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?sf:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=ye(t);if(r===null)return n;H(ye(t)!==".priority"||ds(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(We(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Qe,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+FL(this.getPriority().val())+":"),this.forEachChild(Qe,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":hL(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Ne(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Ne(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Ne(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Ne.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Ne.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vh?-1:0},e.prototype.withIndex=function(t){if(t===ki||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===ki||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Qe),i=n.getIterator(Qe),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===ki?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),_H=function(e){Y(t,e);function t(){return e.call(this,new Ji(iT),de.EMPTY_NODE,Kv.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return de.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(de),Vh=new _H;Object.defineProperties(Ne,{MIN:{value:new Ne(lo,de.EMPTY_NODE)},MAX:{value:new Ne(xi,Vh)}});ML.__EMPTY_NODE=de.EMPTY_NODE;vl.__childrenNodeConstructor=de;pH(Vh);mH(Vh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bH=!0;function ut(e,t){if(t===void 0&&(t=null),e===null)return de.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new vl(n,ut(t))}if(!(e instanceof Array)&&bH){var r=[],i=!1,s=e;if(Mt(s,function(h,p){if(h.substring(0,1)!=="."){var v=ut(p);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Ne(h,v)))}}),r.length===0)return de.EMPTY_NODE;var a=Hv(r,dH,function(h){return h.name},iT);if(i){var l=Hv(r,Qe.getCompare());return new de(a,ut(t),new Kv({".priority":l},{".priority":Qe}))}else return new de(a,ut(t),Kv.Default)}else{var c=de.EMPTY_NODE;return Mt(e,function(h,p){if(vr(e,h)&&h.substring(0,1)!=="."){var v=ut(p);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(ut(t))}}vH(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oT=function(e){Y(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,H(!we(n)&&ye(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?$a(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=ut(n),s=de.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ne(r,s)},t.prototype.maxPost=function(){var n=de.EMPTY_NODE.updateChild(this.indexPath_,Vh);return new Ne(xi,n)},t.prototype.toString=function(){return ah(this.indexPath_,0).join("/")},t}(Zm);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EH=function(e){Y(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?$a(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Ne.MIN},t.prototype.maxPost=function(){return Ne.MAX},t.prototype.makePost=function(n,r){var i=ut(n);return new Ne(r,i)},t.prototype.toString=function(){return".value"},t}(Zm),sT=new EH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ml="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Yb="-",BL="z",$L=786,TH=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=ml.charAt(n%64),n=Math.floor(n/64);H(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=ml.charAt(t[i]);return H(a.length===20,"nextPushId: Length should be 20."),a}}(),HR=function(e){if(e===""+XE)return Yb;var t=zv(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<$L)return n.push(Yb),n.join("");for(var i=n.length-1;i>=0&&n[i]===BL;)i--;if(i===-1)return xi;var s=n[i],a=ml.charAt(ml.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},KR=function(e){if(e===""+mL)return lo;var t=zv(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===Yb?n.length===1?""+XE:(delete n[n.length-1],n.join("")):(n[n.length-1]=ml.charAt(ml.indexOf(n[n.length-1])-1),n.join("")+BL.repeat($L-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(e){return{type:"value",snapshotNode:e}}function gl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function uh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function lh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function IH(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aT=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(uh(n,l)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(gl(n,r)):a.trackChildChange(lh(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Qe,function(i,s){n.hasChild(i)||r.trackChildChange(uh(i,s))}),n.isLeafNode()||n.forEachChild(Qe,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(lh(i,s,a))}else r.trackChildChange(gl(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?de.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zL=function(){function e(t){this.indexedFilter_=new aT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Ne(n,r))||(r=de.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=de.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(de.EMPTY_NODE);var s=this;return n.forEachChild(Qe,function(a,l){s.matches(new Ne(a,l))||(i=i.updateImmediateChild(a,de.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SH=function(){function e(t){this.rangedFilter_=new zL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Ne(n,r))||(r=de.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=de.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=de.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(de.EMPTY_NODE);var h=void 0,p=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(S,E){return g(E,S)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,p)<=0;c?a++:i=i.updateImmediateChild(l.name,de.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(I,k){return l(k,I)}}else a=this.index_.getCompare();var c=t;H(c.numChildren()===this.limit_,"");var h=new Ne(n,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var g=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,p,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var _=y==null?1:a(y,h),T=v&&!r.isEmpty()&&_>=0;if(T)return s!=null&&s.trackChildChange(lh(n,r,g)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(uh(n,g));var S=c.updateImmediateChild(n,de.EMPTY_NODE),E=y!=null&&this.rangedFilter_.matches(y);return E?(s!=null&&s.trackChildChange(gl(y.name,y.node)),S.updateImmediateChild(y.name,y.node)):S}else return r.isEmpty()?t:v&&a(p,h)>=0?(s!=null&&(s.trackChildChange(uh(p.name,p.node)),s.trackChildChange(gl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(p.name,de.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WL=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:lo},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Qe},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function kH(e){return e.loadsAllData()?new aT(e.getIndex()):e.hasLimit()?new SH(e):new zL(e)}function CH(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function NH(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Xb(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function AH(e,t,n){var r;if(e.index_===ki)typeof t=="string"&&(t=HR(t)),r=Xb(e,t,n);else{var i=void 0;n==null?i=xi:i=HR(n),r=Xb(e,t,i)}return r.startAfterSet_=!0,r}function Jb(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function RH(e,t,n){var r,i;return e.index_===ki?(typeof t=="string"&&(t=KR(t)),i=Jb(e,t,n)):(n==null?r=lo:r=KR(n),i=Jb(e,t,r)),i.endBeforeSet_=!0,i}function eg(e,t){var n=e.copy();return n.index_=t,n}function GR(e){var t={};if(e.isDefault())return t;var n;return e.index_===Qe?n="$priority":e.index_===sT?n="$value":e.index_===ki?n="$key":(H(e.index_ instanceof oT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Pt(n),e.startSet_&&(t.startAt=Pt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Pt(e.indexStartName_))),e.endSet_&&(t.endAt=Pt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Pt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function QR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==Qe&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xH=function(e){Y(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=jh("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(H(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var p=GR(n._queryParams);this.restRequest_(l+".json",p,function(v,g){var y=g;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),Aa(a.listens_,c)===h){var _;v?v===401?_="permission_denied":_="rest_error:"+v:_="ok",s(_,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=GR(n._queryParams),s=n._path.toString(),a=new Wn;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=Zt(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var p=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+R8(r);s.log_("Sending REST request for "+p);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);var g=null;if(v.status>=200&&v.status<300){try{g=sh(v.responseText)}catch{nn("Failed to parse JSON response for "+p+": "+v.responseText)}i(null,g)}else v.status!==401&&v.status!==404&&nn("Got unsuccessful REST response for "+p+" Status: "+v.status),i(v.status);i=null}},v.open("GET",p,!0),v.send()})},t}(PL);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PH=function(){function e(){this.rootNode_=de.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(){return{value:null,children:new Map}}function Gl(e,t,n){if(we(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=ye(t);e.children.has(r)||e.children.set(r,Gv());var i=e.children.get(r);t=We(t),Gl(i,t,n)}}function Zb(e,t){if(we(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Qe,function(s,a){Gl(e,new Ue(s),a)}),Zb(e,t)}else if(e.children.size>0){var r=ye(t);if(t=We(t),e.children.has(r)){var i=Zb(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function e1(e,t,n){e.value!==null?n(t,e.value):OH(e,function(r,i){var s=new Ue(t.toString()+"/"+r);e1(i,s,n)})}function OH(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HL=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=He({},t);return this.last_&&Mt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YR=10*1e3,DH=30*1e3,LH=5*60*1e3,MH=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new HL(t);var r=YR+(DH-YR)*Math.random();kf(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Mt(n,function(s,a){a>0&&vr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),kf(this.reportStats_.bind(this),Math.floor(Math.random()*2*LH))},e}();function FH(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ri||(ri={}));function uT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cT(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UH=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ri.ACK_USER_WRITE,this.source=uT()}return e.prototype.operationForChild=function(t){if(we(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ue(t));return new e(Me(),n,this.revert)}else return H(ye(this.path)===t,"operationForChild called for unrelated child."),new e(We(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KL=function(){function e(t,n){this.source=t,this.path=n,this.type=ri.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,Me()):new e(this.source,We(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tg=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ri.OVERWRITE}return e.prototype.operationForChild=function(t){return we(this.path)?new e(this.source,Me(),this.snap.getImmediateChild(t)):new e(this.source,We(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fT=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ri.MERGE}return e.prototype.operationForChild=function(t){if(we(this.path)){var n=this.children.subtree(new Ue(t));return n.isEmpty()?null:n.value?new tg(this.source,Me(),n.value):new e(this.source,Me(),n)}else return H(ye(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,We(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ps=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(we(t))return this.isFullyInitialized()&&!this.filtered_;var n=ye(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jH=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function VH(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(IH(a.childName,a.snapshotNode))}),af(e,i,"child_removed",t,r,n),af(e,i,"child_added",t,r,n),af(e,i,"child_moved",s,r,n),af(e,i,"child_changed",t,r,n),af(e,i,"value",t,r,n),i}function af(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return $H(e,l,c)}),a.forEach(function(l){var c=BH(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function BH(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function $H(e,t,n){if(t.childName==null||n.childName==null)throw zl("Should only compare child_ events.");var r=new Ne(t.childName,t.snapshotNode),i=new Ne(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(e,t){return{eventCache:e,serverCache:t}}function Nf(e,t,n,r){return ng(new ps(t,n,r),e.serverCache)}function GL(e,t,n,r){return ng(e.eventCache,new ps(t,n,r))}function Qv(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ra(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l_,qH=function(){return l_||(l_=new Ji(_W)),l_},mr=function(){function e(t,n){n===void 0&&(n=qH()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Mt(t,function(r,i){n=n.set(new Ue(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Me(),value:this.value};if(we(t))return null;var r=ye(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(We(t),n);if(s!=null){var a=it(new Ue(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(we(t))return this;var n=ye(t),r=this.children.get(n);return r!==null?r.subtree(We(t)):new e(null)},e.prototype.set=function(t,n){if(we(t))return new e(n,this.children);var r=ye(t),i=this.children.get(r)||new e(null),s=i.set(We(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(we(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ye(t),r=this.children.get(n);if(r){var i=r.remove(We(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(we(t))return this.value;var n=ye(t),r=this.children.get(n);return r?r.get(We(t)):null},e.prototype.setTree=function(t,n){if(we(t))return n;var r=ye(t),i=this.children.get(r)||new e(null),s=i.setTree(We(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Me(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(it(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Me(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(we(t))return null;var s=ye(t),a=this.children.get(s);return a?a.findOnPath_(We(t),it(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Me(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(we(t))return this;this.value&&r(n,this.value);var i=ye(t),s=this.children.get(i);return s?s.foreachOnPath_(We(t),it(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Me(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(it(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new mr(null))},e}();function Af(e,t,n){if(we(t))return new no(new mr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Rn(i,t);return s=s.updateChild(a,n),new no(e.writeTree_.set(i,s))}else{var l=new mr(n),c=e.writeTree_.setTree(t,l);return new no(c)}}function t1(e,t,n){var r=e;return Mt(n,function(i,s){r=Af(r,it(t,i),s)}),r}function XR(e,t){if(we(t))return no.empty();var n=e.writeTree_.setTree(t,new mr(null));return new no(n)}function n1(e,t){return qa(e,t)!=null}function qa(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Rn(n.path,t)):null}function JR(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qe,function(r,i){t.push(new Ne(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Ne(r,i.value))}),t}function ss(e,t){if(we(t))return e;var n=qa(e,t);return n!=null?new no(new mr(n)):new no(e.writeTree_.subtree(t))}function r1(e){return e.writeTree_.isEmpty()}function yl(e,t){return QL(Me(),e.writeTree_,t)}function QL(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(H(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=QL(it(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(it(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(e,t){return ZL(t,e)}function zH(e,t,n,r,i){H(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Af(e.visibleWrites,t,n)),e.lastWriteId=r}function WH(e,t,n,r){H(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=t1(e.visibleWrites,t,n),e.lastWriteId=r}function HH(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function KH(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});H(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&GH(l,r.path)?i=!1:Nr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return QH(e),!0;if(r.snap)e.visibleWrites=XR(e.visibleWrites,r.path);else{var c=r.children;Mt(c,function(h){e.visibleWrites=XR(e.visibleWrites,it(r.path,h))})}return!0}else return!1}function GH(e,t){if(e.snap)return Nr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Nr(it(e.path,n),t))return!0;return!1}function QH(e){e.visibleWrites=YL(e.allWrites,YH,Me()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function YH(e){return e.visible}function YL(e,t,n){for(var r=no.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)Nr(n,a)?(l=Rn(n,a),r=Af(r,l,s.snap)):Nr(a,n)&&(l=Rn(a,n),r=Af(r,Me(),s.snap.getChild(l)));else if(s.children){if(Nr(n,a))l=Rn(n,a),r=t1(r,l,s.children);else if(Nr(a,n))if(l=Rn(a,n),we(l))r=t1(r,Me(),s.children);else{var c=Aa(s.children,ye(l));if(c){var h=c.getChild(We(l));r=Af(r,Me(),h)}}}else throw zl("WriteRecord should have .snap or .children")}}return r}function XL(e,t,n,r,i){if(!r&&!i){var s=qa(e.visibleWrites,t);if(s!=null)return s;var a=ss(e.visibleWrites,t);if(r1(a))return n;if(n==null&&!n1(a,Me()))return null;var l=n||de.EMPTY_NODE;return yl(a,l)}else{var c=ss(e.visibleWrites,t);if(!i&&r1(c))return n;if(!i&&n==null&&!n1(c,Me()))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(Nr(g.path,t)||Nr(t,g.path))},p=YL(e.allWrites,h,t),l=n||de.EMPTY_NODE;return yl(p,l)}}function XH(e,t,n){var r=de.EMPTY_NODE,i=qa(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Qe,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=ss(e.visibleWrites,t);return n.forEachChild(Qe,function(l,c){var h=yl(ss(s,new Ue(l)),c);r=r.updateImmediateChild(l,h)}),JR(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=ss(e.visibleWrites,t);return JR(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function JH(e,t,n,r,i){H(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=it(t,n);if(n1(e.visibleWrites,s))return null;var a=ss(e.visibleWrites,s);return r1(a)?i.getChild(n):yl(a,i.getChild(n))}function ZH(e,t,n,r){var i=it(t,n),s=qa(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=ss(e.visibleWrites,i);return yl(a,r.getNode().getImmediateChild(n))}else return null}function eK(e,t){return qa(e.visibleWrites,t)}function tK(e,t,n,r,i,s,a){var l,c=ss(e.visibleWrites,t),h=qa(c,Me());if(h!=null)l=h;else if(n!=null)l=yl(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],v=a.getCompare(),g=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=g.getNext();y&&p.length<i;)v(y,r)!==0&&p.push(y),y=g.getNext();return p}else return[]}function nK(){return{visibleWrites:no.empty(),allWrites:[],lastWriteId:-1}}function Yv(e,t,n,r){return XL(e.writeTree,e.treePath,t,n,r)}function hT(e,t){return XH(e.writeTree,e.treePath,t)}function ZR(e,t,n,r){return JH(e.writeTree,e.treePath,t,n,r)}function Xv(e,t){return eK(e.writeTree,it(e.treePath,t))}function rK(e,t,n,r,i,s){return tK(e.writeTree,e.treePath,t,n,r,i,s)}function dT(e,t,n){return ZH(e.writeTree,e.treePath,t,n)}function JL(e,t){return ZL(it(e.treePath,t),e.writeTree)}function ZL(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iK=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,lh(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,uh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,gl(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,lh(r,t.snapshotNode,i.oldSnap));else throw zl("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oK=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),eM=new oK,pT=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new ps(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dT(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ra(this.viewCache_),s=rK(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(e){return{filter:e}}function aK(e,t){H(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function uK(e,t,n,r,i){var s=new iK,a,l;if(n.type===ri.OVERWRITE){var c=n;c.source.fromUser?a=i1(e,t,c.path,c.snap,r,i,s):(H(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!we(c.path),a=Jv(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===ri.MERGE){var h=n;h.source.fromUser?a=cK(e,t,h.path,h.children,r,i,s):(H(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=o1(e,t,h.path,h.children,r,i,l,s))}else if(n.type===ri.ACK_USER_WRITE){var p=n;p.revert?a=dK(e,t,p.path,r,i,s):a=fK(e,t,p.path,p.affectedTree,r,i,s)}else if(n.type===ri.LISTEN_COMPLETE)a=hK(e,t,n.path,r,s);else throw zl("Unknown operation type: "+n.type);var v=s.getChanges();return lK(t,a,v),{viewCache:a,changes:v}}function lK(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Qv(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(qL(Qv(t)))}}function tM(e,t,n,r,i,s){var a=t.eventCache;if(Xv(r,n)!=null)return t;var l=void 0,c=void 0;if(we(n))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=Ra(t),p=h instanceof de?h:de.EMPTY_NODE,v=hT(r,p);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var g=Yv(r,Ra(t));l=e.filter.updateFullNode(t.eventCache.getNode(),g,s)}else{var y=ye(n);if(y===".priority"){H(ds(n)===1,"Can't have a priority with additional path components");var _=a.getNode();c=t.serverCache.getNode();var T=ZR(r,n,_,c);T!=null?l=e.filter.updatePriority(_,T):l=a.getNode()}else{var S=We(n),E=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var I=ZR(r,n,a.getNode(),c);I!=null?E=a.getNode().getImmediateChild(y).updateChild(S,I):E=a.getNode().getImmediateChild(y)}else E=dT(r,y,t.serverCache);E!=null?l=e.filter.updateChild(a.getNode(),y,E,S,i,s):l=a.getNode()}}return Nf(t,l,a.isFullyInitialized()||we(n),e.filter.filtersNodes())}function Jv(e,t,n,r,i,s,a,l){var c=t.serverCache,h,p=a?e.filter:e.filter.getIndexedFilter();if(we(n))h=p.updateFullNode(c.getNode(),r,null);else if(p.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=p.updateFullNode(c.getNode(),v,null)}else{var g=ye(n);if(!c.isCompleteForPath(n)&&ds(n)>1)return t;var y=We(n),_=c.getNode().getImmediateChild(g),T=_.updateChild(y,r);g===".priority"?h=p.updatePriority(c.getNode(),T):h=p.updateChild(c.getNode(),g,T,y,eM,null)}var S=GL(t,h,c.isFullyInitialized()||we(n),p.filtersNodes()),E=new pT(i,S,s);return tM(e,S,n,i,E,l)}function i1(e,t,n,r,i,s,a){var l=t.eventCache,c,h,p=new pT(i,t,s);if(we(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=Nf(t,h,!0,e.filter.filtersNodes());else{var v=ye(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=Nf(t,h,l.isFullyInitialized(),l.isFiltered());else{var g=We(n),y=l.getNode().getImmediateChild(v),_=void 0;if(we(g))_=r;else{var T=p.getCompleteChild(v);T!=null?nT(g)===".priority"&&T.getChild(DL(g)).isEmpty()?_=T:_=T.updateChild(g,r):_=de.EMPTY_NODE}if(y.equals(_))c=t;else{var S=e.filter.updateChild(l.getNode(),v,_,g,p,a);c=Nf(t,S,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function ex(e,t){return e.eventCache.isCompleteForChild(t)}function cK(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var p=it(n,c);ex(t,ye(p))&&(l=i1(e,l,p,h,i,s,a))}),r.foreach(function(c,h){var p=it(n,c);ex(t,ye(p))||(l=i1(e,l,p,h,i,s,a))}),l}function tx(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function o1(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;we(n)?h=r:h=new mr(null).setTree(n,r);var p=t.serverCache.getNode();return h.children.inorderTraversal(function(v,g){if(p.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),_=tx(e,y,g);c=Jv(e,c,new Ue(v),_,i,s,a,l)}}),h.children.inorderTraversal(function(v,g){var y=!t.serverCache.isCompleteForChild(v)&&g.value===void 0;if(!p.hasChild(v)&&!y){var _=t.serverCache.getNode().getImmediateChild(v),T=tx(e,_,g);c=Jv(e,c,new Ue(v),T,i,s,a,l)}}),c}function fK(e,t,n,r,i,s,a){if(Xv(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(we(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Jv(e,t,n,c.getNode().getChild(n),i,s,l,a);if(we(n)){var h=new mr(null);return c.getNode().forEachChild(ki,function(v,g){h=h.set(new Ue(v),g)}),o1(e,t,n,h,i,s,l,a)}else return t}else{var p=new mr(null);return r.foreach(function(v,g){var y=it(n,v);c.isCompleteForPath(y)&&(p=p.set(v,c.getNode().getChild(y)))}),o1(e,t,n,p,i,s,l,a)}}function hK(e,t,n,r,i){var s=t.serverCache,a=GL(t,s.getNode(),s.isFullyInitialized()||we(n),s.isFiltered());return tM(e,a,n,r,eM,i)}function dK(e,t,n,r,i,s){var a;if(Xv(r,n)!=null)return t;var l=new pT(r,t,i),c=t.eventCache.getNode(),h=void 0;if(we(n)||ye(n)===".priority"){var p=void 0;if(t.serverCache.isFullyInitialized())p=Yv(r,Ra(t));else{var v=t.serverCache.getNode();H(v instanceof de,"serverChildren would be complete if leaf node"),p=hT(r,v)}p=p,h=e.filter.updateFullNode(c,p,s)}else{var g=ye(n),y=dT(r,g,t.serverCache);y==null&&t.serverCache.isCompleteForChild(g)&&(y=c.getImmediateChild(g)),y!=null?h=e.filter.updateChild(c,g,y,We(n),l,s):t.eventCache.getNode().hasChild(g)?h=e.filter.updateChild(c,g,de.EMPTY_NODE,We(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Yv(r,Ra(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||Xv(r,Me())!=null,Nf(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pK=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new aT(r.getIndex()),s=kH(r);this.processor_=sK(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(de.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(de.EMPTY_NODE,l.getNode(),null),p=new ps(c,a.isFullyInitialized(),i.filtersNodes()),v=new ps(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=ng(v,p),this.eventGenerator_=new jH(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function vK(e){return e.viewCache_.serverCache.getNode()}function mK(e){return Qv(e.viewCache_)}function gK(e,t){var n=Ra(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!we(t)&&!n.getImmediateChild(ye(t)).isEmpty())?n.getChild(t):null}function nx(e){return e.eventRegistrations_.length===0}function yK(e,t){e.eventRegistrations_.push(t)}function rx(e,t,n){var r=[];if(n){H(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function ix(e,t,n,r){t.type===ri.MERGE&&t.source.queryId!==null&&(H(Ra(e.viewCache_),"We should always have a full cache before handling merges"),H(Qv(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=uK(e.processor_,i,t,n,r);return aK(e.processor_,s.viewCache),H(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,nM(e,s.changes,s.viewCache.eventCache.getNode(),null)}function wK(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Qe,function(s,a){r.push(gl(s,a))})}return n.isFullyInitialized()&&r.push(qL(n.getNode())),nM(e,r,n.getNode(),t)}function nM(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return VH(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zv,rM=function(){function e(){this.views=new Map}return e}();function _K(e){H(!Zv,"__referenceConstructor has already been defined"),Zv=e}function bK(){return H(Zv,"Reference.ts has not been loaded"),Zv}function EK(e){return e.views.size===0}function vT(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return H(l!=null,"SyncTree gave us an op for an invalid query."),ix(l,t,n,r)}else{var c=[];try{for(var h=Ht(e.views.values()),p=h.next();!p.done;p=h.next()){var l=p.value;c=c.concat(ix(l,t,n,r))}}catch(v){i={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function iM(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=Yv(n,i?r:null),c=!1;l?c=!0:r instanceof de?(l=hT(n,r),c=!1):(l=de.EMPTY_NODE,c=!1);var h=ng(new ps(l,c,!1),new ps(r,i,!1));return new pK(t,h)}return a}function TK(e,t,n,r,i,s){var a=iM(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),yK(a,n),wK(a,n)}function IK(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=vs(e);if(a==="default")try{for(var p=Ht(e.views.entries()),v=p.next();!v.done;v=p.next()){var g=Zt(v.value,2),y=g[0],_=g[1];c=c.concat(rx(_,n,r)),nx(_)&&(e.views.delete(y),_.query._queryParams.loadsAllData()||l.push(_.query))}}catch(T){i={error:T}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}else{var _=e.views.get(a);_&&(c=c.concat(rx(_,n,r)),nx(_)&&(e.views.delete(a),_.query._queryParams.loadsAllData()||l.push(_.query)))}return h&&!vs(e)&&l.push(new(bK())(t._repo,t._path)),{removed:l,events:c}}function oM(e){var t,n,r=[];try{for(var i=Ht(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function as(e,t){var n,r,i=null;try{for(var s=Ht(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||gK(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function sM(e,t){var n=t._queryParams;if(n.loadsAllData())return ig(e);var r=t._queryIdentifier;return e.views.get(r)}function aM(e,t){return sM(e,t)!=null}function vs(e){return ig(e)!=null}function ig(e){var t,n;try{for(var r=Ht(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var em;function SK(e){H(!em,"__referenceConstructor has already been defined"),em=e}function kK(){return H(em,"Reference.ts has not been loaded"),em}var CK=1,ox=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new mr(null),this.pendingWriteTree_=nK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function mT(e,t,n,r,i){return zH(e.pendingWriteTree_,t,n,r,i),i?Ql(e,new tg(uT(),t,n)):[]}function NK(e,t,n,r){WH(e.pendingWriteTree_,t,n,r);var i=mr.fromObject(n);return Ql(e,new fT(uT(),t,i))}function Ko(e,t,n){n===void 0&&(n=!1);var r=HH(e.pendingWriteTree_,t),i=KH(e.pendingWriteTree_,t);if(i){var s=new mr(null);return r.snap!=null?s=s.set(Me(),!0):Mt(r.children,function(a){s=s.set(new Ue(a),!0)}),Ql(e,new UH(r.path,s,n))}else return[]}function Bh(e,t,n){return Ql(e,new tg(lT(),t,n))}function AK(e,t,n){var r=mr.fromObject(n);return Ql(e,new fT(lT(),t,r))}function RK(e,t){return Ql(e,new KL(lT(),t))}function xK(e,t,n){var r=gT(e,n);if(r){var i=yT(r),s=i.path,a=i.queryId,l=Rn(s,t),c=new KL(cT(a),l);return wT(e,s,c)}else return[]}function s1(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||aM(s,t))){var l=IK(s,t,n,r);EK(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(I){return I._queryParams.loadsAllData()})!==-1,p=e.syncPointTree_.findOnPath(i,function(I,k){return vs(k)});if(h&&!p){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var g=LK(v),y=0;y<g.length;++y){var _=g[y],T=_.query,S=cM(e,_);e.listenProvider_.startListening(Rf(T),tm(e,T),S.hashFn,S.onComplete)}}if(!p&&c.length>0&&!r)if(h){var E=null;e.listenProvider_.stopListening(Rf(t),E)}else c.forEach(function(I){var k=e.queryToTagMap.get(sg(I));e.listenProvider_.stopListening(Rf(I),k)});MK(e,c)}return a}function PK(e,t,n,r){var i=gT(e,r);if(i!=null){var s=yT(i),a=s.path,l=s.queryId,c=Rn(a,t),h=new tg(cT(l),c,n);return wT(e,a,h)}else return[]}function OK(e,t,n,r){var i=gT(e,r);if(i){var s=yT(i),a=s.path,l=s.queryId,c=Rn(a,t),h=mr.fromObject(n),p=new fT(cT(l),c,h);return wT(e,a,p)}else return[]}function sx(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(T,S){var E=Rn(T,r);i=i||as(S,E),s=s||vs(S)});var a=e.syncPointTree_.get(r);a?(s=s||vs(a),i=i||as(a,Me())):(a=new rM,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=de.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(T,S){var E=as(S,Me());E&&(i=i.updateImmediateChild(T,E))})}var h=aM(a,t);if(!h&&!t._queryParams.loadsAllData()){var p=sg(t);H(!e.queryToTagMap.has(p),"View does not exist, but we have a tag");var v=FK();e.queryToTagMap.set(p,v),e.tagToQueryMap.set(v,p)}var g=rg(e.pendingWriteTree_,r),y=TK(a,t,n,g,i,l);if(!h&&!s){var _=sM(a,t);y=y.concat(UK(e,t,_))}return y}function og(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=Rn(a,t),h=as(l,c);if(h)return h});return XL(i,t,s,n,r)}function DK(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,p){var v=Rn(h,n);r=r||as(p,v)});var i=e.syncPointTree_.get(n);i?r=r||as(i,Me()):(i=new rM,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new ps(r,!0,!1):null,l=rg(e.pendingWriteTree_,t._path),c=iM(i,t,l,s?a.getNode():de.EMPTY_NODE,s);return mK(c)}function Ql(e,t){return uM(t,e.syncPointTree_,null,rg(e.pendingWriteTree_,Me()))}function uM(e,t,n,r){if(we(e.path))return lM(e,t,n,r);var i=t.get(Me());n==null&&i!=null&&(n=as(i,Me()));var s=[],a=ye(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,p=JL(r,a);s=s.concat(uM(l,c,h,p))}return i&&(s=s.concat(vT(i,e,r,n))),s}function lM(e,t,n,r){var i=t.get(Me());n==null&&i!=null&&(n=as(i,Me()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=JL(r,a),p=e.operationForChild(a);p&&(s=s.concat(lM(p,l,c,h)))}),i&&(s=s.concat(vT(i,e,r,n))),s}function cM(e,t){var n=t.query,r=tm(e,n);return{hashFn:function(){var i=vK(t)||de.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?xK(e,n._path,r):RK(e,n._path);var s=TW(i,n);return s1(e,n,null,s)}}}function tm(e,t){var n=sg(t);return e.queryToTagMap.get(n)}function sg(e){return e._path.toString()+"$"+e._queryIdentifier}function gT(e,t){return e.tagToQueryMap.get(t)}function yT(e){var t=e.indexOf("$");return H(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ue(e.substr(0,t))}}function wT(e,t,n){var r=e.syncPointTree_.get(t);H(r,"Missing sync point for query tag that we're tracking");var i=rg(e.pendingWriteTree_,t);return vT(r,n,i,null)}function LK(e){return e.fold(function(t,n,r){if(n&&vs(n)){var i=ig(n);return[i]}else{var s=[];return n&&(s=oM(n)),Mt(r,function(a,l){s=s.concat(l)}),s}})}function Rf(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(kK())(e._repo,e._path):e}function MK(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=sg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function FK(){return CK++}function UK(e,t,n){var r=t._path,i=tm(e,t),s=cM(e,n),a=e.listenProvider_.startListening(Rf(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)H(!vs(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,g,y){if(!we(v)&&g&&vs(g))return[ig(g).query];var _=[];return g&&(_=_.concat(oM(g).map(function(T){return T.query}))),Mt(y,function(T,S){_=_.concat(S)}),_}),h=0;h<c.length;++h){var p=c[h];e.listenProvider_.stopListening(Rf(p),tm(e,p))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jK=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),VK=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=it(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return og(this.syncTree_,this.path_)},e}(),BK=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},ax=function(e,t,n){if(!e||typeof e!="object")return e;if(H(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return $K(e[".sv"],t,n);if(typeof e[".sv"]=="object")return qK(e[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},$K=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+e)}},qK=function(e,t,n){e.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&H(!1,"Unexpected increment value: "+r);var i=t.node();if(H(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},fM=function(e,t,n,r){return bT(t,new VK(n,e),r)},_T=function(e,t,n){return bT(e,new jK(t),n)};function bT(e,t,n){var r=e.getPriority().val(),i=ax(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=ax(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new vl(l,ut(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new vl(i))),c.forEachChild(Qe,function(h,p){var v=bT(p,t.getImmediateChild(h),n);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ET=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function ag(e,t){for(var n=t instanceof Ue?t:new Ue(t),r=e,i=ye(n);i!==null;){var s=Aa(r.node.children,i)||{children:{},childCount:0};r=new ET(i,r,s),n=We(n),i=ye(n)}return r}function za(e){return e.node.value}function TT(e,t){e.node.value=t,a1(e)}function hM(e){return e.node.childCount>0}function zK(e){return za(e)===void 0&&!hM(e)}function ug(e,t){Mt(e.node.children,function(n,r){t(new ET(n,e,r))})}function dM(e,t,n,r){n&&!r&&t(e),ug(e,function(i){dM(i,t,!0,r)}),n&&r&&t(e)}function WK(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function $h(e){return new Ue(e.parent===null?e.name:$h(e.parent)+"/"+e.name)}function a1(e){e.parent!==null&&HK(e.parent,e.name,e)}function HK(e,t,n){var r=zK(n),i=vr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,a1(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,a1(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KK=/[\[\].#$\/\u0000-\u001F\u007F]/,GK=/[\[\].#$\u0000-\u001F\u007F]/,c_=10*1024*1024,lg=function(e){return typeof e=="string"&&e.length!==0&&!KK.test(e)},pM=function(e){return typeof e=="string"&&e.length!==0&&!GK.test(e)},QK=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),pM(e)},ch=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Jm(e)||e&&typeof e=="object"&&vr(e,".sv")},Pi=function(e,t,n,r){r&&t===void 0||qh(Xn(e,"value"),t,n)},qh=function(e,t,n){var r=n instanceof Ue?new rH(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ea(r));if(typeof t=="function")throw new Error(e+"contains a function "+ea(r)+" with contents = "+t.toString());if(Jm(t))throw new Error(e+"contains "+t.toString()+" "+ea(r));if(typeof t=="string"&&t.length>c_/3&&Xm(t)>c_)throw new Error(e+"contains a string greater than "+c_+" utf8 bytes "+ea(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Mt(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!lg(a)))throw new Error(e+" contains an invalid key ("+a+") "+ea(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iH(r,a),qh(e,l,r),oH(r)}),i&&s)throw new Error(e+' contains ".value" child '+ea(r)+" in addition to actual children.")}},YK=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=ah(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!lg(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(nH);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Nr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},vM=function(e,t,n,r){if(!(r&&t===void 0)){var i=Xn(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];Mt(t,function(a,l){var c=new Ue(a);if(qh(i,l,it(n,c)),nT(c)===".priority"&&!ch(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),YK(i,s)}},IT=function(e,t,n){if(!(n&&t===void 0)){if(Jm(t))throw new Error(Xn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ch(t))throw new Error(Xn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},XK=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Xn(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},zh=function(e,t,n,r){if(!(r&&n===void 0)&&!lg(n))throw new Error(Xn(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},fh=function(e,t,n,r){if(!(r&&n===void 0)&&!pM(n))throw new Error(Xn(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},JK=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fh(e,t,n,r)},Ar=function(e,t){if(ye(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},mM=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!lg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!QK(n))throw new Error(Xn(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},ZK=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Xn(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eG=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function cg(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!rT(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function ST(e,t,n){cg(e,n),gM(e,function(r){return rT(r,t)})}function Ur(e,t,n){cg(e,n),gM(e,function(r){return Nr(r,t)||Nr(t,r)})}function gM(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(tG(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function tG(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();ma&&$t("event: "+n.toString()),Kl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yM="repo_interrupt",nG=25,rG=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gv(),this.transactionQueueTree_=new ET,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function iG(e,t,n){if(e.stats_=eT(e.repoInfo_),e.forceRestClient_||SW())e.server_=new xH(e.repoInfo_,function(r,i,s,a){ux(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return lx(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ga(e.repoInfo_,t,function(r,i,s,a){ux(e,r,i,s,a)},function(r){lx(e,r)},function(r){sG(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=xW(e.repoInfo_,function(){return new MH(e.stats_,e.server_)}),e.infoData_=new PH,e.infoSyncTree_=new ox({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=Bh(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),kT(e,"connected",!1),e.serverSyncTree_=new ox({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);Ur(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function wM(e){var t=e.infoData_.getNode(new Ue(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Wh(e){return BK({timestamp:wM(e)})}function ux(e,t,n,r,i){e.dataUpdateCount++;var s=new Ue(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=$v(n,function(g){return ut(g)});a=OK(e.serverSyncTree_,s,l,i)}else{var c=ut(n);a=PK(e.serverSyncTree_,s,c,i)}else if(r){var h=$v(n,function(g){return ut(g)});a=AK(e.serverSyncTree_,s,h)}else{var p=ut(n);a=Bh(e.serverSyncTree_,s,p)}var v=s;a.length>0&&(v=wl(e,s)),Ur(e.eventQueue_,v,a)}function oG(e,t){e.interceptServerDataCallback_=t}function lx(e,t){kT(e,"connected",t),t===!1&&lG(e)}function sG(e,t){Mt(t,function(n,r){kT(e,n,r)})}function kT(e,t,n){var r=new Ue("/.info/"+t),i=ut(n);e.infoData_.updateSnapshot(r,i);var s=Bh(e.infoSyncTree_,r,i);Ur(e.eventQueue_,r,s)}function fg(e){return e.nextWriteId_++}function aG(e,t){var n=DK(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=ut(r),s=Bh(e.serverSyncTree_,t._path,i);return ST(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Yl(e,"get for query "+Pt(t)+" failed: "+r),Promise.reject(new Error(r))})}function CT(e,t,n,r,i){Yl(e,"set",{path:t.toString(),value:n,priority:r});var s=Wh(e),a=ut(n,r),l=og(e.serverSyncTree_,t),c=_T(a,l,s),h=fg(e),p=mT(e.serverSyncTree_,t,c,h,!0);cg(e.eventQueue_,p),e.server_.put(t.toString(),a.val(!0),function(g,y){var _=g==="ok";_||nn("set at "+t+" failed: "+g);var T=Ko(e.serverSyncTree_,h,!_);Ur(e.eventQueue_,t,T),ms(e,i,g,y)});var v=AT(e,t);wl(e,v),Ur(e.eventQueue_,v,[])}function uG(e,t,n,r){Yl(e,"update",{path:t.toString(),value:n});var i=!0,s=Wh(e),a={};if(Mt(n,function(h,p){i=!1,a[h]=fM(it(t,h),ut(p),e.serverSyncTree_,s)}),i)$t("update() called with empty data.  Don't do anything."),ms(e,r,"ok",void 0);else{var l=fg(e),c=NK(e.serverSyncTree_,t,a,l);cg(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,p){var v=h==="ok";v||nn("update at "+t+" failed: "+h);var g=Ko(e.serverSyncTree_,l,!v),y=g.length>0?wl(e,t):t;Ur(e.eventQueue_,y,g),ms(e,r,h,p)}),Mt(n,function(h){var p=AT(e,it(t,h));wl(e,p)}),Ur(e.eventQueue_,t,[])}}function lG(e){Yl(e,"onDisconnectEvents");var t=Wh(e),n=Gv();e1(e.onDisconnect_,Me(),function(i,s){var a=fM(i,s,e.serverSyncTree_,t);Gl(n,i,a)});var r=[];e1(n,Me(),function(i,s){r=r.concat(Bh(e.serverSyncTree_,i,s));var a=AT(e,i);wl(e,a)}),e.onDisconnect_=Gv(),Ur(e.eventQueue_,Me(),r)}function cG(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&Zb(e.onDisconnect_,t),ms(e,n,r,i)})}function cx(e,t,n,r){var i=ut(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Gl(e.onDisconnect_,t,i),ms(e,r,s,a)})}function fG(e,t,n,r,i){var s=ut(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&Gl(e.onDisconnect_,t,s),ms(e,i,a,l)})}function hG(e,t,n,r){if(zb(n)){$t("onDisconnect().update() called with empty data.  Don't do anything."),ms(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&Mt(n,function(a,l){var c=ut(l);Gl(e.onDisconnect_,it(t,a),c)}),ms(e,r,i,s)})}function dG(e,t,n){var r;ye(t._path)===".info"?r=sx(e.infoSyncTree_,t,n):r=sx(e.serverSyncTree_,t,n),ST(e.eventQueue_,t._path,r)}function u1(e,t,n){var r;ye(t._path)===".info"?r=s1(e.infoSyncTree_,t,n):r=s1(e.serverSyncTree_,t,n),ST(e.eventQueue_,t._path,r)}function _M(e){e.persistentConnection_&&e.persistentConnection_.interrupt(yM)}function pG(e){e.persistentConnection_&&e.persistentConnection_.resume(yM)}function vG(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new HL(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Mt(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function mG(e,t){e.stats_.incrementCounter(t),FH(e.statsReporter_,t)}function Yl(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),$t.apply(void 0,Ee([r],Zt(t)))}function ms(e,t,n,r){t&&Kl(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function gG(e,t,n,r,i,s){Yl(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:fL(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=NT(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{qh("transaction failed: Data returned ",c,a.path),a.status=0;var h=ag(e.transactionQueueTree_,t),p=za(h)||[];p.push(a),TT(h,p);var v=void 0;if(typeof c=="object"&&c!==null&&vr(c,".priority"))v=Aa(c,".priority"),H(ch(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var g=og(e.serverSyncTree_,t)||de.EMPTY_NODE;v=g.getPriority().val()}var y=Wh(e),_=ut(c,v),T=_T(_,l,y);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=T,a.currentWriteId=fg(e);var S=mT(e.serverSyncTree_,t,T,a.currentWriteId,a.applyLocally);Ur(e.eventQueue_,t,S),hg(e,e.transactionQueueTree_)}}function NT(e,t,n){return og(e.serverSyncTree_,t,n)||de.EMPTY_NODE}function hg(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||dg(e,t),za(t)){var n=EM(e,t);H(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&yG(e,$h(t),n)}else hM(t)&&ug(t,function(i){hg(e,i)})}function yG(e,t,n){for(var r=n.map(function(g){return g.currentWriteId}),i=NT(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];H(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=Rn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var p=s.val(!0),v=t;e.server_.put(v.toString(),p,function(g){Yl(e,"transaction put response",{path:v.toString(),status:g});var y=[];if(g==="ok"){for(var _=[],T=function(E){n[E].status=2,y=y.concat(Ko(e.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&_.push(function(){return n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)}),n[E].unwatcher()},S=0;S<n.length;S++)T(S);dg(e,ag(e.transactionQueueTree_,t)),hg(e,e.transactionQueueTree_),Ur(e.eventQueue_,t,y);for(var S=0;S<_.length;S++)Kl(_[S])}else{if(g==="datastale")for(var S=0;S<n.length;S++)n[S].status===3?n[S].status=4:n[S].status=0;else{nn("transaction at "+v.toString()+" failed: "+g);for(var S=0;S<n.length;S++)n[S].status=4,n[S].abortReason=g}wl(e,t)}},a)}function wl(e,t){var n=bM(e,t),r=$h(n),i=EM(e,n);return wG(e,i,r),r}function wG(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var p=t[h],v=Rn(n,p.path),g=!1,y;if(H(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)g=!0,y=p.abortReason,i=i.concat(Ko(e.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=nG)g=!0,y="maxretry",i=i.concat(Ko(e.serverSyncTree_,p.currentWriteId,!0));else{var _=NT(e,p.path,a);p.currentInputSnapshot=_;var T=t[h].update(_.val());if(T!==void 0){qh("transaction failed: Data returned ",T,p.path);var S=ut(T),E=typeof T=="object"&&T!=null&&vr(T,".priority");E||(S=S.updatePriority(_.getPriority()));var I=p.currentWriteId,k=Wh(e),P=_T(S,_,k);p.currentOutputSnapshotRaw=S,p.currentOutputSnapshotResolved=P,p.currentWriteId=fg(e),a.splice(a.indexOf(I),1),i=i.concat(mT(e.serverSyncTree_,p.path,P,p.currentWriteId,p.applyLocally)),i=i.concat(Ko(e.serverSyncTree_,I,!0))}else g=!0,y="nodata",i=i.concat(Ko(e.serverSyncTree_,p.currentWriteId,!0))}Ur(e.eventQueue_,n,i),i=[],g&&(t[h].status=2,function(D){setTimeout(D,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);dg(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Kl(r[c]);hg(e,e.transactionQueueTree_)}}function bM(e,t){var n,r=e.transactionQueueTree_;for(n=ye(t);n!==null&&za(r)===void 0;)r=ag(r,n),t=We(t),n=ye(t);return r}function EM(e,t){var n=[];return TM(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function TM(e,t,n){var r=za(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);ug(t,function(s){TM(e,s,n)})}function dg(e,t){var n=za(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,TT(t,n.length>0?n:void 0)}ug(t,function(s){dg(e,s)})}function AT(e,t){var n=$h(bM(e,t)),r=ag(e.transactionQueueTree_,t);return WK(r,function(i){f_(e,i)}),f_(e,r),dM(r,function(i){f_(e,i)}),n}function f_(e,t){var n=za(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(H(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(H(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Ko(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?TT(t,void 0):n.length=s+1,Ur(e.eventQueue_,$h(t),i);for(var a=0;a<r.length;a++)Kl(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function bG(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Ht(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):nn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var l1=function(e,t){var n=EG(e),r=n.namespace;n.domain==="firebase.com"&&Ri(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ri("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||yW();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ZE(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Ue(n.pathString)}},EG=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var p=e.indexOf("/");p===-1&&(p=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(p,v)),p<v&&(i=_G(e.substring(p,v)));var g=bG(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in g&&(s=g.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IM=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Pt(this.snapshot.exportVal())},e}(),SM=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kM=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TG=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new Wn;return cG(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){Ar("OnDisconnect.remove",this._path);var t=new Wn;return cx(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){Ar("OnDisconnect.set",this._path),Pi("OnDisconnect.set",t,this._path,!1);var n=new Wn;return cx(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){Ar("OnDisconnect.setWithPriority",this._path),Pi("OnDisconnect.setWithPriority",t,this._path,!1),IT("OnDisconnect.setWithPriority",n,!1);var r=new Wn;return fG(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){Ar("OnDisconnect.update",this._path),vM("OnDisconnect.update",t,this._path,!1);var n=new Wn;return hG(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return we(this._path)?null:nT(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Di(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=QR(this._queryParams),n=YE(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return QR(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=me(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=rT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+tH(this._path)},e}();function pg(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ss(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ki){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==lo)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==xi)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===Qe){if(t!=null&&!ch(t)||n!=null&&!ch(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(H(e.getIndex()instanceof oT||e.getIndex()===sT,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function vg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Di=function(e){Y(t,e);function t(n,r){return e.call(this,n,r,new WL,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=DL(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(Br),mg=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new Ue(t),r=xa(this.ref,t);return new e(this._node.getChild(n),r,Qe)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,xa(n.ref,i),Qe))})},e.prototype.hasChild=function(t){var n=new Ue(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function CM(e,t){return e=me(e),e._checkNotDeleted("ref"),t!==void 0?xa(e._root,t):e._root}function fx(e,t){e=me(e),e._checkNotDeleted("refFromURL");var n=l1(t,e._repo.repoInfo_.nodeAdmin);mM("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Ri("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),CM(e,n.path.toString())}function xa(e,t){return e=me(e),ye(e._path)===null?JK("child","path",t,!1):fh("child","path",t,!1),new Di(e._repo,it(e._path,t))}function IG(e,t){e=me(e),Ar("push",e._path),Pi("push",t,e._path,!0);var n=wM(e._repo),r=TH(n),i=xa(e,r),s=xa(e,r),a;return t!=null?a=RT(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function SG(e){return Ar("remove",e._path),RT(e,null)}function RT(e,t){e=me(e),Ar("set",e._path),Pi("set",t,e._path,!1);var n=new Wn;return CT(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function kG(e,t){e=me(e),Ar("setPriority",e._path),IT("setPriority",t,!1);var n=new Wn;return CT(e._repo,it(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function CG(e,t,n){if(Ar("setWithPriority",e._path),Pi("setWithPriority",t,e._path,!1),IT("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Wn;return CT(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function NG(e,t){vM("update",t,e._path,!1);var n=new Wn;return uG(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function AG(e){return e=me(e),aG(e._repo,e).then(function(t){return new mg(t,new Di(e._repo,e._path),e._queryParams.getIndex())})}var NM=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new IM("value",this,new mg(t.snapshotNode,new Di(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new SM(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),AM=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new SM(this,t,n):null},e.prototype.createEvent=function(t,n){H(t.childName!=null,"Child events should have a childName.");var r=xa(new Di(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new IM(t.type,this,new mg(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Hh(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(p,v){a(p,v),u1(e._repo,e,h)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new kM(n,s||void 0),h=t==="value"?new NM(c):new AM(t,c);return dG(e._repo,e,h),function(){return u1(e._repo,e,h)}}function c1(e,t,n,r){return Hh(e,"value",t,n,r)}function hx(e,t,n,r){return Hh(e,"child_added",t,n,r)}function dx(e,t,n,r){return Hh(e,"child_changed",t,n,r)}function px(e,t,n,r){return Hh(e,"child_moved",t,n,r)}function vx(e,t,n,r){return Hh(e,"child_removed",t,n,r)}function mx(e,t,n){var r=null,i=n?new kM(n):null;t==="value"?r=new NM(i):t&&(r=new AM(t,i)),u1(e._repo,e,r)}var li=function(){function e(){}return e}(),RM=function(e){Y(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Pi("endAt",this._value,n._path,!0);var r=Jb(n._queryParams,this._value,this._key);if(vg(r),Ss(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Br(n._repo,n._path,r,n._orderByCalled)},t}(li);function RG(e,t){return zh("endAt","key",t,!0),new RM(e,t)}var xG=function(e){Y(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Pi("endBefore",this._value,n._path,!1);var r=RH(n._queryParams,this._value,this._key);if(vg(r),Ss(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Br(n._repo,n._path,r,n._orderByCalled)},t}(li);function PG(e,t){return zh("endBefore","key",t,!0),new xG(e,t)}var xM=function(e){Y(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Pi("startAt",this._value,n._path,!0);var r=Xb(n._queryParams,this._value,this._key);if(vg(r),Ss(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Br(n._repo,n._path,r,n._orderByCalled)},t}(li);function OG(e,t){return e===void 0&&(e=null),zh("startAt","key",t,!0),new xM(e,t)}var DG=function(e){Y(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){Pi("startAfter",this._value,n._path,!1);var r=AH(n._queryParams,this._value,this._key);if(vg(r),Ss(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Br(n._repo,n._path,r,n._orderByCalled)},t}(li);function LG(e,t){return zh("startAfter","key",t,!0),new DG(e,t)}var MG=function(e){Y(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Br(n._repo,n._path,CH(n._queryParams,this._limit),n._orderByCalled)},t}(li);function FG(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new MG(e)}var UG=function(e){Y(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Br(n._repo,n._path,NH(n._queryParams,this._limit),n._orderByCalled)},t}(li);function jG(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new UG(e)}var VG=function(e){Y(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){pg(n,"orderByChild");var r=new Ue(this._path);if(we(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new oT(r),s=eg(n._queryParams,i);return Ss(s),new Br(n._repo,n._path,s,!0)},t}(li);function BG(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return fh("orderByChild","path",e,!1),new VG(e)}var $G=function(e){Y(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){pg(n,"orderByKey");var r=eg(n._queryParams,ki);return Ss(r),new Br(n._repo,n._path,r,!0)},t}(li);function qG(){return new $G}var zG=function(e){Y(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){pg(n,"orderByPriority");var r=eg(n._queryParams,Qe);return Ss(r),new Br(n._repo,n._path,r,!0)},t}(li);function WG(){return new zG}var HG=function(e){Y(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){pg(n,"orderByValue");var r=eg(n._queryParams,sT);return Ss(r),new Br(n._repo,n._path,r,!0)},t}(li);function KG(){return new HG}var GG=function(e){Y(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(Pi("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new RM(this._value,this._key)._apply(new xM(this._value,this._key)._apply(n))},t}(li);function QG(e,t){return zh("equalTo","key",t,!0),new GG(e,t)}function Yr(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=me(e);try{for(var a=Ht(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}_K(Di);SK(Di);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YG="FIREBASE_DATABASE_EMULATOR_HOST",f1={},PM=!1;function XG(e,t,n,r){e.repoInfo_=new ZE(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function OM(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Ri("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$t("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=l1(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[YG]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=l1(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var p=i&&c?new Cf(Cf.OWNER):new CW(e.name,e.options,t);mM("Invalid Firebase Database URL",a),we(a.path)||Ri("Database URL must point to the root of a Firebase Database (not including a child path).");var v=ZG(l,e,p,new kW(e.name,n));return new t9(v,e)}function JG(e,t){var n=f1[t];(!n||n[e.key]!==e)&&Ri("Database "+t+"("+e.repoInfo_+") has already been deleted."),_M(e),delete n[e.key]}function ZG(e,t,n,r){var i=f1[t.name];i||(i={},f1[t.name]=i);var s=i[e.toURLString()];return s&&Ri("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new rG(e,PM,n,r),i[e.toURLString()]=s,s}function e9(e){PM=e}var t9=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(iG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Di(this._repo,Me())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),JG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&Ri("Cannot call "+t+" on a deleted database.")},e}();function n9(e,t,n,r){r===void 0&&(r={}),e=me(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Ri("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ri('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Cf(Cf.OWNER);else if(r.mockUserToken){var a=JD(r.mockUserToken,e.app.options.projectId);s=new Cf(a)}XG(i,t,n,s)}function r9(e){e=me(e),e._checkNotDeleted("goOffline"),_M(e._repo)}function i9(e){e=me(e),e._checkNotDeleted("goOnline"),pG(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o9={".sv":"timestamp"};function s9(){return o9}function a9(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u9=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function l9(e,t,n){var r;if(e=me(e),Ar("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Wn,a=function(c,h,p){var v=null;c?s.reject(c):(v=new mg(p,new Di(e._repo,e._path),Qe),s.resolve(new u9(h,v)))},l=c1(e,function(){});return gG(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c9=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){le("OnDisconnect.cancel",0,1,arguments.length),Bt("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){le("OnDisconnect.remove",0,1,arguments.length),Bt("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){le("OnDisconnect.set",1,2,arguments.length),Bt("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){le("OnDisconnect.setWithPriority",2,3,arguments.length),Bt("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(le("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,nn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bt("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f9=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return le("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xf=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return le("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return le("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return le("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return le("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return le("DataSnapshot.child",0,1,arguments.length),t=String(t),fh("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return le("DataSnapshot.hasChild",1,1,arguments.length),fh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return le("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return le("DataSnapshot.forEach",1,1,arguments.length),Bt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return le("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return le("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return le("DataSnapshot.ref",0,0,arguments.length),new la(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),DM=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;le("Query.on",2,4,arguments.length),Bt("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(p,v){n.call(l.context,new xf(s.database,p),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return c1(this._delegate,c,h),n;case"child_added":return hx(this._delegate,c,h),n;case"child_removed":return vx(this._delegate,c,h),n;case"child_changed":return dx(this._delegate,c,h),n;case"child_moved":return px(this._delegate,c,h),n;default:throw new Error(Xn("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(le("Query.off",0,3,arguments.length),XK("Query.off",t,!0),Bt("Query.off","callback",n,!0),RR("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,mx(this._delegate,t,i)}else mx(this._delegate,t)},e.prototype.get=function(){var t=this;return AG(this._delegate).then(function(n){return new xf(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;le("Query.once",1,4,arguments.length),Bt("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.on",r,i),l=new Wn,c=function(p,v){var g=new xf(s.database,p);n&&n.call(a.context,g,v),l.resolve(g)};c.userCallback=n,c.context=a.context;var h=function(p){a.cancel&&a.cancel.call(a.context,p),l.reject(p)};switch(t){case"value":c1(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":hx(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":vx(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":dx(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":px(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(Xn("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return le("Query.limitToFirst",1,1,arguments.length),new e(this.database,Yr(this._delegate,FG(t)))},e.prototype.limitToLast=function(t){return le("Query.limitToLast",1,1,arguments.length),new e(this.database,Yr(this._delegate,jG(t)))},e.prototype.orderByChild=function(t){return le("Query.orderByChild",1,1,arguments.length),new e(this.database,Yr(this._delegate,BG(t)))},e.prototype.orderByKey=function(){return le("Query.orderByKey",0,0,arguments.length),new e(this.database,Yr(this._delegate,qG()))},e.prototype.orderByPriority=function(){return le("Query.orderByPriority",0,0,arguments.length),new e(this.database,Yr(this._delegate,WG()))},e.prototype.orderByValue=function(){return le("Query.orderByValue",0,0,arguments.length),new e(this.database,Yr(this._delegate,KG()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),le("Query.startAt",0,2,arguments.length),new e(this.database,Yr(this._delegate,OG(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),le("Query.startAfter",0,2,arguments.length),new e(this.database,Yr(this._delegate,LG(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),le("Query.endAt",0,2,arguments.length),new e(this.database,Yr(this._delegate,RG(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),le("Query.endBefore",0,2,arguments.length),new e(this.database,Yr(this._delegate,PG(t,n)))},e.prototype.equalTo=function(t,n){return le("Query.equalTo",1,2,arguments.length),new e(this.database,Yr(this._delegate,QG(t,n)))},e.prototype.toString=function(){return le("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return le("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(le("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Bt(t,"cancel",i.cancel,!0),i.context=r,RR(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Xn(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new la(this.database,new Di(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),la=function(e){Y(t,e);function t(n,r){var i=e.call(this,n,new Br(r._repo,r._path,new WL,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return le("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return le("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,xa(this._delegate,n))},t.prototype.getParent=function(){le("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return le("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){le("Reference.set",1,2,arguments.length),Bt("Reference.set","onComplete",r,!0);var i=RT(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(le("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,nn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ar("Reference.update",this._delegate._path),Bt("Reference.update","onComplete",r,!0);var a=NG(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){le("Reference.setWithPriority",2,3,arguments.length),Bt("Reference.setWithPriority","onComplete",i,!0);var s=CG(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){le("Reference.remove",0,1,arguments.length),Bt("Reference.remove","onComplete",n,!0);var r=SG(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;le("Reference.transaction",1,3,arguments.length),Bt("Reference.transaction","transactionUpdate",n,!1),Bt("Reference.transaction","onComplete",r,!0),ZK("Reference.transaction","applyLocally",i,!0);var a=l9(this._delegate,n,{applyLocally:i}).then(function(l){return new f9(l.committed,new xf(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){le("Reference.setPriority",1,2,arguments.length),Bt("Reference.setPriority","onComplete",r,!0);var i=kG(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;le("Reference.push",0,2,arguments.length),Bt("Reference.push","onComplete",r,!0);var s=IG(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return Ar("Reference.onDisconnect",this._delegate._path),new c9(new TG(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(DM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nm=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),n9(this._delegate,t,n,r)},e.prototype.ref=function(t){if(le("database.ref",0,1,arguments.length),t instanceof la){var n=fx(this._delegate,t.toString());return new la(this,n)}else{var n=CM(this._delegate,t);return new la(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";le(n,1,1,arguments.length);var r=fx(this._delegate,t);return new la(this,r)},e.prototype.goOffline=function(){return le("database.goOffline",0,0,arguments.length),r9(this._delegate)},e.prototype.goOnline=function(){return le("database.goOnline",0,0,arguments.length),i9(this._delegate)},e.ServerValue={TIMESTAMP:s9(),increment:function(t){return a9(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h9=function(){ra.forceDisallow(),tT.forceAllow()},d9=function(){tT.forceDisallow()},p9=function(){return ra.isAvailable()},v9=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},m9=function(e,t){vG(e._delegate._repo,t)},g9=function(e,t){mG(e._delegate._repo,t)},y9=function(e){return e._delegate._repo.dataUpdateCount},w9=function(e,t){return oG(e._delegate._repo,t)};function _9(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;lL(r);var c=new rL("auth-internal",new iL("database-standalone"));return c.setComponent(new er("auth-internal",function(){return i},"PRIVATE")),{instance:new nm(OM(t,c,void 0,n,l),t),namespace:s}}var b9=Object.freeze({__proto__:null,forceLongPolling:h9,forceWebSockets:d9,isWebSocketsAvailable:p9,setSecurityDebugCallback:v9,stats:m9,statsIncrementCounter:g9,dataUpdateCount:y9,interceptServerData:w9,initStandalone:_9});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E9=ga;ga.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ga.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var T9=xL,I9=function(e){var t=ga.prototype.put;return ga.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){ga.prototype.put=t}},S9=ZE,k9=function(e){return e._delegate._queryIdentifier},C9=function(e){e9(e)},N9=Object.freeze({__proto__:null,DataConnection:E9,RealTimeConnection:T9,hijackHash:I9,ConnectionTarget:S9,queryIdentifier:k9,forceRestClient:C9});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A9=nm.ServerValue;function R9(e){lL(e.SDK_VERSION),e.INTERNAL.registerComponent(new er("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new nm(OM(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:la,Query:DM,Database:nm,DataSnapshot:xf,enableLogging:dL,INTERNAL:b9,ServerValue:A9,TEST_ACCESS:N9}).setMultipleInstances(!0)),e.registerVersion(pW,vW)}R9(se);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h1=function(e,t){return h1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},h1(e,t)};function x9(e,t){h1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function LM(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var P9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne,xT=xT||{},pe=P9||self;function rm(){}function d1(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Kh(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function O9(e){return Object.prototype.hasOwnProperty.call(e,h_)&&e[h_]||(e[h_]=++D9)}var h_="closure_uid_"+(1e9*Math.random()>>>0),D9=0;function L9(e,t,n){return e.call.apply(e.bind,arguments)}function M9(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function pn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pn=L9:pn=M9,pn.apply(null,arguments)}function Lp(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Li(){return Date.now()}function Fn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function ks(){this.j=this.j,this.i=this.i}var F9=0;ks.prototype.j=!1;ks.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),F9!=0)&&O9(this)};ks.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var MM=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},FM=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function U9(e){e:{for(var t=C7,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function gx(e){return Array.prototype.concat.apply([],arguments)}function PT(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function im(e){return/^[\s\xa0]*$/.test(e)}var yx=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Nn(e,t){return e.indexOf(t)!=-1}function d_(e,t){return e<t?-1:e>t?1:0}var An;e:{var wx=pe.navigator;if(wx){var _x=wx.userAgent;if(_x){An=_x;break e}}An=""}function OT(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function UM(e){var t={};for(var n in e)t[n]=e[n];return t}var bx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jM(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<bx.length;s++)n=bx[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function DT(e){return DT[" "](e),e}DT[" "]=rm;function j9(e,t){var n=$9;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var V9=Nn(An,"Opera"),gs=Nn(An,"Trident")||Nn(An,"MSIE"),VM=Nn(An,"Edge"),p1=VM||gs,BM=Nn(An,"Gecko")&&!(Nn(An.toLowerCase(),"webkit")&&!Nn(An,"Edge"))&&!(Nn(An,"Trident")||Nn(An,"MSIE"))&&!Nn(An,"Edge"),B9=Nn(An.toLowerCase(),"webkit")&&!Nn(An,"Edge");function $M(){var e=pe.document;return e?e.documentMode:void 0}var om;e:{var p_="",v_=function(){var e=An;if(BM)return/rv:([^\);]+)(\)|;)/.exec(e);if(VM)return/Edge\/([\d\.]+)/.exec(e);if(gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(B9)return/WebKit\/(\S+)/.exec(e);if(V9)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(v_&&(p_=v_?v_[1]:""),gs){var m_=$M();if(m_!=null&&m_>parseFloat(p_)){om=String(m_);break e}}om=p_}var $9={};function qM(e){return j9(e,function(){for(var t=0,n=yx(String(om)).split("."),r=yx(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var a=n[s]||"",l=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;t=d_(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||d_(a[2].length==0,l[2].length==0)||d_(a[2],l[2]),a=a[3],l=l[3]}while(t==0)}return 0<=t})}var v1;if(pe.document&&gs){var Ex=$M();v1=Ex||parseInt(om,10)||void 0}else v1=void 0;var zM=v1,LT=!gs||9<=Number(zM),q9=gs&&!qM("9"),z9=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{pe.addEventListener("test",rm,t),pe.removeEventListener("test",rm,t)}catch{}return e}();function vn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}vn.prototype.b=function(){this.defaultPrevented=!0};function hh(e,t){if(vn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(BM){e:{try{DT(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:W9[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Fn(hh,vn);var W9={2:"touch",3:"pen",4:"mouse"};hh.prototype.b=function(){hh.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,q9)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Gh="closure_listenable_"+(1e6*Math.random()|0),H9=0;function K9(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++H9,this.Y=this.Z=!1}function gg(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function yg(e){this.src=e,this.a={},this.b=0}yg.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=g1(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new K9(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function m1(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=MM(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gg(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function g1(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var MT="closure_lm_"+(1e6*Math.random()|0),g_={};function FT(e,t,n,r,i){if(r&&r.once)return HM(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)FT(e,t[s],n,r,i);return null}return n=VT(n),e&&e[Gh]?e.va(t,n,Kh(r)?!!r.capture:!!r,i):WM(e,t,n,!1,r,i)}function WM(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Kh(i)?!!i.capture:!!i;if(a&&!LT)return null;var l=jT(e);if(l||(e[MT]=l=new yg(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=G9(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)z9||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(GM(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function G9(){var e=Q9,t=LT?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function HM(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)HM(e,t[s],n,r,i);return null}return n=VT(n),e&&e[Gh]?e.wa(t,n,Kh(r)?!!r.capture:!!r,i):WM(e,t,n,!0,r,i)}function KM(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)KM(e,t[s],n,r,i);else r=Kh(r)?!!r.capture:!!r,n=VT(n),e&&e[Gh]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=g1(s,n,r,i),-1<n&&(gg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=jT(e))&&(t=e.a[t.toString()],e=-1,t&&(e=g1(t,n,r,i)),(n=-1<e?t[e]:null)&&UT(n))}function UT(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Gh])m1(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(GM(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=jT(t))?(m1(n,e),n.b==0&&(n.src=null,t[MT]=null)):gg(e)}}}function GM(e){return e in g_?g_[e]:g_[e]="on"+e}function Tx(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&UT(e),n.call(r,t)}function Q9(e,t){if(e.Y)return!0;if(!LT){if(!t)e:{t=["window","event"];for(var n=pe,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new hh(t,this),Tx(e,t)}return Tx(e,new hh(t,this))}function jT(e){return e=e[MT],e instanceof yg?e:null}var y_="__closure_events_fn_"+(1e9*Math.random()>>>0);function VT(e){return typeof e=="function"?e:(e[y_]||(e[y_]=function(t){return e.handleEvent(t)}),e[y_])}function gr(){ks.call(this),this.c=new yg(this),this.J=this,this.C=null}Fn(gr,ks);gr.prototype[Gh]=!0;ne=gr.prototype;ne.addEventListener=function(e,t,n,r){FT(this,e,t,n,r)};ne.removeEventListener=function(e,t,n,r){KM(this,e,t,n,r)};function rn(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new vn(t,e);else if(t instanceof vn)t.target=t.target||e;else{var i=t;t=new vn(r,e),jM(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];i=Mp(a,r,!0,t)&&i}if(a=t.a=e,i=Mp(a,r,!0,t)&&i,i=Mp(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.a=n[s],i=Mp(a,r,!1,t)&&i}ne.G=function(){if(gr.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)gg(n[r]);delete e.a[t],e.b--}}this.C=null};ne.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};ne.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function Mp(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var l=a.listener,c=a.ca||a.src;a.Z&&m1(e.c,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var BT=pe.JSON.stringify;function QM(){this.b=this.a=null}var YM=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new $T},function(e){e.reset()});QM.prototype.add=function(e,t){var n=YM.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function Y9(){var e=JM,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function $T(){this.next=this.b=this.a=null}$T.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};$T.prototype.reset=function(){this.next=this.b=this.a=null};function X9(e){pe.setTimeout(function(){throw e},0)}function XM(e,t){y1||J9(),w1||(y1(),w1=!0),JM.add(e,t)}var y1;function J9(){var e=pe.Promise.resolve(void 0);y1=function(){e.then(Z9)}}var w1=!1,JM=new QM;function Z9(){for(var e;e=Y9();){try{e.a.call(e.b)}catch(n){X9(n)}var t=YM;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}w1=!1}function wg(e,t){gr.call(this),this.b=e||1,this.a=t||pe,this.f=pn(this.Za,this),this.g=Li()}Fn(wg,gr);ne=wg.prototype;ne.aa=!1;ne.M=null;ne.Za=function(){if(this.aa){var e=Li()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),rn(this,"tick"),this.aa&&(qT(this),this.start()))}};ne.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Li())};function qT(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}ne.G=function(){wg.X.G.call(this),qT(this),delete this.a};function zT(e,t,n){if(typeof e=="function")n&&(e=pn(e,n));else if(e&&typeof e.handleEvent=="function")e=pn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:pe.setTimeout(e,t||0)}function ZM(e){e.a=zT(function(){e.a=null,e.c&&(e.c=!1,ZM(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var e7=function(e){x9(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:ZM(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(pe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(ks);function dh(e){ks.call(this),this.b=e,this.a={}}Fn(dh,ks);var Ix=[];function eF(e,t,n,r){Array.isArray(n)||(n&&(Ix[0]=n.toString()),n=Ix);for(var i=0;i<n.length;i++){var s=FT(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function tF(e){OT(e.a,function(t,n){this.a.hasOwnProperty(n)&&UT(t)},e),e.a={}}dh.prototype.G=function(){dh.X.G.call(this),tF(this)};dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function WT(){this.a=!0}function t7(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var p=h[0];h=h[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+h+"&"):a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function n7(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Gu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+i7(e,n)+(r?" "+r:"")})}function r7(e,t){e.info(function(){return"TIMEOUT: "+t})}WT.prototype.info=function(){};function i7(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return BT(n)}catch{return t}}var Wa={},Sx=null;function _g(){return Sx=Sx||new gr}Wa.Fa="serverreachability";function nF(e){vn.call(this,Wa.Fa,e)}Fn(nF,vn);function ph(e){var t=_g();rn(t,new nF(t))}Wa.STAT_EVENT="statevent";function rF(e,t){vn.call(this,Wa.STAT_EVENT,e),this.stat=t}Fn(rF,vn);function xn(e){var t=_g();rn(t,new rF(t,e))}Wa.Ga="timingevent";function iF(e){vn.call(this,Wa.Ga,e)}Fn(iF,vn);function Qh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){e()},t)}var bg={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},oF={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function sF(){}sF.prototype.a=null;function kx(e){var t;return(t=e.a)||(t=e.a={}),t}function aF(){}var Yh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function HT(){vn.call(this,"d")}Fn(HT,vn);function KT(){vn.call(this,"c")}Fn(KT,vn);var uF;function lF(){}Fn(lF,sF);uF=new lF;function Xh(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new dh(this),this.P=o7,e=p1?125:void 0,this.R=new wg(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var o7=45e3,cF={},_1={};ne=Xh.prototype;ne.setTimeout=function(e){this.P=e};function b1(e,t,n){e.H=1,e.i=Tg(co(t)),e.j=n,e.I=!0,fF(e,null)}function fF(e,t){e.u=Li(),Jh(e),e.l=co(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),gF(n.b,"t",r),e.D=0,e.a=LF(e.g,e.g.C?t:null),0<e.O&&(e.F=new e7(pn(e.Ca,e,e.a),e.O)),eF(e.J,e.a,"readystatechange",e.Xa),t=e.B?UM(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),ph(),t7(e.c,e.m,e.l,e.f,e.S,e.j)}ne.Xa=function(e){e=e.target;var t=this.F;t&&Go(e)==3?t.f():this.Ca(e)};ne.Ca=function(e){try{if(e==this.a)e:{var t=Go(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!p1&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?ph(3):ph(2)),Eg(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,n7(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!im(a)){var c=a;break t}}c=null}if(c)Gu(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,E1(this,c);else{this.b=!1,this.h=3,xn(12),rl(this),sm(this);break e}}this.I?(hF(this,t,s),p1&&this.b&&t==3&&(eF(this.J,this.R,"tick",this.Wa),this.R.start())):(Gu(this.c,this.f,s,null),E1(this,s)),t==4&&rl(this),this.b&&!this.A&&(t==4?xF(this.g,this):(this.b=!1,Jh(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,xn(12)):(this.h=0,xn(13)),rl(this),sm(this)}}}catch{}finally{}};function hF(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=s7(e,n);if(i==_1){t==4&&(e.h=4,xn(14),r=!1),Gu(e.c,e.f,null,"[Incomplete Response]");break}else if(i==cF){e.h=4,xn(15),Gu(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else Gu(e.c,e.f,i,null),E1(e,i)}t==4&&n.length==0&&(e.h=1,xn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),tI(t),t.F=!0,xn(11))):(Gu(e.c,e.f,n,"[Invalid Chunked Response]"),rl(e),sm(e))}ne.Wa=function(){if(this.a){var e=Go(this.a),t=this.a.$();this.D<t.length&&(Eg(this),hF(this,e,t),this.b&&e!=4&&Jh(this))}};function s7(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?_1:(n=Number(t.substring(n,r)),isNaN(n)?cF:(r+=1,r+n>t.length?_1:(t=t.substr(r,n),e.D=r+n,t)))}ne.cancel=function(){this.A=!0,rl(this)};function Jh(e){e.T=Li()+e.P,dF(e,e.P)}function dF(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=Qh(pn(e.Va,e),t)}function Eg(e){e.o&&(pe.clearTimeout(e.o),e.o=null)}ne.Va=function(){this.o=null;var e=Li();0<=e-this.T?(r7(this.c,this.l),this.H!=2&&(ph(),xn(17)),rl(this),this.h=2,sm(this)):dF(this,this.T-e)};function sm(e){e.g.v==0||e.A||xF(e.g,e)}function rl(e){Eg(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,qT(e.R),tF(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function E1(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||T1(n.b,e))){if(n.I=e.N,!e.C&&T1(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)cm(n),Sg(n);else break e;eI(n),xn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=Qh(pn(n.Sa,n),6e3));if(1>=_F(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else ca(n,11)}else if((e.C||n.a==e)&&cm(n),!im(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var h=e.a;if(h){var p=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=c.b;!v.a&&(Nn(p,"spdy")||Nn(p,"quic")||Nn(p,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&(YT(v,v.b),v.b=null))}if(c.A){var g=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;g&&(c.na=g,rt(c.B,c.A,g))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Li()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var y=e;if(c.la=DF(c,c.C?c.ga:null,c.fa),y.C){bF(c.b,y);var _=y,T=c.D;T&&_.setTimeout(T),_.o&&(Eg(_),Jh(_)),c.a=y}else AF(c);0<n.g.length&&kg(n)}else i[0]!="stop"&&i[0]!="close"||ca(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?ca(n,7):ZT(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}ph(4)}catch{}}function a7(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(d1(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function GT(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(d1(e)||typeof e=="string")FM(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(d1(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=a7(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Xl(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Xl)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ne=Xl.prototype;ne.K=function(){QT(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};ne.L=function(){return QT(this),this.a.concat()};function QT(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pa(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Pa(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}ne.get=function(e,t){return Pa(this.b,e)?this.b[e]:t};ne.set=function(e,t){Pa(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};ne.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function Pa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var pF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function u7(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Oa(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Oa){this.a=t!==void 0?t:e.a,am(this,e.f),this.j=e.j,um(this,e.c),lm(this,e.h),this.g=e.g,t=e.b;var n=new vh;n.c=t.c,t.a&&(n.a=new Xl(t.a),n.b=t.b),Cx(this,n),this.i=e.i}else e&&(n=String(e).match(pF))?(this.a=!!t,am(this,n[1]||"",!0),this.j=Pf(n[2]||""),um(this,n[3]||"",!0),lm(this,n[4]),this.g=Pf(n[5]||"",!0),Cx(this,n[6]||"",!0),this.i=Pf(n[7]||"")):(this.a=!!t,this.b=new vh(null,this.a))}Oa.prototype.toString=function(){var e=[],t=this.f;t&&e.push(vf(t,Nx,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(vf(t,Nx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(vf(n,n.charAt(0)=="/"?d7:h7,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",vf(n,v7)),e.join("")};function co(e){return new Oa(e)}function am(e,t,n){e.f=n?Pf(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function um(e,t,n){e.c=n?Pf(t,!0):t}function lm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Cx(e,t,n){t instanceof vh?(e.b=t,m7(e.b,e.a)):(n||(t=vf(t,p7)),e.b=new vh(t,e.a))}function rt(e,t,n){e.b.set(t,n)}function Tg(e){return rt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Li()).toString(36)),e}function l7(e){return e instanceof Oa?co(e):new Oa(e,void 0)}function c7(e,t,n,r){var i=new Oa(null,void 0);return e&&am(i,e),t&&um(i,t),n&&lm(i,n),r&&(i.g=r),i}function Pf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vf(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,f7),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function f7(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Nx=/[#\/\?@]/g,h7=/[#\?:]/g,d7=/[#\?]/g,p7=/[#\?@]/g,v7=/#/g;function vh(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Cs(e){e.a||(e.a=new Xl,e.b=0,e.c&&u7(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ne=vh.prototype;ne.add=function(e,t){Cs(this),this.c=null,e=Jl(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function vF(e,t){Cs(e),t=Jl(e,t),Pa(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Pa(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&QT(e)))}function mF(e,t){return Cs(e),t=Jl(e,t),Pa(e.a.b,t)}ne.forEach=function(e,t){Cs(this),this.a.forEach(function(n,r){FM(n,function(i){e.call(t,i,r,this)},this)},this)};ne.L=function(){Cs(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};ne.K=function(e){Cs(this);var t=[];if(typeof e=="string")mF(this,e)&&(t=gx(t,this.a.get(Jl(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=gx(t,e[n])}return t};ne.set=function(e,t){return Cs(this),this.c=null,e=Jl(this,e),mF(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};ne.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function gF(e,t,n){vF(e,t),0<n.length&&(e.c=null,e.a.set(Jl(e,t),PT(n)),e.b+=n.length)}ne.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function Jl(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function m7(e,t){t&&!e.f&&(Cs(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(vF(this,r),gF(this,i,n))},e)),e.f=t}var g7=function(){function e(t,n){this.b=t,this.a=n}return e}();function yF(e){this.g=e||y7,pe.PerformanceNavigationTiming?(e=pe.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(pe.ia&&pe.ia.ya&&pe.ia.ya()&&pe.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var y7=10;function wF(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function _F(e){return e.b?1:e.a?e.a.size:0}function T1(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function YT(e,t){e.a?e.a.add(t):e.b=t}function bF(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}yF.prototype.cancel=function(){var e,t;if(this.c=EF(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=LM(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function EF(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=LM(e.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return PT(e.c)}function XT(){}XT.prototype.stringify=function(e){return pe.JSON.stringify(e,void 0)};XT.prototype.parse=function(e){return pe.JSON.parse(e,void 0)};function w7(){this.a=new XT}function _7(e,t,n){var r=n||"";try{GT(e,function(i,s){var a=i;Kh(i)&&(a=BT(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function b7(e,t){var n=new WT;if(pe.Image){var r=new Image;r.onload=Lp(Fp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Lp(Fp,n,r,"TestLoadImage: error",!1,t),r.onabort=Lp(Fp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Lp(Fp,n,r,"TestLoadImage: timeout",!1,t),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Fp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var E7=pe.JSON.parse;function Ft(e){gr.call(this),this.headers=new Xl,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=T7,this.D=this.F=!1}Fn(Ft,gr);var T7="",I7=/^https?$/i,S7=["POST","PUT"];ne=Ft.prototype;ne.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?kx(this.H):kx(uF),this.a.onreadystatechange=pn(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){Ax(this,s);return}e=n||"";var i=new Xl(this.headers);r&&GT(r,function(s,a){i.set(a,s)}),r=U9(i.L()),n=pe.FormData&&e instanceof pe.FormData,!(0<=MM(S7,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{SF(this),0<this.o&&((this.D=k7(this.a))?(this.a.timeout=this.o,this.a.ontimeout=pn(this.xa,this)):this.m=zT(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){Ax(this,s)}};function k7(e){return gs&&qM(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function C7(e){return e.toLowerCase()=="content-type"}ne.xa=function(){typeof xT<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,rn(this,"timeout"),this.abort(8))};function Ax(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,TF(e),Ig(e)}function TF(e){e.u||(e.u=!0,rn(e,"complete"),rn(e,"error"))}ne.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,rn(this,"complete"),rn(this,"abort"),Ig(this))};ne.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ig(this,!0)),Ft.X.G.call(this)};ne.za=function(){this.j||(this.A||this.l||this.g?IF(this):this.Ua())};ne.Ua=function(){IF(this)};function IF(e){if(e.b&&typeof xT<"u"&&(!e.s[1]||Go(e)!=4||e.W()!=2)){if(e.l&&Go(e)==4)zT(e.za,0,e);else if(rn(e,"readystatechange"),Go(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(pF)[1]||null;if(!s&&pe.self&&pe.self.location){var a=pe.self.location.protocol;s=a.substr(0,a.length-1)}i=!I7.test(s?s.toLowerCase():"")}r=i}var l=r}if(l)rn(e,"complete"),rn(e,"success");else{e.h=6;try{var c=2<Go(e)?e.a.statusText:""}catch{c=""}e.f=c+" ["+e.W()+"]",TF(e)}}finally{Ig(e)}}}}function Ig(e,t){if(e.a){SF(e);var n=e.a,r=e.s[0]?rm:null;e.a=null,e.s=null,t||rn(e,"ready");try{n.onreadystatechange=r}catch{}}}function SF(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(pe.clearTimeout(e.m),e.m=null)}function Go(e){return e.a?e.a.readyState:0}ne.W=function(){try{return 2<Go(this)?this.a.status:-1}catch{return-1}};ne.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};ne.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),E7(t)}};ne.ua=function(){return this.h};ne.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function N7(e){var t="";return OT(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function JT(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=N7(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):rt(e,t,n))}function uf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kF(e){this.pa=0,this.g=[],this.c=new WT,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=uf("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=uf("baseRetryDelayMs",5e3,e),this.Ra=uf("retryDelaySeedMs",1e4,e),this.Ma=uf("forwardChannelMaxRetries",2,e),this.ma=uf("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new yF(e&&e.concurrentRequestLimit),this.ka=new w7,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}ne=kF.prototype;ne.ha=8;ne.v=1;function ZT(e){if(CF(e),e.v==3){var t=e.R++,n=co(e.B);rt(n,"SID",e.J),rt(n,"RID",t),rt(n,"TYPE","terminate"),Zh(e,n),t=new Xh(e,e.c,t,void 0),t.H=2,t.i=Tg(co(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon&&(n=pe.navigator.sendBeacon(t.i.toString(),"")),!n&&pe.Image&&(new Image().src=t.i,n=!0),n||(t.a=LF(t.g,null),t.a.ba(t.i)),t.u=Li(),Jh(t)}OF(e)}function Sg(e){e.a&&(tI(e),e.a.cancel(),e.a=null)}function CF(e){Sg(e),e.j&&(pe.clearTimeout(e.j),e.j=null),cm(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&pe.clearTimeout(e.h),e.h=null)}function w_(e,t){e.g.push(new g7(e.Oa++,t)),e.v==3&&kg(e)}function kg(e){wF(e.b)||e.h||(e.h=!0,XM(e.Ba,e),e.u=0)}function A7(e,t){return _F(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=Qh(pn(e.Ba,e,t),PF(e,e.u)),e.u++,!0)}ne.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Xh(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=UM(n),jM(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=NF(this,t,r),i=co(this.B),rt(i,"RID",e),rt(i,"CVER",22),this.A&&rt(i,"X-HTTP-Session-Id",this.A),Zh(this,i),this.i&&n&&JT(i,this.i,n),YT(this.b,t),this.Ia&&rt(i,"TYPE","init"),this.da?(rt(i,"$req",r),rt(i,"SID","null"),t.U=!0,b1(t,i,null)):b1(t,i,r),this.v=2}}else this.v==3&&(e?Rx(this,e):this.g.length==0||wF(this.b)||Rx(this))};function Rx(e,t){var n;t?n=t.f:n=e.R++;var r=co(e.B);rt(r,"SID",e.J),rt(r,"RID",n),rt(r,"AID",e.P),Zh(e,r),e.i&&e.l&&JT(r,e.i,e.l),n=new Xh(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=NF(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),YT(e.b,n),b1(n,r,t)}function Zh(e,t){e.f&&GT({},function(n,r){rt(t,r,n)})}function NF(e,t,n){n=Math.min(e.g.length,n);var r=e.f?pn(e.f.Ja,e.f,e):null;e:for(var i=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].b,p=i[c].a;if(h-=s,0>h)s=Math.max(0,i[c].b-100),l=!1;else try{_7(p,a,"req"+h+"_")}catch{r&&r(p)}}if(l){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function AF(e){e.a||e.j||(e.T=1,XM(e.Aa,e),e.o=0)}function eI(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=Qh(pn(e.Aa,e),PF(e,e.o)),e.o++,!0)}ne.Aa=function(){if(this.j=null,RF(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Qh(pn(this.Ta,this),e)}};ne.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xn(10),Sg(this),RF(this))};function tI(e){e.s!=null&&(pe.clearTimeout(e.s),e.s=null)}function RF(e){e.a=new Xh(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=co(e.la);rt(t,"RID","rpc"),rt(t,"SID",e.J),rt(t,"CI",e.H?"0":"1"),rt(t,"AID",e.P),Zh(e,t),rt(t,"TYPE","xmlhttp"),e.i&&e.l&&JT(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Tg(co(t)),n.j=null,n.I=!0,fF(n,e)}ne.Sa=function(){this.m!=null&&(this.m=null,Sg(this),eI(this),xn(19))};function cm(e){e.m!=null&&(pe.clearTimeout(e.m),e.m=null)}function xF(e,t){var n=null;if(e.a==t){cm(e),tI(e),e.a=null;var r=2}else if(T1(e.b,t))n=t.s,bF(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=Li()-t.u;var i=e.u;r=_g(),rn(r,new iF(r)),kg(e)}else AF(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&A7(e,t)||r==2&&eI(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:ca(e,5);break;case 4:ca(e,10);break;case 3:ca(e,6);break;default:ca(e,2)}}}function PF(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function ca(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=pn(e.Ya,e);n||(n=new Oa("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||am(n,"https"),Tg(n)),b7(n.toString(),r)}else xn(2);e.v=0,e.f&&e.f.ra(t),OF(e),CF(e)}ne.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),xn(2)):(this.c.info("Failed to ping google.com"),xn(1))};function OF(e){e.v=0,e.I=-1,e.f&&((EF(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,PT(e.g),e.g.length=0),e.f.qa())}function DF(e,t,n){var r=l7(n);if(r.c!="")t&&um(r,t+"."+r.c),lm(r,r.h);else{var i=pe.location;r=c7(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&OT(e.V,function(s,a){rt(r,a,s)}),t=e.A,n=e.na,t&&n&&rt(r,t,n),rt(r,"VER",e.ha),Zh(e,r),r}function LF(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new Ft(e.Na),t.F=e.C,t}function MF(){}ne=MF.prototype;ne.ta=function(){};ne.sa=function(){};ne.ra=function(){};ne.qa=function(){};ne.Ja=function(){};function fm(){if(gs&&!(10<=Number(zM)))throw Error("Environmental error: no available transport.")}fm.prototype.a=function(e,t){return new yr(e,t)};function yr(e,t){gr.call(this),this.a=new kF(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!im(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!im(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new Zl(this)}Fn(yr,gr);yr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;xn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=DF(e,null,e.fa),kg(e)};yr.prototype.close=function(){ZT(this.a)};yr.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,w_(this.a,t)}else this.l?(t={},t.__data__=BT(e),w_(this.a,t)):w_(this.a,e)};yr.prototype.G=function(){this.a.f=null,delete this.f,ZT(this.a),delete this.a,yr.X.G.call(this)};function FF(e){HT.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}Fn(FF,HT);function UF(){KT.call(this),this.status=1}Fn(UF,KT);function Zl(e){this.a=e}Fn(Zl,MF);Zl.prototype.ta=function(){rn(this.a,"a")};Zl.prototype.sa=function(e){rn(this.a,new FF(e))};Zl.prototype.ra=function(e){rn(this.a,new UF)};Zl.prototype.qa=function(){rn(this.a,"b")};fm.prototype.createWebChannel=fm.prototype.a;yr.prototype.send=yr.prototype.h;yr.prototype.open=yr.prototype.g;yr.prototype.close=yr.prototype.close;bg.NO_ERROR=0;bg.TIMEOUT=8;bg.HTTP_ERROR=6;oF.COMPLETE="complete";aF.EventType=Yh;Yh.OPEN="a";Yh.CLOSE="b";Yh.ERROR="c";Yh.MESSAGE="d";gr.prototype.listen=gr.prototype.va;Ft.prototype.listenOnce=Ft.prototype.wa;Ft.prototype.getLastError=Ft.prototype.Qa;Ft.prototype.getLastErrorCode=Ft.prototype.ua;Ft.prototype.getStatus=Ft.prototype.W;Ft.prototype.getResponseJson=Ft.prototype.Pa;Ft.prototype.getResponseText=Ft.prototype.$;Ft.prototype.send=Ft.prototype.ba;var R7=function(){return new fm},x7=function(){return _g()},__=bg,P7=oF,O7=Wa,xx={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Up=aF,D7=Ft;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();fr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return Y(t,e),t}(Error),si=new Hl("@firebase/firestore");function I1(){return si.logLevel}function K(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(si.logLevel<=be.DEBUG){var r=t.map(nI);si.debug.apply(si,Ee(["Firestore (8.5.0): "+e],r))}}function St(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(si.logLevel<=be.ERROR){var r=t.map(nI);si.error.apply(si,Ee(["Firestore (8.5.0): "+e],r))}}function hm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(si.logLevel<=be.WARN){var r=t.map(nI);si.warn.apply(si,Ee(["Firestore (8.5.0): "+e],r))}}function nI(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw St(t),new Error(t)}function ce(e,t){e||re()}function G(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jF=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=L7(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Ce(e,t){return e<t?-1:e>t?1:0}function _l(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function VF(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ce(this.nanoseconds,t.nanoseconds):Ce(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),_e=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Jn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ed(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function BF(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $F=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&re(),r===void 0?r=t.length-n:r>t.length-n&&re(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Fe=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Y(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new q(O.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}($F),M7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Y(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return M7.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new q(O.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new q(O.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new q(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new q(O.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}($F),bl=function(){function e(t){this.fields=t,t.sort(jr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return _l(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),On=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ce(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();On.EMPTY_BYTE_STRING=new On("");var F7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(e){if(ce(!!e),typeof e=="string"){var t=0,n=F7.exec(e);if(ce(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Tt(e.seconds),nanos:Tt(e.nanos)}}function Tt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function El(e){return typeof e=="string"?On.fromBase64String(e):On.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qF(e){var t=e.mapValue.fields.__previous_value__;return rI(t)?qF(t):t}function mh(e){var t=ys(e.mapValue.fields.__local_write_time__.timestampValue);return new Jn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(e){return e==null}function dm(e){return e===0&&1/e==-1/0}function zF(e){return typeof e=="number"&&Number.isInteger(e)&&!dm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(Fe.fromString(t))},e.fromName=function(t){return new e(Fe.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Fe.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return Fe.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new Fe(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rI(e)?4:10:re()}function Oi(e,t){var n=ws(e);if(n!==ws(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mh(e).isEqual(mh(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=ys(r.timestampValue),a=ys(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return El(r.bytesValue).isEqual(El(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Tt(r.geoPointValue.latitude)===Tt(i.geoPointValue.latitude)&&Tt(r.geoPointValue.longitude)===Tt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Tt(r.integerValue)===Tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Tt(r.doubleValue),a=Tt(i.doubleValue);return s===a?dm(s)===dm(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return _l(e.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(Px(s)!==Px(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Oi(s[l],a[l])))return!1;return!0}(e,t);default:return re()}}function gh(e,t){return(e.values||[]).find(function(n){return Oi(n,t)})!==void 0}function Tl(e,t){var n=ws(e),r=ws(t);if(n!==r)return Ce(n,r);switch(n){case 0:return 0;case 1:return Ce(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=Tt(i.integerValue||i.doubleValue),l=Tt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Ox(e.timestampValue,t.timestampValue);case 4:return Ox(mh(e),mh(t));case 5:return Ce(e.stringValue,t.stringValue);case 6:return function(i,s){var a=El(i),l=El(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=Ce(a[c],l[c]);if(h!==0)return h}return Ce(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Ce(Tt(i.latitude),Tt(s.latitude));return a!==0?a:Ce(Tt(i.longitude),Tt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=Tl(a[c],l[c]);if(h)return h}return Ce(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var p=0;p<l.length&&p<h.length;++p){var v=Ce(l[p],h[p]);if(v!==0)return v;var g=Tl(a[l[p]],c[h[p]]);if(g!==0)return g}return Ce(l.length,h.length)}(e.mapValue,t.mapValue);default:throw re()}}function Ox(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ce(e,t);var n=ys(e),r=ys(t),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function iI(e){return S1(e)}function S1(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=ys(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?El(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,oe.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=S1(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+S1(r.fields[c])}return i+"}"}(e.mapValue):re();var t,n}function pm(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function k1(e){return!!e&&"integerValue"in e}function oI(e){return!!e&&"arrayValue"in e}function Dx(e){return!!e&&"nullValue"in e}function Lx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function C1(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=function(){function e(t){this.overlayMap=new Map,this.partialValue=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(jr.emptyPath())},e.prototype.set=function(t,n){this.setOverlay(t,n)},e.prototype.setAll=function(t){var n=this;t.forEach(function(r,i){r?n.set(i,r):n.delete(i)})},e.prototype.delete=function(t){this.setOverlay(t,null)},e.prototype.isEqual=function(t){return Oi(this.buildProto(),t.buildProto())},e.prototype.setOverlay=function(t,n){for(var r=this.overlayMap,i=0;i<t.length-1;++i){var s=t.get(i),a=r.get(s);a instanceof Map?r=a:a&&ws(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.lastSegment(),n)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,s=e.extractNestedValue(this.partialValue,t),a=C1(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var h=r.applyOverlay(t.child(c),l);h!=null&&(a[c]=h,i=!0)}else l!==null?(a[c]=l,i=!0):a.hasOwnProperty(c)&&(delete a[c],i=!0)}),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var t=this.applyOverlay(jr.emptyPath(),this.overlayMap);return t!=null&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(t,n){if(n.isEmpty())return t;for(var r=t,i=0;i<n.length-1;++i)if(!r.mapValue.fields||!C1(r=r.mapValue.fields[n.get(i)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function WF(e){var t=[];return ed(e.fields||{},function(n,r){var i=new jr([n]);if(C1(r)){var s=WF(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new bl(t)}var sn=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,_e.min(),lr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,lr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,lr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=lr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=lr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),U7=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new U7(e,t,n,r,i,s,a)}function td(e){var t=G(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+iI(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Ha(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=mm(t.startAt)),t.endAt&&(n+="|ub:",n+=mm(t.endAt)),t.h=n}return t.h}function Cg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!H7(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Oi(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ux(e.startAt,t.startAt)&&Ux(e.endAt,t.endAt)}function vm(e){return oe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var hr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return Y(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new j7(n,r,i):r==="array-contains"?new $7(n,i):r==="in"?new q7(n,i):r==="not-in"?new z7(n,i):r==="array-contains-any"?new W7(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new V7(n,i):new B7(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Tl(r,this.value)):r!==null&&ws(this.value)===ws(r)&&this.m(Tl(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return re()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),j7=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=oe.fromName(i.referenceValue),s}return Y(t,e),t.prototype.matches=function(n){var r=oe.comparator(n.key,this.key);return this.m(r)},t}(hr),V7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=HF("in",r),i}return Y(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(hr),B7=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=HF("not-in",r),i}return Y(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(hr);function HF(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return oe.fromName(r.referenceValue)})}var $7=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Y(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return oI(r)&&gh(r.arrayValue,this.value)},t}(hr),q7=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Y(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&gh(this.value.arrayValue,r)},t}(hr),z7=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Y(t,e),t.prototype.matches=function(n){if(gh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!gh(this.value.arrayValue,r)},t}(hr),W7=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Y(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!oI(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return gh(r.value.arrayValue,s)})},t}(hr),yh=function(e,t){this.position=e,this.before=t};function mm(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return iI(t)}).join(",")}var il=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function H7(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Fx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?oe.comparator(oe.fromName(a.referenceValue),n.key):Tl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function Ux(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Oi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function KF(e,t,n,r,i,s,a,l){return new vo(e,t,n,r,i,s,a,l)}function ec(e){return new vo(e)}function uv(e){return!Ha(e.limit)&&e.limitType==="F"}function gm(e){return!Ha(e.limit)&&e.limitType==="L"}function sI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function aI(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function uI(e){return e.collectionGroup!==null}function Il(e){var t=G(e);if(t.p===null){t.p=[];var n=aI(t),r=sI(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new il(n)),t.p.push(new il(jr.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new il(jr.keyField(),c))}}}return t.p}function Vr(e){var t=G(e);if(!t.T)if(t.limitType==="F")t.T=Mx(t.path,t.collectionGroup,Il(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Il(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new il(s.field,a))}var l=t.endAt?new yh(t.endAt.position,!t.endAt.before):null,c=t.startAt?new yh(t.startAt.position,!t.startAt.before):null;t.T=Mx(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function GF(e,t,n){return new vo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function nd(e,t){return Cg(Vr(e),Vr(t))&&e.limitType===t.limitType}function QF(e){return td(Vr(e))+"|lt:"+e.limitType}function N1(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+iI(i.value);var i}).join(", ")+"]"),Ha(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+mm(t.startAt)),t.endAt&&(n+=", endAt: "+mm(t.endAt)),"Target("+n+")"}(Vr(e))+"; limitType="+e.limitType+")"}function rd(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):oe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!Fx(n.startAt,Il(n),r))&&(!n.endAt||!Fx(n.endAt,Il(n),r))}(e,t)}function YF(e){return function(t,n){for(var r=!1,i=0,s=Il(e);i<s.length;i++){var a=s[i],l=K7(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function K7(e,t,n){var r=e.field.isKeyField()?oe.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Tl(l,c):re()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dm(t)?"-0":t}}function JF(e){return{integerValue:""+e}}function ZF(e,t){return zF(t)?JF(t):XF(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ng=function(){this._=void 0};function G7(e,t,n){return e instanceof Sl?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Da?t4(e,t):e instanceof La?n4(e,t):function(r,i){var s=e4(r,i),a=jx(s)+jx(r.A);return k1(s)&&k1(r.A)?JF(a):XF(r.R,a)}(e,t)}function Q7(e,t,n){return e instanceof Da?t4(e,t):e instanceof La?n4(e,t):n}function e4(e,t){return e instanceof kl?k1(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Sl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Y(t,e),t}(Ng),Da=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Y(t,e),t}(Ng);function t4(e,t){for(var n=r4(t),r=function(a){n.some(function(l){return Oi(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var La=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Y(t,e),t}(Ng);function n4(e,t){for(var n=r4(t),r=function(a){n=n.filter(function(l){return!Oi(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var kl=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return Y(t,e),t}(Ng);function jx(e){return Tt(e.integerValue||e.doubleValue)}function r4(e){return oI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var id=function(e,t){this.field=e,this.transform=t},Y7=function(e,t){this.version=e,this.transformResults=t},dn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function lv(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Ag=function(){};function X7(e,t,n){e instanceof od?function(r,i,s){var a=r.value.clone(),l=$x(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ns?function(r,i,s){if(lv(r.precondition,i)){var a=$x(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(i4(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function A1(e,t,n){e instanceof od?function(r,i,s){if(lv(r.precondition,i)){var a=r.value.clone(),l=qx(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(Bx(i),a).setHasLocalMutations()}}(e,t,n):e instanceof Ns?function(r,i,s){if(lv(r.precondition,i)){var a=qx(r.fieldTransforms,s,i),l=i.data;l.setAll(i4(r)),l.setAll(a),i.convertToFoundDocument(Bx(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){lv(r.precondition,i)&&i.convertToNoDocument(_e.min())}(e,t)}function J7(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=e4(s.transform,a||null);l!=null&&(n==null&&(n=lr.empty()),n.set(s.field,l))}return n||null}function Vx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&_l(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof Da&&h instanceof Da||c instanceof La&&h instanceof La?_l(c.elements,h.elements,Oi):c instanceof kl&&h instanceof kl?Oi(c.A,h.A):c instanceof Sl&&h instanceof Sl}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Bx(e){return e.isFoundDocument()?e.version:_e.min()}var od=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return Y(t,e),t}(Ag),Ns=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return Y(t,e),t}(Ag);function i4(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function $x(e,t,n){var r=new Map;ce(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,Q7(a,l,n[i]))}return r}function qx(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,G7(l,c,t))}return r}var Et,xe,sd=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Y(t,e),t}(Ag),lI=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Y(t,e),t}(Ag),Z7=function(e){this.count=e};function o4(e){switch(e){case O.OK:return re();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return re()}}function s4(e){if(e===void 0)return St("GRPC error has no .code"),O.UNKNOWN;switch(e){case Et.OK:return O.OK;case Et.CANCELLED:return O.CANCELLED;case Et.UNKNOWN:return O.UNKNOWN;case Et.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Et.INTERNAL:return O.INTERNAL;case Et.UNAVAILABLE:return O.UNAVAILABLE;case Et.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Et.NOT_FOUND:return O.NOT_FOUND;case Et.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Et.ABORTED:return O.ABORTED;case Et.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Et.DATA_LOSS:return O.DATA_LOSS;default:return re()}}(xe=Et||(Et={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn=function(){function e(t,n){this.comparator=t,this.root=n||jo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jo.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new jp(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new jp(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new jp(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new jp(this.root,t,this.comparator,!0)},e}(),jp=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),jo=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();var t=this.left.check();if(t!==this.right.check())throw re();return t+(this.isRed()?0:1)},e}();jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1,jo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw re()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw re()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new jo(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt=function(){function e(t){this.comparator=t,this.data=new wn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new zx(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new zx(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),zx=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),eQ=new wn(oe.comparator);function Dr(){return eQ}var tQ=new wn(oe.comparator);function R1(){return tQ}var nQ=new wn(oe.comparator);function a4(){return nQ}var rQ=new Lt(oe.comparator);function Be(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=rQ,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var iQ=new Lt(Ce);function Rg(){return iQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cI=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,fI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_e.min(),r,Rg(),Dr(),Be())},e}(),fI=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(On.EMPTY_BYTE_STRING,n,Be(),Be(),Be())},e}(),cv=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},u4=function(e,t){this.targetId=e,this.V=t},l4=function(e,t,n,r){n===void 0&&(n=On.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Wx=function(){function e(){this.S=0,this.D=Kx(),this.C=On.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Be(),n=Be(),r=Be();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re()}}),new fI(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=Kx()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),oQ=function(){function e(t){this.W=t,this.G=new Map,this.H=Dr(),this.J=Hx(),this.Y=new Lt(Ce)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.$(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(t.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.$(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.$(t.resumeToken));break;default:re()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(vm(s))if(r===0){var a=new oe(s.path);this.tt(n,a,sn.newNoDocument(a,_e.min()))}else ce(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&vm(c.target)){var h=new oe(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,sn.newNoDocument(h,t))}a.O&&(r.set(l,a.M()),a.L())}});var i=Be();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var p=n.ot(h);return!p||p.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new cI(t,r,this.Y,this.H,i);return this.H=Dr(),this.J=Hx(),this.Y=new Lt(Ce),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new Wx,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Lt(Ce),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||K("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new Wx),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function Hx(){return new wn(oe.comparator)}function Kx(){return new wn(oe.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sQ={asc:"ASCENDING",desc:"DESCENDING"},aQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uQ=function(e,t){this.databaseId=e,this.I=t};function wh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function c4(e,t){return e.I?t.toBase64():t.toUint8Array()}function lQ(e,t){return wh(e,t.toTimestamp())}function zt(e){return ce(!!e),_e.fromTimestamp(function(t){var n=ys(t);return new Jn(n.seconds,n.nanos)}(e))}function hI(e,t){return function(n){return new Fe(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function f4(e){var t=Fe.fromString(e);return ce(w4(t)),t}function _h(e,t){return hI(e.databaseId,t.path)}function Ci(e,t){var n=f4(t);if(n.get(1)!==e.databaseId.projectId)throw new q(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new oe(d4(n))}function x1(e,t){return hI(e.databaseId,t)}function h4(e){var t=f4(e);return t.length===4?Fe.emptyPath():d4(t)}function bh(e){return new Fe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function d4(e){return ce(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Gx(e,t,n){return{name:_h(e,t),fields:n.toProto().mapValue.fields}}function p4(e,t,n){var r=Ci(e,t.name),i=zt(t.updateTime),s=new lr({mapValue:{fields:t.fields}}),a=sn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ym(e,t){var n;if(t instanceof od)n={update:Gx(e,t.key,t.value)};else if(t instanceof sd)n={delete:_h(e,t.key)};else if(t instanceof Ns)n={update:Gx(e,t.key,t.data),updateMask:pQ(t.fieldMask)};else{if(!(t instanceof lI))return re();n={verify:_h(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof Sl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Da)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof La)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kl)return{fieldPath:s.field.canonicalString(),increment:a.A};throw re()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:lQ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:re()}(e,t.precondition)),n}function Qx(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?dn.updateTime(zt(h.updateTime)):h.exists!==void 0?dn.exists(h.exists):dn.none()}(t.currentDocument):dn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(p,v){var g=null;if("setToServerValue"in v)ce(v.setToServerValue==="REQUEST_TIME"),g=new Sl;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];g=new Da(y)}else if("removeAllFromArray"in v){var _=v.removeAllFromArray.values||[];g=new La(_)}else"increment"in v?g=new kl(p,v.increment):re();var T=jr.fromServerFormat(v.fieldPath);return new id(T,g)}(e,h)}):[];if(t.update){t.update.name;var i=Ci(e,t.update.name),s=new lr({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var p=h.fieldPaths||[];return new bl(p.map(function(v){return jr.fromServerFormat(v)}))}(t.updateMask);return new Ns(i,s,a,n,r)}return new od(i,s,n,r)}if(t.delete){var l=Ci(e,t.delete);return new sd(l,n)}if(t.verify){var c=Ci(e,t.verify);return new lI(c,n)}return re()}function v4(e,t){return{documents:[x1(e,t.path)]}}function m4(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=x1(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=x1(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(p){if(p.op==="=="){if(Lx(p.value))return{unaryFilter:{field:Au(p.field),op:"IS_NAN"}};if(Dx(p.value))return{unaryFilter:{field:Au(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(Lx(p.value))return{unaryFilter:{field:Au(p.field),op:"IS_NOT_NAN"}};if(Dx(p.value))return{unaryFilter:{field:Au(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(p.field),op:fQ(p.op),value:p.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:Au(h.field),direction:cQ(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Ha(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Yx(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Yx(t.endAt)),n}function g4(e){var t=h4(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ce(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=y4(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(g){return new il(Qu(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var c=null;n.limit&&(c=function(v){var g;return Ha(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=Xx(n.startAt));var p=null;return n.endAt&&(p=Xx(n.endAt)),KF(t,i,l,a,c,"F",h,p)}function y4(e){return e?e.unaryFilter!==void 0?[dQ(e)]:e.fieldFilter!==void 0?[hQ(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return y4(t)}).reduce(function(t,n){return t.concat(n)}):re():[]}function Yx(e){return{before:e.before,values:e.position}}function Xx(e){var t=!!e.before,n=e.values||[];return new yh(n,t)}function cQ(e){return sQ[e]}function fQ(e){return aQ[e]}function Au(e){return{fieldPath:e.canonicalString()}}function Qu(e){return jr.fromServerFormat(e.fieldPath)}function hQ(e){return hr.create(Qu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return re()}}(e.fieldFilter.op),e.fieldFilter.value)}function dQ(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Qu(e.unaryFilter.field);return hr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Qu(e.unaryFilter.field);return hr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qu(e.unaryFilter.field);return hr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qu(e.unaryFilter.field);return hr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return re()}}function pQ(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function w4(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Jx(t)),t=vQ(e.get(n),t);return Jx(t)}function vQ(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Jx(e){return e+""}function Zi(e){var t=e.length;if(ce(t>=2),t===2)return ce(e.charAt(0)===""&&e.charAt(1)===""),Fe.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&re(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:re()}s=a+2}return new Fe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mQ=function(e,t){this.seconds=e,this.nanoseconds=t},ar=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ar.store="owner",ar.key="owner";var us=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};us.store="mutationQueues",us.keyPath="userId";var Xe=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Xe.store="mutations",Xe.keyPath="batchId",Xe.userMutationsIndex="userMutationsIndex",Xe.userMutationsKeyPath=["userId","batchId"];var hn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,ai(n)]},e.key=function(t,n,r){return[t,ai(n),r]},e}();hn.store="documentMutations",hn.PLACEHOLDER=new hn;var gQ=function(e,t){this.path=e,this.readTime=t},yQ=function(e,t){this.path=e,this.version=t},pt=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};pt.store="remoteDocuments",pt.readTimeIndex="readTimeIndex",pt.readTimeIndexPath="readTime",pt.collectionReadTimeIndex="collectionReadTimeIndex",pt.collectionReadTimeIndexPath=["parentPath","readTime"];var Ti=function(e){this.byteSize=e};Ti.store="remoteDocumentGlobal",Ti.key="remoteDocumentGlobalKey";var Kn=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};Kn.store="targets",Kn.keyPath="targetId",Kn.queryTargetsIndexName="queryTargetsIndex",Kn.queryTargetsKeyPath=["canonicalId","targetId"];var en=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};en.store="targetDocuments",en.keyPath=["targetId","path"],en.documentTargetsIndex="documentTargetsIndex",en.documentTargetsKeyPath=["path","targetId"];var ur=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ur.key="targetGlobalKey",ur.store="targetGlobal";var ya=function(e,t){this.collectionId=e,this.parent=t};ya.store="collectionParents",ya.keyPath=["collectionId","parent"];var ro=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ro.store="clientMetadata",ro.keyPath="clientId";var Cl=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Cl.store="bundles",Cl.keyPath="bundleId";var Nl=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Nl.store="namedQueries",Nl.keyPath="name";var wQ=Ee(Ee([],Ee(Ee([],Ee(Ee([],Ee(Ee([],[us.store,Xe.store,hn.store,pt.store,Kn.store,ar.store,ur.store,en.store]),[ro.store])),[Ti.store])),[ya.store])),[Cl.store,Nl.store]),_4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",b4=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Dn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},z=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),E4=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Dn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Of(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=dI(i.target.error);r.ft.reject(new Of(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Of(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(K("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new bQ(n)},e}(),Al=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Na())===12.2&&St("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return K("SimpleDb","Removing database:",t),ia(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Na(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(K("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new Of(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new q(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Of(t,h))},l.onupgradeneeded=function(c){K("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){K("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:s=n==="readonly",a=0,l=function(){var v,g,y,_,T;return A(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=S.sent(),v=E4.open(c.db,t,s?"readonly":"readwrite",r),g=i(v).catch(function(E){return v.abort(E),z.reject(E)}).toPromise(),y={},g.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(S.sent(),g),y)];case 4:return _=S.sent(),T=_.name!=="FirebaseError"&&a<3,K("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),c.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},c=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(h=p.sent())=="object")return[2,h.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),_Q=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ia(this.Pt.delete())},e}(),Of=function(e){function t(n,r){var i=this;return(i=e.call(this,O.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return Y(t,e),t}(q);function Ka(e){return e.name==="IndexedDbTransactionError"}var bQ=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ia(r)},e.prototype.add=function(t){return K("SimpleDb","ADD",this.store.name,t,t),ia(this.store.add(t))},e.prototype.get=function(t){var n=this;return ia(this.store.get(t)).next(function(r){return r===void 0&&(r=null),K("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return K("SimpleDb","DELETE",this.store.name,t),ia(this.store.delete(t))},e.prototype.count=function(){return K("SimpleDb","COUNT",this.store.name),ia(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.Ft=function(t,n){K("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.Ot=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.$t=function(t){var n=this.cursor({});return new z(function(r,i){n.onerror=function(s){var a=dI(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new z(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new _Q(l),h=n(l.primaryKey,l.value,c);if(h instanceof z){var p=h.catch(function(v){return c.done(),z.reject(v)});r.push(p)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return z.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ia(e){return new z(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=dI(r.target.error);n(i)}})}var Zx=!1;function dI(e){var t=Al._t(Na());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new q("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zx||(Zx=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eP=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return Y(t,e),t}(b4);function tr(e,t){var n=G(e);return Al.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pI=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&X7(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&A1(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&A1(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(_e.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Be())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&_l(this.mutations,t.mutations,function(n,r){return Vx(n,r)})&&_l(this.baseMutations,t.baseMutations,function(n,r){return Vx(n,r)})},e}(),EQ=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ce(t.mutations.length===r.length);for(var i=a4(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),xg=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=_e.min()),a===void 0&&(a=_e.min()),l===void 0&&(l=On.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),T4=function(e){this.Lt=e};function P1(e,t){if(t.document)return p4(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=oe.fromSegments(t.noDocument.path),r=xl(t.noDocument.readTime),i=sn.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=oe.fromSegments(t.unknownDocument.path);return r=xl(t.unknownDocument.version),sn.newUnknownDocument(s,r)}return re()}function tP(e,t,n){var r=vI(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,g){return{name:_h(v,g.key),fields:g.data.toProto().mapValue.fields,updateTime:wh(v,g.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new pt(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=Rl(t.version);return a=t.hasCommittedMutations,new pt(null,new gQ(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),p=Rl(t.version);return new pt(new yQ(h,p),null,null,!0,r,i)}return re()}function vI(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function I4(e){var t=new Jn(e[0],e[1]);return _e.fromTimestamp(t)}function Rl(e){var t=e.toTimestamp();return new mQ(t.seconds,t.nanoseconds)}function xl(e){var t=new Jn(e.seconds,e.nanoseconds);return _e.fromTimestamp(t)}function Du(e,t){for(var n=(t.baseMutations||[]).map(function(c){return Qx(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return Qx(e.Lt,c)}),l=Jn.fromMillis(t.localWriteTimeMs);return new pI(t.batchId,l,n,a)}function mf(e){var t,n,r=xl(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?xl(e.lastLimboFreeSnapshotVersion):_e.min();return e.query.documents!==void 0?(ce((n=e.query).documents.length===1),t=Vr(ec(h4(n.documents[0])))):t=function(s){return Vr(g4(s))}(e.query),new xg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,On.fromBase64String(e.resumeToken))}function S4(e,t){var n,r=Rl(t.snapshotVersion),i=Rl(t.lastLimboFreeSnapshotVersion);n=vm(t.target)?v4(e.Lt,t.target):m4(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Kn(t.targetId,td(t.target),r,s,t.sequenceNumber,i,n)}function mI(e){var t=g4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?GF(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TQ=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return nP(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:xl(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return nP(t).put({bundleId:(r=n).id,createTime:Rl(zt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return rP(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:mI(i.bundledQuery),readTime:xl(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return rP(t).put(function(r){return{name:r.name,readTime:Rl(zt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function nP(e){return tr(e,Cl.store)}function rP(e){return tr(e,Nl.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IQ=function(){function e(){this.Bt=new gI}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),z.resolve()},e.prototype.getCollectionParents=function(t,n){return z.resolve(this.Bt.getEntries(n))},e}(),gI=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Lt(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Lt(Fe.comparator)).toArray()},e}(),SQ=function(){function e(){this.qt=new gI}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:ai(s)};return iP(t).put(a)}return z.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[VF(n),""],!1,!0);return iP(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(Zi(c.parent))}return r})},e}();function iP(e){return tr(e,ya.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(e,t,n){var r=e.store(Xe.store),i=e.store(hn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.Ot({range:a},function(_,T,S){return l++,S.delete()});s.push(c.next(function(){ce(l===1)}));for(var h=[],p=0,v=n.mutations;p<v.length;p++){var g=v[p],y=hn.key(t,g.key.path,n.batchId);s.push(i.delete(y)),h.push(g.key)}return z.waitFor(s).next(function(){return h})}function wm(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw re();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi.DEFAULT_COLLECTION_PERCENTILE=10,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bi.DEFAULT=new bi(41943040,bi.DEFAULT_COLLECTION_PERCENTILE,bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bi.DISABLED=new bi(-1,0,0);var kQ=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Qt={}}return e.Kt=function(t,n,r,i){return ce(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ro(t).Ot({index:Xe.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=Lu(t),l=Ro(t);return l.add({}).next(function(c){ce(typeof c=="number");for(var h=new pI(c,n,r,i),p=function(E,I,k){var P=k.baseMutations.map(function(x){return ym(E.Lt,x)}),D=k.mutations.map(function(x){return ym(E.Lt,x)});return new Xe(I,k.batchId,k.localWriteTime.toMillis(),P,D)}(s.R,s.userId,h),v=[],g=new Lt(function(E,I){return Ce(E.canonicalString(),I.canonicalString())}),y=0,_=i;y<_.length;y++){var T=_[y],S=hn.key(s.userId,T.key.path,c);g=g.add(T.key.path.popLast()),v.push(l.put(p)),v.push(a.put(S,hn.PLACEHOLDER))}return g.forEach(function(E){v.push(s.Ut.addToCollectionParentIndex(t,E))}),t.addOnCommittedListener(function(){s.Qt[c]=h.keys()}),z.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Ro(t).get(n).next(function(i){return i?(ce(i.userId===r.userId),Du(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Qt[n]?z.resolve(this.Qt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Qt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Ro(t).Ot({index:Xe.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ce(c.batchId>=i),a=Du(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ro(t).Ot({index:Xe.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ro(t).Nt(Xe.userMutationsIndex,r).next(function(i){return i.map(function(s){return Du(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=hn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Lu(t).Ot({range:s},function(l,c,h){var p=l[0],v=l[1],g=l[2],y=Zi(v);if(p===r.userId&&n.path.isEqual(y))return Ro(t).get(g).next(function(_){if(!_)throw re();ce(_.userId===r.userId),a.push(Du(r.R,_))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Lt(Ce),s=[];return n.forEach(function(a){var l=hn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=Lu(t).Ot({range:c},function(p,v,g){var y=p[0],_=p[1],T=p[2],S=Zi(_);y===r.userId&&a.path.isEqual(S)?i=i.add(T):g.done()});s.push(h)}),z.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=hn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new Lt(Ce);return Lu(t).Ot({range:l},function(h,p,v){var g=h[0],y=h[1],_=h[2],T=Zi(y);g===r.userId&&i.isPrefixOf(T)?T.length===s&&(c=c.add(_)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Ro(t).get(a).next(function(l){if(l===null)throw re();ce(l.userId===r.userId),i.push(Du(r.R,l))}))}),z.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return k4(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),z.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Qt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return z.resolve();var i=IDBKeyRange.lowerBound(hn.prefixForUser(n.userId)),s=[];return Lu(t).Ot({range:i},function(a,l,c){if(a[0]===n.userId){var h=Zi(a[1]);s.push(h)}else c.done()}).next(function(){ce(s.length===0)})})},e.prototype.containsKey=function(t,n){return C4(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return N4(t).get(this.userId).next(function(r){return r||new us(n.userId,-1,"")})},e}();function C4(e,t,n){var r=hn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Lu(e).Ot({range:s,kt:!0},function(l,c,h){var p=l[0],v=l[1];l[2],p===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function Ro(e){return tr(e,Xe.store)}function Lu(e){return tr(e,hn.store)}function N4(e){return tr(e,us.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _m=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),CQ=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new _m(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return _e.fromTimestamp(new Jn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ru(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ce(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return Ru(t).Ot(function(l,c){var h=mf(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return z.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Ru(t).Ot(function(r,i){var s=mf(i);n(s)})},e.prototype.Xt=function(t){return sP(t).get(ur.key).next(function(n){return ce(n!==null),n})},e.prototype.Zt=function(t,n){return sP(t).put(ur.key,n)},e.prototype.te=function(t,n){return Ru(t).put(S4(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=td(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Ru(t).Ot({range:i,index:Kn.queryTargetsIndexName},function(a,l,c){var h=mf(l);Cg(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=Vo(t);return n.forEach(function(l){var c=ai(l.path);s.push(a.put(new en(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),z.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=Vo(t);return z.forEach(n,function(a){var l=ai(a.path);return z.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Vo(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Vo(t),s=Be();return i.Ot({range:r,kt:!0},function(a,l,c){var h=Zi(a[1]),p=new oe(h);s=s.add(p)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=ai(n.path),i=IDBKeyRange.bound([r],[VF(r)],!1,!0),s=0;return Vo(t).Ot({index:en.documentTargetsIndex,kt:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Ru(t).get(n).next(function(r){return r?mf(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(e){return tr(e,Kn.store)}function sP(e){return tr(e,ur.store)}function Vo(e){return tr(e,en.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(e){return R(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==O.FAILED_PRECONDITION||e.message!==_4)throw e;return K("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Ce(n,i);return a===0?Ce(r,s):a}var NQ=function(){function e(t){this.ne=t,this.buffer=new Lt(aP),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();aP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),AQ=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;K("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Ka(i=s.sent())?(K("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ga(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),RQ=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return z.resolve(fr.o);var i=new NQ(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(oP)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),oP):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,p=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>p.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+g),i=p.params.maximumSequenceNumbersToCollect):i=g,a=Date.now(),p.nthSequenceNumber(t,i)}).next(function(g){return r=g,l=Date.now(),p.removeTargets(t,r,n)}).next(function(g){return s=g,c=Date.now(),p.removeOrphanedDocuments(t,r)}).next(function(g){return h=Date.now(),I1()<=be.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+g+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})})},e}(),xQ=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new RQ(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Vp(t,r)},e.prototype.removeReference=function(t,n,r){return Vp(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Vp(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return N4(r).$t(function(a){return C4(r,a,i).next(function(l){return l&&(s=!0),z.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(p){if(!p)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),Vo(t).delete([0,ai(l.path)])})});s.push(h)}}).next(function(){return z.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Vp(t,n)},e.prototype.we=function(t,n){var r,i=Vo(t),s=fr.o;return i.Ot({index:en.documentTargetsIndex},function(a,l){var c=a[0],h=(a[1],l.path),p=l.sequenceNumber;c===0?(s!==fr.o&&n(new oe(Zi(r)),s),s=p,r=h):s=fr.o}).next(function(){s!==fr.o&&n(new oe(Zi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Vp(e,t){return Vo(e).put(function(n,r){return new en(0,ai(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tc=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){ed(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return BF(this.inner)},e}(),A4=function(){function e(){this.changes=new tc(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:_e.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:sn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?z.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),PQ=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Mo(t).put(Bp(n),r)},e.prototype.removeEntry=function(t,n){var r=Mo(t),i=Bp(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return Mo(t).get(Bp(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return Mo(t).get(Bp(n)).next(function(i){return{document:r.ye(n,i),size:wm(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Dr();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Dr(),s=new wn(oe.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,wm(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return z.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return Mo(t).Ot({range:i},function(l,c,h){for(var p=oe.fromSegments(l);a&&oe.comparator(a,p)<0;)r(a,null),a=s.getNext();a&&a.isEqual(p)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=Dr(),a=n.path.length+1,l={};if(r.isEqual(_e.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),p=vI(r);l.range=IDBKeyRange.lowerBound([h,p],!0),l.index=pt.collectionReadTimeIndex}return Mo(t).Ot(l,function(v,g,y){if(v.length===a){var _=P1(i.R,g);n.path.isPrefixOf(_.key.path)?rd(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new OQ(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return uP(t).get(Ti.key).next(function(n){return ce(!!n),n})},e.prototype.me=function(t,n){return uP(t).put(Ti.key,n)},e.prototype.ye=function(t,n){if(n){var r=P1(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(_e.min()))return r}return sn.newInvalidDocument(t)},e}(),OQ=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new tc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return Y(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new Lt(function(l,c){return Ce(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var p=tP(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=wm(p);s+=v-h,i.push(r.Ie.addEntry(n,l,p))}else if(s-=h,r.trackRemovals){var g=tP(r.Ie.R,sn.newNoDocument(l,_e.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,g))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),z.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(A4);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(e){return tr(e,Ti.store)}function Mo(e){return tr(e,pt.store)}function Bp(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DQ=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ce(r<i&&r>=0&&i<=11);var a=new E4("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(ar.store)}(t),function(c){c.createObjectStore(us.store,{keyPath:us.keyPath}),c.createObjectStore(Xe.store,{keyPath:Xe.keyPath,autoIncrement:!0}).createIndex(Xe.userMutationsIndex,Xe.userMutationsKeyPath,{unique:!0}),c.createObjectStore(hn.store)}(t),lP(t),function(c){c.createObjectStore(pt.store)}(t));var l=z.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(en.store),c.deleteObjectStore(Kn.store),c.deleteObjectStore(ur.store)}(t),lP(t)),l=l.next(function(){return function(c){var h=c.store(ur.store),p=new ur(0,0,_e.min().toTimestamp(),0);return h.put(ur.key,p)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(Xe.store).Nt().next(function(p){c.deleteObjectStore(Xe.store),c.createObjectStore(Xe.store,{keyPath:Xe.keyPath,autoIncrement:!0}).createIndex(Xe.userMutationsIndex,Xe.userMutationsKeyPath,{unique:!0});var v=h.store(Xe.store),g=p.map(function(y){return v.put(y)});return z.waitFor(g)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(ro.store,{keyPath:ro.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(Ti.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(pt.store);h.createIndex(pt.readTimeIndex,pt.readTimeIndexPath,{unique:!1}),h.createIndex(pt.collectionReadTimeIndex,pt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(Cl.store,{keyPath:Cl.keyPath})})(t),function(c){c.createObjectStore(Nl.store,{keyPath:Nl.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(pt.store).Ot(function(r,i){n+=wm(i)}).next(function(){var r=new Ti(n);return t.store(Ti.store).put(Ti.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(us.store),i=t.store(Xe.store);return r.Nt().next(function(s){return z.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(Xe.userMutationsIndex,l).next(function(c){return z.forEach(c,function(h){ce(h.userId===a.userId);var p=Du(n.R,h);return k4(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(en.store),r=t.store(pt.store);return t.store(ur.store).get(ur.key).next(function(i){var s=[];return r.Ot(function(a,l){var c=new Fe(a),h=function(p){return[0,ai(p)]}(c);s.push(n.get(h).next(function(p){return p?z.resolve():function(v){return n.put(new en(0,ai(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return z.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(ya.store,{keyPath:ya.keyPath});var r=n.store(ya.store),i=new gI,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:ai(c)})}};return n.store(pt.store).Ot({kt:!0},function(a,l){var c=new Fe(a);return s(c.popLast())}).next(function(){return n.store(hn.store).Ot({kt:!0},function(a,l){a[0];var c=a[1],h=(a[2],Zi(c));return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Kn.store);return r.Ot(function(i,s){var a=mf(s),l=S4(n.R,a);return r.put(l)})},e}();function lP(e){e.createObjectStore(en.store,{keyPath:en.keyPath}).createIndex(en.documentTargetsIndex,en.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Kn.store,{keyPath:Kn.keyPath}).createIndex(Kn.queryTargetsIndexName,Kn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ur.store)}var b_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LQ=function(){function e(t,n,r,i,s,a,l,c,h,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new q(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xQ(this,i),this.Le=n+"main",this.R=new T4(c),this.Be=new Al(this.Le,11,new DQ(this.R)),this.qe=new CQ(this.referenceDelegate,this.R),this.Ut=new SQ,this.Ue=function(v,g){return new PQ(v,g)}(this.R,this.Ut),this.Qe=new TQ,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,p===!1&&St("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new q(O.FAILED_PRECONDITION,b_);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new fr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return R(n,void 0,void 0,function(){return A(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return R(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return R(n,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return $p(n).put(new ro(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Ka(n))return K("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return K("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return lf(t).get(ar.key).next(function(r){return z.resolve(n.tn(r))})},e.prototype.en=function(t){return $p(t).delete(this.clientId)},e.prototype.nn=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=tr(l,ro.store);return c.Nt().next(function(h){var p=s.rn(h,18e5),v=h.filter(function(g){return p.indexOf(g)===-1});return z.forEach(v,function(g){return c.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Ke)for(n=0,r=t;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?z.resolve(!0):lf(t).get(ar.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new q(O.FAILED_PRECONDITION,b_);return!1}}return!(!n.networkEnabled||!n.inForeground)||$p(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&K("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return R(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ar.store,ro.store],function(r){var i=new eP(r,fr.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return $p(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return kQ.Kt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;K("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,wQ,function(l){return s=new eP(l,i.Ne?i.Ne.next():fr.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw St("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new q(O.FAILED_PRECONDITION,_4);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return lf(t).get(ar.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new q(O.FAILED_PRECONDITION,b_)})},e.prototype.Ze=function(t){var n=new ar(this.clientId,this.allowTabSynchronization,Date.now());return lf(t).put(ar.key,n)},e.yt=function(){return Al.yt()},e.prototype.Xe=function(t){var n=this,r=lf(t);return r.get(ar.key).next(function(i){return n.tn(i)?(K("IndexedDbPersistence","Releasing primary lease."),r.delete(ar.key)):z.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(St("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return K("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return St("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){St("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function lf(e){return tr(e,ar.store)}function $p(e){return tr(e,ro.store)}function yI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var MQ=function(e,t){this.progress=e,this.wn=t},R4=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):uI(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new oe(n)).next(function(r){var i=R1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=R1();return this.Ut.getCollectionParents(t,s).next(function(l){return z.forEach(l,function(c){var h=function(p,v){return new vo(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(p){p.forEach(function(v,g){a=a.insert(v,g)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,p=s;h<p.length;h++)for(var v=p[h],g=0,y=v.mutations;g<y.length;g++){var _=y[g],T=_.key,S=i.get(T);S==null&&(S=sn.newInvalidDocument(T),i=i.insert(T,S)),A1(_,S,v.localWriteTime),S.isFoundDocument()||(i=i.remove(T))}})}).next(function(){return i.forEach(function(l,c){rd(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Be(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof Ns&&r.get(h.key)===null&&(i=i.add(h.key))}var p=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(g,y){y.isFoundDocument()&&(p=p.insert(g,y))}),p})},e}(),FQ=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Be(),i=Be(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),x4=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(_e.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(uv(n)||gm(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(I1()<=be.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),N1(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new Lt(YF(t));return n.forEach(function(i,s){rd(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return I1()<=be.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",N1(n)),this.Sn.getDocumentsMatchingQuery(t,n,_e.min())},e}(),UQ=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.Fn=new wn(Ce),this.kn=new tc(function(s){return td(s)},Cg),this.On=_e.min(),this._n=t.getMutationQueue(r),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new R4(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(e,t,n,r){return new UQ(e,t,n,r)}function O4(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=G(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new R4(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var p=[],v=[],g=Be(),y=0,_=c;y<_.length;y++){var T=_[y];p.push(T.batchId);for(var S=0,E=T.mutations;S<E.length;S++){var I=E[S];g=g.add(I.key)}}for(var k=0,P=h;k<P.length;k++){var D=P[k];v.push(D.batchId);for(var x=0,V=D.mutations;x<V.length;x++){var F=V[x];g=g.add(F.key)}}return i.pn(l,g).next(function(ue){return{Ln:ue,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function jQ(e,t){var n=G(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.$n.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var p=c.batch,v=p.keys(),g=z.resolve();return v.forEach(function(y){g=g.next(function(){return h.getEntry(l,y)}).next(function(_){var T=c.docVersions.get(y);ce(T!==null),_.version.compareTo(T)<0&&(p.applyToRemoteDocument(_,c),_.isValidDocument()&&h.addEntry(_,c.commitVersion))})}),g.next(function(){return a._n.removeMutationBatch(l,p)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function D4(e){var t=G(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function VQ(e,t){var n=G(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];t.targetChanges.forEach(function(p,v){var g=i.get(v);if(g){l.push(n.qe.removeMatchingKeys(s,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,p.addedDocuments,v)}));var y=p.resumeToken;if(y.approximateByteSize()>0){var _=g.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,_),function(T,S,E){return ce(S.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,_,p)&&l.push(n.qe.updateTargetData(s,_))}}});var c=Dr();if(t.documentUpdates.forEach(function(p,v){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(L4(s,a,t.documentUpdates,r,void 0).next(function(p){c=p})),!r.isEqual(_e.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(p){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return z.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.Fn=i,s})}function L4(e,t,n,r,i){var s=Be();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=Dr();return n.forEach(function(c,h){var p=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(_e.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):K("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),l})}function BQ(e,t){var n=G(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function Pl(e,t){var n=G(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,z.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new xg(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function Ol(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=G(e),i=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Ka(a=l.sent()))throw a;return K("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function bm(e,t,n){var r=G(e),i=_e.min(),s=Be();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var p=G(l),v=p.kn.get(h);return v!==void 0?z.resolve(p.Fn.get(v)):p.qe.getTargetData(c,h)}(r,a,Vr(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:_e.min(),n?s:Be())}).next(function(l){return{documents:l,Bn:s}})})}function M4(e,t){var n=G(e),r=G(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function F4(e){var t=G(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=G(r),l=Dr(),c=vI(s),h=Mo(i),p=IDBKeyRange.lowerBound(c,!0);return h.Ot({index:pt.readTimeIndex,range:p},function(v,g){var y=P1(a.R,g);l=l.insert(y.key,y),c=g.readTime}).next(function(){return{wn:l,readTime:I4(c)}})}(t.$n,n,t.On)}).then(function(n){var r=n.wn,i=n.readTime;return t.On=i,r})}function $Q(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=G(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=Mo(i),a=_e.min();return s.Ot({index:pt.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=I4(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.On=r})]})})}function qQ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,g,y;return A(this,function(_){switch(_.label){case 0:for(i=G(e),s=Be(),a=Dr(),l=a4(),c=0,h=n;c<h.length;c++)p=h[c],v=t.qn(p.metadata.name),p.document&&(s=s.add(v)),a=a.insert(v,t.Un(p)),l=l.insert(v,t.Qn(p.metadata.readTime));return g=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Pl(i,function(T){return Vr(ec(Fe.fromString("__bundle__/docs/"+T)))}(r))];case 1:return y=_.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(T){return L4(T,g,a,_e.min(),l).next(function(S){return g.apply(T),S}).next(function(S){return i.qe.removeMatchingKeysForTargetId(T,y.targetId).next(function(){return i.qe.addMatchingKeys(T,s,y.targetId)}).next(function(){return i.Mn.En(T,S)}).next(function(){return S})})})]}})})}function zQ(e,t,n){return n===void 0&&(n=Be()),R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,Pl(e,Vr(mI(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=G(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=zt(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Qe.saveNamedQuery(a,t);var c=r.withResumeToken(On.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WQ=function(){function e(t){this.R=t,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return z.resolve(this.Kn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:zt(r.createTime)}),z.resolve()},e.prototype.getNamedQuery=function(t,n){return z.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:mI(r.bundledQuery),readTime:zt(r.readTime)}}(n)),z.resolve()},e}(),wI=function(){function e(){this.Wn=new Lt(jt.Gn),this.zn=new Lt(jt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new jt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new jt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new oe(new Fe([])),i=new jt(r,t),s=new jt(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new oe(new Fe([])),r=new jt(n,t),i=new jt(n,t+1),s=Be();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new jt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),jt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return oe.comparator(t.key,n.key)||Ce(t.ns,n.ns)},e.Hn=function(t,n){return Ce(t.ns,n.ns)||oe.comparator(t.key,n.key)},e}(),HQ=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Lt(jt.Gn)}return e.prototype.checkEmpty=function(t){return z.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new pI(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new jt(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return z.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return z.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return z.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return z.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return z.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new jt(n,0),s=new jt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),z.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Lt(Ce);return n.forEach(function(s){var a=new jt(s,0),l=new jt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),z.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;oe.isDocumentKey(s)||(s=s.child(""));var a=new jt(new oe(s),0),l=new Lt(Ce);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),z.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ce(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return z.forEach(n.mutations,function(s){var a=new jt(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new jt(n,0),i=this.rs.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,z.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),KQ=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new wn(oe.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return z.resolve(r?r.document.clone():sn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Dr();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():sn.newInvalidDocument(s))}),z.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Dr(),s=new oe(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,p=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||rd(n,p)&&(i=i.insert(p.key,p.clone()))}return z.resolve(i)},e.prototype.fs=function(t,n){return z.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new GQ(this)},e.prototype.getSize=function(t){return z.resolve(this.size)},e}(),GQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Y(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),z.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(A4),QQ=function(){function e(t){this.persistence=t,this.ds=new tc(function(n){return td(n)},Cg),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ws=0,this._s=new wI,this.targetCount=0,this.ys=_m.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),z.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return z.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return z.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),z.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),z.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new _m(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,z.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),z.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,z.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),z.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return z.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return z.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),z.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),z.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),z.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return z.resolve(r)},e.prototype.containsKey=function(t,n){return z.resolve(this._s.containsKey(n))},e}(),YQ=function(){function e(t,n){var r=this;this.gs={},this.Ne=new fr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new QQ(this),this.Ut=new IQ,this.Ue=function(i,s){return new KQ(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new T4(n),this.Qe=new WQ(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new HQ(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;K("MemoryPersistence","Starting transaction:",t);var s=new XQ(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return z.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),XQ=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Y(t,e),t}(b4),JQ=function(){function e(t){this.persistence=t,this.As=new wI,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw re()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),z.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),z.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),z.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.vs,function(i){var s=oe.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return z.or([function(){return z.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),zn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(e,t){return"firestore_clients_"+e+"_"+t}function fP(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function E_(e,t){return"firestore_targets_"+e+"_"+t}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid");var hP=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new q(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(St("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),T_=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new q(i.error.code,i.error.message)),s?new e(t,i.state,r):(St("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),dP=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Rg(),a=0;i&&a<r.activeTargetIds.length;++a)i=zF(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(St("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ZQ=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(St("SharedClientState","Failed to parse online state: "+t),null)},e}(),O1=function(){function e(){this.activeTargetIds=Rg()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),I_=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new wn(Ce),this.started=!1,this.Os=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.$s=cP(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new O1),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Qs=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,p,v,g=this;return A(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(cP(this.persistenceKey,i)))&&(a=dP.Vs(i,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Ks(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,p=this.Os;h<p.length;h++)v=p[h],this.Fs(v);return this.Os=[],this.window.addEventListener("unload",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(E_(this.persistenceKey,t));if(r){var i=T_.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Ks(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(E_(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return K("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){K("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){K("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(K("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void St("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return R(n,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(p){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var g=fr.o;if(v!=null)try{var y=JSON.parse(v);ce(typeof y=="number"),g=y}catch(_){St("SharedClientState","Failed to read sequence number from WebStorage",_)}return g}(r.newValue))!==fr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new hP(this.currentUser,t,n,r),s=fP(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=fP(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=E_(this.persistenceKey,t),s=new T_(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return dP.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return hP.Vs(new zn(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return T_.Vs(i,n)},e.prototype.js=function(t){return ZQ.Vs(t)},e.prototype.ii=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(K("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.ks=i})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Rg();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),U4=function(){function e(){this.li=new O1,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new O1,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),eY=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),pP=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),tY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},nY=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),rY=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return Y(t,e),t.prototype.ki=function(n,r,i,s){return new Promise(function(a,l){var c=new D7;c.listenOnce(P7.COMPLETE,function(){try{switch(c.getLastErrorCode()){case __.NO_ERROR:var p=c.getResponseJson();K("Connection","XHR received:",JSON.stringify(p)),a(p);break;case __.TIMEOUT:K("Connection",'RPC "'+n+'" timed out'),l(new q(O.DEADLINE_EXCEEDED,"Request time out"));break;case __.HTTP_ERROR:var v=c.getStatus();if(K("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var g=c.getResponseJson().error;if(g&&g.status&&g.message){var y=function(_){var T=_.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(T)>=0?T:O.UNKNOWN}(g.status);l(new q(y,g.message))}else l(new q(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new q(O.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{K("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.$i=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=R7(),a=x7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(l.initMessageHeaders,r),zE()||ZD()||E8()||T8()||I8()||WE()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");K("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),p=!1,v=!1,g=new nY({Ei:function(_){v?K("Connection","Not sending because WebChannel is closed:",_):(p||(K("Connection","Opening WebChannel transport."),h.open(),p=!0),K("Connection","WebChannel sending:",_),h.send(_))},Ti:function(){return h.close()}}),y=function(_,T,S){_.listen(T,function(E){try{S(E)}catch(I){setTimeout(function(){throw I},0)}})};return y(h,Up.EventType.OPEN,function(){v||K("Connection","WebChannel transport opened.")}),y(h,Up.EventType.CLOSE,function(){v||(v=!0,K("Connection","WebChannel transport closed"),g.Vi())}),y(h,Up.EventType.ERROR,function(_){v||(v=!0,hm("Connection","WebChannel transport errored:",_),g.Vi(new q(O.UNAVAILABLE,"The operation could not be completed")))}),y(h,Up.EventType.MESSAGE,function(_){var T;if(!v){var S=_.data[0];ce(!!S);var E=S,I=E.error||((T=E[0])===null||T===void 0?void 0:T.error);if(I){K("Connection","WebChannel received error:",I);var k=I.status,P=function(x){var V=Et[x];if(V!==void 0)return s4(V)}(k),D=I.message;P===void 0&&(P=O.INTERNAL,D="Unknown error status: "+k+" with message "+I.message),v=!0,g.Vi(new q(P,D)),h.close()}else K("Connection","WebChannel received:",S),g.Si(S)}}),y(a,O7.STAT_EVENT,function(_){_.stat===xx.PROXY?K("Connection","Detected buffering proxy"):_.stat===xx.NOPROXY&&K("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);K("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,i),this.ki(t,s,a,r).then(function(l){return K("RestConnection","Received: ",l),l},function(l){throw hm("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.Oi=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=tY[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(){return typeof window<"u"?window:null}function fv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(e){return new uQ(e,!0)}var _I=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),s=Math.max(0,r-i);s>0&&K("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),V4=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _I(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return R(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(St(n.toString()),St("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===O.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new q(O.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return R(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return K("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),iY=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return Y(t,e),t.prototype.wr=function(n){return this.Hi.$i("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:re()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],p=function(S,E){return S.I?(ce(E===void 0||typeof E=="string"),On.fromBase64String(E||"")):(ce(E===void 0||E instanceof Uint8Array),On.fromUint8Array(E||new Uint8Array))}(s,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(S){var E=S.code===void 0?O.UNKNOWN:s4(S.code);return new q(E,S.message||"")}(g);l=new l4(c,h,p,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=Ci(s,c.document.name),p=zt(c.document.updateTime);var g=new lr({mapValue:{fields:c.document.fields}}),y=(v=sn.newFoundDocument(h,p,g),c.targetIds||[]),_=c.removedTargetIds||[];l=new cv(y,_,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=Ci(s,c.document),p=c.readTime?zt(c.readTime):_e.min(),g=sn.newNoDocument(h,p),v=c.removedTargetIds||[],l=new cv([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=Ci(s,c.document),p=c.removedTargetIds||[],l=new cv([],p,h,null);else{if(!("filter"in a))return re();a.filter;var T=a.filter;T.targetId,c=T.count||0,h=new Z7(c),p=T.targetId,l=new u4(p,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return _e.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?_e.min():a.readTime?zt(a.readTime):_e.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=bh(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=vm(c)?{documents:v4(s,c)}:{query:m4(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=c4(s,a.resumeToken):a.snapshotVersion.compareTo(_e.min())>0&&(l.readTime=wh(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return re()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=bh(this.R),r.removeTarget=n,this.cr(r)},t}(V4),oY=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return Y(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.$i("Write",n)},t.prototype.onMessage=function(n){if(ce(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ce(a!==void 0),s.map(function(l){return function(c,h){var p=c.updateTime?zt(c.updateTime):zt(h);return p.isEqual(_e.min())&&(p=zt(h)),new Y7(p,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=zt(n.commitTime);return this.listener.Tr(i,r)}return ce(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=bh(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return ym(r.R,s)})};this.cr(i)},t}(V4),sY=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return Y(t,e),t.prototype.br=function(){if(this.Rr)throw new q(O.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new q(O.UNKNOWN,a.toString())})},t.prototype.Oi=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Oi(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new q(O.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),aY=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(St(n),this.Vr=!1):K("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),uY=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return R(s,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return As(this)?(K("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return R(this,void 0,void 0,function(){var h;return A(this,function(p){switch(p.label){case 0:return(h=G(c)).$r.add(4),[4,nc(h)];case 1:return p.sent(),h.Br.set("Unknown"),h.$r.delete(4),[4,ud(h)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new aY(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!As(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function nc(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Pg(e,t){var n=G(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),TI(n)?EI(n):ic(n).er()&&bI(n,t))}function Eh(e,t){var n=G(e),r=ic(n);n.Or.delete(t),r.er()&&B4(n,t),n.Or.size===0&&(r.er()?r.ir():As(n)&&n.Br.set("Unknown"))}function bI(e,t){e.qr.U(t.targetId),ic(e).mr(t)}function B4(e,t){e.qr.U(t),ic(e).yr(t)}function EI(e){e.qr=new oQ({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),ic(e).start(),e.Br.Sr()}function TI(e){return As(e)&&!ic(e).tr()&&e.Or.size>0}function As(e){return G(e).$r.size===0}function $4(e){e.qr=void 0}function lY(e){return R(this,void 0,void 0,function(){return A(this,function(t){return e.Or.forEach(function(n,r){bI(e,n)}),[2]})})}function cY(e,t){return R(this,void 0,void 0,function(){return A(this,function(n){return $4(e),TI(e)?(e.Br.Nr(t),EI(e)):e.Br.set("Unknown"),[2]})})}function fY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof l4&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return R(this,void 0,void 0,function(){var h,p,v,g;return A(this,function(y){switch(y.label){case 0:h=c.cause,p=0,v=c.targetIds,y.label=1;case 1:return p<v.length?(g=v[p],l.Or.has(g)?[4,l.remoteSyncer.rejectListen(g,h)]:[3,3]):[3,5];case 2:y.sent(),l.Or.delete(g),l.qr.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),K("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Em(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof cv?e.qr.X(t):t instanceof u4?e.qr.rt(t):e.qr.et(t),n.isEqual(_e.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,D4(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var g=l.Or.get(v);g&&l.Or.set(v,g.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach(function(p){var v=l.Or.get(p);if(v){l.Or.set(p,v.withResumeToken(On.EMPTY_BYTE_STRING,v.snapshotVersion)),B4(l,p);var g=new xg(v.target,p,1,v.sequenceNumber);bI(l,g)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return K("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Em(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Em(e,t,n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:if(!Ka(t))throw t;return e.$r.add(1),[4,nc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return D4(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return R(r,void 0,void 0,function(){return A(this,function(s){switch(s.label){case 0:return K("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.$r.delete(1),[4,ud(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function q4(e,t){return t().catch(function(n){return Em(e,n,t)})}function rc(e){return R(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:t=G(e),n=_s(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return As(l)&&l.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,BQ(t.localStore,r)];case 3:return(i=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.kr.push(c);var h=_s(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,Em(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return z4(t)&&W4(t),[2]}})})}function z4(e){return As(e)&&!_s(e).tr()&&e.kr.length>0}function W4(e){_s(e).start()}function hY(e){return R(this,void 0,void 0,function(){return A(this,function(t){return _s(e).Ar(),[2]})})}function dY(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){for(t=_s(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function pY(e,t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),i=EQ.from(r,t,n),[4,q4(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,rc(e)];case 2:return s.sent(),[2]}})})}function vY(e,t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&_s(e).pr?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return o4(a=i.code)&&a!==O.ABORTED?(s=r.kr.shift(),_s(r).sr(),[4,q4(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,rc(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return z4(e)&&W4(e),[2]}})})}function D1(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=G(e),t?(n.$r.delete(2),[4,ud(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,nc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ic(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=G(n);return s.br(),new iY(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:lY.bind(null,e),Ri:cY.bind(null,e),_r:fY.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),TI(e)?EI(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),$4(e),r.label=3;case 3:return[2]}})})})),e.Ur}function _s(e){var t=this;return e.Qr||(e.Qr=function(n,r,i){var s=G(n);return s.br(),new oY(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:hY.bind(null,e),Ri:vY.bind(null,e),Ir:dY.bind(null,e),Tr:pY.bind(null,e)}),e.Mr.push(function(n){return R(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Qr.sr(),[4,rc(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:r.sent(),e.kr.length>0&&(K("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Qr}var mY=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function oc(e,t){if(St("AsyncQueue",t+": "+e),Ka(e))return new q(O.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H4=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||oe.comparator(n.key,r.key)}:function(n,r){return oe.comparator(n.key,r.key)},this.keyedMap=R1(),this.sortedSet=new wn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),vP=function(){function e(){this.Kr=new wn(oe.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Kr.get(n);r?t.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,t):t.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Kr=this.Kr.remove(n):t.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):re():this.Kr=this.Kr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Tm=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,H4.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),gY=function(){this.Wr=void 0,this.listeners=[]},yY=function(){this.queries=new tc(function(e){return QF(e)},nd),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(n=G(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new gY),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=oc(l,"Initialization of query '"+N1(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&kI(n),[2]}})})}function SI(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){return n=G(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function wY(e,t){for(var n=G(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,p=c.listeners;h<p.length;h++)p[h].Hr(a)&&(r=!0);c.Wr=a}}r&&kI(n)}function _Y(e,t,n){var r=G(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function kI(e){e.Gr.forEach(function(t){t.next()})}var CI=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new Tm(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Tm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),bY=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),mP=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Ci(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?p4(this.R,t.document,!1):sn.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},e.prototype.Qn=function(t){return zt(t)},e}(),EY=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=K4(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new mP(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var p=h[c],v=(n.get(p)||Be()).add(l);n.set(p,v)}}return n},e.prototype.complete=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,qQ(this.localStore,new mP(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,zQ(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new MQ(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G4=function(e){this.key=e},Q4=function(e){this.key=e},Y4=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Be(),this.mutatedKeys=Be(),this.lo=YF(t),this.fo=new H4(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new vP,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=uv(this.query)&&s.size===this.query.limit?s.last():null,p=gm(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,y){var _=s.get(g),T=rd(r.query,y)?y:null,S=!!_&&r.mutatedKeys.has(_.key),E=!!T&&(T.hasLocalMutations||r.mutatedKeys.has(T.key)&&T.hasCommittedMutations),I=!1;_&&T?_.data.isEqual(T.data)?S!==E&&(i.track({type:3,doc:T}),I=!0):r.yo(_,T)||(i.track({type:2,doc:T}),I=!0,(h&&r.lo(T,h)>0||p&&r.lo(T,p)<0)&&(c=!0)):!_&&T?(i.track({type:0,doc:T}),I=!0):_&&!T&&(i.track({type:1,doc:_}),I=!0,(h||p)&&(c=!0)),I&&(T?(l=l.add(T),a=E?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),uv(this.query)||gm(this.query))for(;l.size>this.query.limit;){var v=uv(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,v){return function(g,y){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return _(g)-_(y)}(p.type,v.type)||i.lo(p.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new Tm(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new vP,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Be(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new Q4(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new G4(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Be();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Tm.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),TY=function(e,t,n){this.query=e,this.targetId=t,this.view=n},IY=function(e){this.key=e,this.bo=!1},SY=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new tc(function(l){return QF(l)},nd),this.Vo=new Map,this.So=new Set,this.Do=new wn(oe.comparator),this.Co=new Map,this.No=new wI,this.xo={},this.Fo=new Map,this.ko=_m.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),e}();function kY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=PI(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Pl(n.localStore,Vr(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,NI(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&Pg(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function NI(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:return e.$o=function(v,g,y){return function(_,T,S,E){return R(this,void 0,void 0,function(){var I,k,P;return A(this,function(D){switch(D.label){case 0:return I=T.view._o(S),I.Nn?[4,bm(_.localStore,T.query,!1).then(function(x){var V=x.documents;return T.view._o(V,I)})]:[3,2];case 1:I=D.sent(),D.label=2;case 2:return k=E&&E.targetChanges.get(T.targetId),P=T.view.applyChanges(I,_.isPrimaryClient,k),[2,(L1(_,T.targetId,P.To),P.snapshot)]}})})}(e,v,g,y)},[4,bm(e.localStore,t,!0)];case 1:return i=p.sent(),s=new Y4(t,i.Bn),a=s._o(i.documents),l=fI.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),L1(e,n,c.To),h=new TY(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function CY(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=G(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!nd(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ol(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Eh(n.remoteStore,r.targetId),Dl(n,r.targetId)}).catch(Ga)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Dl(n,r.targetId),[4,Ol(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function NY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=OI(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var p,v=G(c),g=Jn.now(),y=h.reduce(function(_,T){return _.add(T.key)},Be());return v.persistence.runTransaction("Locally write mutations","readwrite",function(_){return v.Mn.pn(_,y).next(function(T){p=T;for(var S=[],E=0,I=h;E<I.length;E++){var k=I[E],P=J7(k,p.get(k.key));P!=null&&S.push(new Ns(k.key,P,WF(P.toProto().mapValue),dn.exists(!0)))}return v._n.addMutationBatch(_,g,S,h)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,p){var v=c.xo[c.currentUser.toKey()];v||(v=new wn(Ce)),v=v.insert(h,p),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,mo(r,i.changes)];case 3:return l.sent(),[4,rc(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=oc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function X4(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:n=G(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,VQ(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ce(l.bo):s.removedDocuments.size>0&&(ce(l.bo),l.bo=!1))}),[4,mo(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Ga(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function gP(e,t,n){var r=G(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=G(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,p){for(var v=0,g=p.listeners;v<g.length;v++)g[v].zr(a)&&(c=!0)}),c&&kI(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function AY(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return(r=G(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new wn(oe.comparator)).insert(s,sn.newNoDocument(s,_e.min())),l=Be().add(s),c=new cI(_e.min(),new Map,new Lt(Ce),a,l),[4,X4(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),xI(r),[3,4];case 2:return[4,Ol(r.localStore,t,!1).then(function(){return Dl(r,t,n)}).catch(Ga)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function RY(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:n=G(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,jQ(n.localStore,t)];case 2:return i=s.sent(),RI(n,r,null),AI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,mo(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ga(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function xY(e,t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:r=G(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=G(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var p;return c._n.lookupMutationBatch(h,l).next(function(v){return ce(v!==null),p=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,p)})})}(r.localStore,t)];case 2:return i=s.sent(),RI(r,t,n),AI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,mo(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ga(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function PY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:As((n=G(e)).remoteStore)||K("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=G(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return h._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return s=l.sent(),a=oc(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function AI(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function RI(e,t,n){var r=G(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Dl(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||J4(e,a)})}function J4(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Eh(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),xI(e))}function L1(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof G4?(e.No.addReference(s.key,t),OY(e,s)):s instanceof Q4?(K("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||J4(e,s.key)):re()}}function OY(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(K("SyncEngine","New document in limbo: "+n),e.So.add(r),xI(e))}function xI(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new oe(Fe.fromString(t)),r=e.ko.next();e.Co.set(r,new IY(n)),e.Do=e.Do.insert(n,r),Pg(e.remoteStore,new xg(Vr(ec(n.path)),r,2,fr.o))}}function mo(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r=G(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.$o(h,t,n).then(function(p){if(p){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,p.fromCache?"not-current":"current"),i.push(p);var v=FQ.Pn(h.targetId,p);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return R(this,void 0,void 0,function(){var p,v,g,y,_,T,S,E,I;return A(this,function(k){switch(k.label){case 0:p=G(c),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(P){return z.forEach(h,function(D){return z.forEach(D.bn,function(x){return p.persistence.referenceDelegate.addReference(P,D.targetId,x)}).next(function(){return z.forEach(D.vn,function(x){return p.persistence.referenceDelegate.removeReference(P,D.targetId,x)})})})})];case 2:return k.sent(),[3,4];case 3:if(!Ka(v=k.sent()))throw v;return K("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,y=h;g<y.length;g++)_=y[g],T=_.targetId,_.fromCache||(S=p.Fn.get(T),E=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(E),p.Fn=p.Fn.insert(T,I));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function DY(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return(n=G(e)).currentUser.isEqual(t)?[3,3]:(K("SyncEngine","User change. New user:",t.toKey()),[4,O4(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fo.forEach(function(l){l.forEach(function(c){c.reject(new q(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,mo(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function LY(e,t){var n=G(e),r=n.Co.get(t);if(r&&r.bo)return Be().add(r.key);var i=Be(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function MY(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,bm((n=G(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&L1(n,t.targetId,i.To),i)]}})})}function FY(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,F4((t=G(e)).localStore).then(function(r){return mo(t,r)})]})})}function UY(e,t,n,r){return R(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=G(l),p=G(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,c).next(function(g){return g?h.Mn.pn(v,g):z.resolve(null)})})}((i=G(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,rc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(RI(i,t,r||null),AI(i,t),function(l,c){G(G(l)._n).Gt(c)}(i.localStore,t)):re(),a.label=4;case 4:return[4,mo(i,s)];case 5:return a.sent(),[3,7];case 6:K("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function jY(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:return PI(n=G(e)),OI(n),t!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,yP(n,r.toArray())]);case 1:return i=p.sent(),n.Oo=!0,[4,D1(n.remoteStore,!0)];case 2:for(p.sent(),s=0,a=i;s<a.length;s++)l=a[s],Pg(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.Oo===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,g){n.sharedClientState.isLocalQueryTarget(g)?c.push(g):h=h.then(function(){return Dl(n,g),Ol(n.localStore,g,!0)}),Eh(n.remoteStore,g)}),[4,h]);case 4:return p.sent(),[4,yP(n,c)];case 5:return p.sent(),function(v){var g=G(v);g.Co.forEach(function(y,_){Eh(g.remoteStore,_)}),g.No.ts(),g.Co=new Map,g.Do=new wn(oe.comparator)}(n),n.Oo=!1,[4,D1(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function yP(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,g,y,_,T,S;return A(this,function(E){switch(E.label){case 0:r=G(e),i=[],s=[],a=0,l=t,E.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(p=r.Vo.get(c))&&p.length!==0?[4,Pl(r.localStore,Vr(p[0]))]:[3,7]):[3,13];case 2:h=E.sent(),v=0,g=p,E.label=3;case 3:return v<g.length?(y=g[v],_=r.Po.get(y),[4,MY(r,_)]):[3,6];case 4:(T=E.sent()).snapshot&&s.push(T.snapshot),E.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,M4(r.localStore,c)];case 8:return S=E.sent(),[4,Pl(r.localStore,S)];case 9:return h=E.sent(),[4,NI(r,Z4(S),c,!1)];case 10:E.sent(),E.label=11;case 11:i.push(h),E.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function Z4(e){return KF(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function VY(e){var t=G(e);return G(G(t.localStore).persistence).fn()}function BY(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return(i=G(e)).Oo?(K("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,F4(i.localStore)];case 3:return s=l.sent(),a=cI.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,mo(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,Ol(i.localStore,t,!0)];case 6:return l.sent(),Dl(i,t,r),[3,8];case 7:re(),l.label=8;case 8:return[2]}})})}function $Y(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h,p,v,g;return A(this,function(y){switch(y.label){case 0:if(!(r=PI(e)).Oo)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(K("SyncEngine","Adding an already active target "+a),[3,5]):[4,M4(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,Pl(r.localStore,l)];case 3:return c=y.sent(),[4,NI(r,Z4(l),c.targetId,!1)];case 4:y.sent(),Pg(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(_){return A(this,function(T){switch(T.label){case 0:return r.Vo.has(_)?[4,Ol(r.localStore,_,!1).then(function(){Eh(r.remoteStore,_),Dl(r,_)}).catch(Ga)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},p=0,v=n,y.label=7;case 7:return p<v.length?(g=v[p],[5,h(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function PI(e){var t=G(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=X4.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AY.bind(null,t),t.vo._r=wY.bind(null,t.eventManager),t.vo.Mo=_Y.bind(null,t.eventManager),t}function OI(e){var t=G(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xY.bind(null,t),t}function qY(e,t,n){var r=G(e);(function(i,s,a){return R(this,void 0,void 0,function(){var l,c,h,p,v,g;return A(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(_,T){var S=G(_),E=zt(T.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",function(I){return S.Qe.getBundleMetadata(I,T.id)}).then(function(I){return!!I&&I.createTime.compareTo(E)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}}(l)))];case 4:return a._updateProgress(K4(l)),c=new EY(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(p=y.sent())&&a._updateProgress(p),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,mo(i,v.wn,void 0)];case 12:return y.sent(),[4,function(_,T){var S=G(_);return S.persistence.runTransaction("Save bundle","readwrite",function(E){return S.Qe.saveBundleMetadata(E,T)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return hm("SyncEngine","Loading bundle failed with "+(g=y.sent())),a._failWith(g),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var e3=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=ad(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Qo=function(t){return P4(this.persistence,new x4,t.initialUser,this.R)},e.prototype.qo=function(t){return new YQ(JQ.bs,this.R)},e.prototype.Bo=function(t){return new U4},e.prototype.terminate=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),t3=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Ko=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return Y(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,$Q(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,OI(this.Ko.syncEngine)];case 4:return r.sent(),[4,rc(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Qo=function(n){return P4(this.persistence,new x4,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new AQ(r,n.asyncQueue)},t.prototype.qo=function(n){var r=yI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?bi.withCacheSize(this.cacheSizeBytes):bi.DEFAULT;return new LQ(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,j4(),fv(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new U4},t}(e3),zY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Ko=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Y(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof I_?(this.sharedClientState.syncEngine={ui:UY.bind(null,r),ai:BY.bind(null,r),hi:$Y.bind(null,r),fn:VY.bind(null,r),ci:FY.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return R(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,jY(this.Ko.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=j4();if(!I_.yt(r))throw new q(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=yI(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new I_(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(t3),M1=function(){function e(){}return e.prototype.initialize=function(t,n){return R(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return gP(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=DY.bind(null,this.syncEngine),[4,D1(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new yY},e.prototype.createDatastore=function(t){var n,r=ad(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new rY(n));return function(s,a,l){return new sY(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return gP(l.syncEngine,c,0)},a=pP.yt()?new pP:new eY,new uY(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var p=new SY(r,i,s,a,l,c);return h&&(p.Oo=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=G(t),K("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,nc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return A(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Og=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),WY=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new Dn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new bY(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),HY=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new q(O.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var l,c,h,p,v,g;return A(this,function(y){switch(y.label){case 0:return l=G(s),c=bh(l.R)+"/documents",h={documents:a.map(function(_){return _h(l.R,_)})},[4,l.Oi("BatchGetDocuments",c,h)];case 1:return p=y.sent(),v=new Map,p.forEach(function(_){var T=function(S,E){return"found"in E?function(I,k){ce(!!k.found),k.found.name,k.found.updateTime;var P=Ci(I,k.found.name),D=zt(k.found.updateTime),x=new lr({mapValue:{fields:k.found.fields}});return sn.newFoundDocument(P,D,x)}(S,E):"missing"in E?function(I,k){ce(!!k.missing),ce(!!k.readTime);var P=Ci(I,k.missing),D=zt(k.readTime);return sn.newNoDocument(P,D)}(S,E):re()}(l.R,_);v.set(T.key.toString(),T)}),g=[],[2,(a.forEach(function(_){var T=v.get(_.toString());ce(!!T),g.push(T)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new sd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return R(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=oe.fromPath(s);n.mutations.push(new lI(a,n.precondition(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,l,c;return A(this,function(h){switch(h.label){case 0:return a=G(i),l=bh(a.R)+"/documents",c={writes:s.map(function(p){return ym(a.R,p)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw re();n=_e.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new q(O.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?dn.updateTime(n):dn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(_e.min()))throw new q(O.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dn.updateTime(n)}return dn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),KY=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new _I(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return R(t,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){return n=new HY(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Ha(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!o4(n)}return!1},e}(),GY=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=zn.UNAUTHENTICATED,this.clientId=jF.u(),this.credentialListener=function(){},this.receivedInitialUser=new Dn,this.credentials.setChangeListener(function(s){K("FirestoreClient","Received user=",s.uid),i.user=s,i.credentialListener(s),i.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new q(O.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return R(t,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=oc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(e,t){return R(this,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){r.isEqual(a)||(r=a,e.asyncQueue.enqueueRetryable(function(){return R(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,O4(t.localStore,a)];case 1:return l.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function r3(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,DI(e)];case 1:return n=i.sent(),K("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return e.asyncQueue.enqueueRetryable(function(){return function(a,l){return R(this,void 0,void 0,function(){var c,h;return A(this,function(p){switch(p.label){case 0:return(c=G(a)).asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials"),h=As(c),c.$r.add(3),[4,nc(c)];case 1:return p.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),c.$r.delete(3),[4,ud(c)];case 3:return p.sent(),[2]}})})}(t.remoteStore,s)})}),e.onlineComponents=t,[2]}})})}function DI(e){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(K("FirestoreClient","Using default OfflineComponentProvider"),[4,n3(e,new e3)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Dg(e){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(K("FirestoreClient","Using default OnlineComponentProvider"),[4,r3(e,new M1)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function _P(e){return DI(e).then(function(t){return t.persistence})}function LI(e){return DI(e).then(function(t){return t.localStore})}function bP(e){return Dg(e).then(function(t){return t.remoteStore})}function MI(e){return Dg(e).then(function(t){return t.syncEngine})}function Ll(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,Dg(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=kY.bind(null,t.syncEngine),n.onUnlisten=CY.bind(null,t.syncEngine),n)]}})})}function EP(e,t,n){var r=this;n===void 0&&(n={});var i=new Dn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var g=new Og({next:function(_){c.enqueueAndForget(function(){return SI(l,y)});var T=_.docs.has(h);!T&&_.fromCache?v.reject(new q(O.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?v.reject(new q(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),y=new CI(ec(h.path),g,{includeMetadataChanges:!0,so:!0});return II(l,y)},[4,Ll(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function TP(e,t,n){var r=this;n===void 0&&(n={});var i=new Dn;return e.asyncQueue.enqueueAndForget(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,p,v){var g=new Og({next:function(_){c.enqueueAndForget(function(){return SI(l,y)}),_.fromCache&&p.source==="server"?v.reject(new q(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),y=new CI(h,g,{includeMetadataChanges:!0,so:!0});return II(l,y)},[4,Ll(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var QY=function(e,t,n,r,i,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a},Im=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),IP=new Map,i3=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},SP=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(zn.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),YY=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),XY=function(){function e(t){var n=this;this.oc=null,this.currentUser=zn.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){n.cc++,n.currentUser=n.uc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(r){n.auth=r,n.oc&&n.auth.addAuthTokenListener(n.oc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(K("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ce(typeof i.accessToken=="string"),new i3(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return ce(t===null||typeof t=="string"),new zn(t)},e}(),JY=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r,this.type="FirstParty",this.user=zn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},n=this.ac.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),e}(),ZY=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r}return e.prototype.getToken=function(){return Promise.resolve(new JY(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(t){t(zn.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(e,t,n){if(!n)throw new q(O.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function UI(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new q(O.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function o3(e,t,n,r){if(t===!0&&r===!0)throw new q(O.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function kP(e){if(!oe.isDocumentKey(e))throw new q(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function CP(e){if(oe.isDocumentKey(e))throw new q(O.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Lg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":re()}function Le(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lg(e);throw new q(O.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function NP(e,t){if(t<=0)throw new q(O.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AP=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new q(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,o3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),Th=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AP({}),this._settingsFrozen=!1,t instanceof Im?(this._databaseId=t,this._credentials=new SP):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new q(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Im(r.options.projectId)}(t),this._credentials=new XY(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new q(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AP(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new SP;switch(n.type){case"gapi":var r=n.client;return ce(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new ZY(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new q(O.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=IP.get(t))&&(K("ComponentProvider","Removing Datastore"),IP.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),at=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ls(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Zn=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),ls=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,ec(i))||this)._path=i,s.type="collection",s}return Y(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new at(this.firestore,null,new oe(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=me(e),FI("collection","path",t),e instanceof Th)return CP(n=Fe.fromString.apply(Fe,Ee([t],r))),new ls(e,null,n);if(!(e instanceof at||e instanceof ls))throw new q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return CP(n=Fe.fromString.apply(Fe,Ee([e.path],r)).child(Fe.fromString(t))),new ls(e.firestore,null,n)}function hv(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=me(e),arguments.length===1&&(t=jF.u()),FI("doc","path",t),e instanceof Th)return kP(n=Fe.fromString.apply(Fe,Ee([t],r))),new at(e,null,new oe(n));if(!(e instanceof at||e instanceof ls))throw new q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kP(n=e._path.child(Fe.fromString.apply(Fe,Ee([t],r)))),new at(e.firestore,e instanceof ls?e.converter:null,new oe(n))}function a3(e,t){return e=me(e),t=me(t),(e instanceof at||e instanceof ls)&&(t instanceof at||t instanceof ls)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function u3(e,t){return e=me(e),t=me(t),e instanceof Zn&&t instanceof Zn&&e.firestore===t.firestore&&nd(e._query,t._query)&&e.converter===t.converter}var eX=function(){function e(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new _I(this,"async_queue_retry"),this.Ec=function(){var r=fv();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=fv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=fv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(n){}):this.Ic(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.dc.push(t),n.Ac()})},e.prototype.Ac=function(){return R(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.dc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return r.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ka(t=r.sent()))throw t;return K("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return n.Ac()}),r.label=5;case 5:return[2]}})})},e.prototype.Ic=function(t){var n=this,r=this.fc.then(function(){return n.yc=!0,t().catch(function(i){throw n.mc=i,n.yc=!1,St("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.yc=!1,i})});return this.fc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Tc(),this.gc.indexOf(t)>-1&&(n=0);var s=mY.createAndSchedule(this,t,n,r,function(a){return i.Rc(a)});return this._c.push(s),s},e.prototype.Tc=function(){this.mc&&re()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.fc];case 1:n.sent(),n.label=2;case 2:if(t!==this.fc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.vc=function(t){for(var n=0,r=this._c;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Pc=function(t){var n=this;return this.bc().then(function(){n._c.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n._c;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.bc()})},e.prototype.Vc=function(t){this.gc.push(t)},e.prototype.Rc=function(t){var n=this._c.indexOf(t);this._c.splice(n,1)},e}();function Ml(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var tX=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Dn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),nX=-1,wt=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new eX,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return Y(t,e),t.prototype._terminate=function(){return this._firestoreClient||l3(this),this._firestoreClient.terminate()},t}(Th);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(e){return e._firestoreClient||l3(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function l3(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new QY(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new GY(e._credentials,e._queue,r)}function RP(e,t,n){var r=this,i=new Dn;return e.asyncQueue.enqueue(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,n3(e,n)];case 1:return a.sent(),[4,r3(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===O.FAILED_PRECONDITION||l.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function xP(e){if(e._initialized||e._terminated)throw new q(O.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new q(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Ma=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(On.fromBase64String(t))}catch(n){throw new q(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(On.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Qa=function(e){this._methodName=e},Mg=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ce(this._lat,t._lat)||Ce(this._long,t._long)},e}(),rX=/^__.*__$/,iX=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Ns(t,this.data,this.fieldMask,n,this.fieldTransforms):new od(t,this.data,n,this.fieldTransforms)},e}(),c3=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Ns(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}var h3=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Sc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Fc(t),i},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Sc(),i},e.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(t){return Sm(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},e.prototype.Fc=function(t){if(t.length===0)throw this.$c("Document fields must not be empty");if(f3(this.Dc)&&rX.test(t))throw this.$c('Document fields cannot begin and end with "__"')},e}(),oX=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||ad(t)}return e.prototype.Bc=function(t,n,r,i){return i===void 0&&(i=!1),new h3({Dc:t,methodName:n,Lc:r,path:jr.emptyPath(),xc:!1,Mc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Ya(e){var t=e._freezeSettings(),n=ad(e._databaseId);return new oX(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fg(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Bc(s.merge||s.mergeFields?2:0,t,n,i);$I("Data must be an object, but it was:",a,r);var l,c,h=v3(r,a);if(s.merge)l=new bl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var p=[],v=0,g=s.mergeFields;v<g.length;v++){var y=F1(t,g[v],n);if(!a.contains(y))throw new q(O.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");g3(p,y)||p.push(y)}l=new bl(p),c=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,c=a.fieldTransforms;return new iX(new lr(h),l,c)}var jI=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Y(t,e),t.prototype._toFieldTransform=function(n){if(n.Dc!==2)throw n.Dc===1?n.$c(this._methodName+"() can only appear at the top level of your update data"):n.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Qa);function d3(e,t,n){return new h3({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var sX=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Y(t,e),t.prototype._toFieldTransform=function(n){return new id(n.path,new Sl)},t.prototype.isEqual=function(n){return n instanceof t},t}(Qa),aX=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return Y(t,e),t.prototype._toFieldTransform=function(n){var r=d3(this,n,!0),i=this.qc.map(function(a){return Xa(a,r)}),s=new Da(i);return new id(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Qa),uX=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return Y(t,e),t.prototype._toFieldTransform=function(n){var r=d3(this,n,!0),i=this.qc.map(function(a){return Xa(a,r)}),s=new La(i);return new id(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Qa),lX=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Uc=r,i}return Y(t,e),t.prototype._toFieldTransform=function(n){var r=new kl(n.R,ZF(n.R,this.Uc));return new id(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Qa);function VI(e,t,n,r){var i=e.Bc(1,t,n);$I("Data must be an object, but it was:",i,r);var s=[],a=lr.empty();ed(r,function(c,h){var p=qI(t,c,n);h=me(h);var v=i.kc(p);if(h instanceof jI)s.push(p);else{var g=Xa(h,v);g!=null&&(s.push(p),a.set(p,g))}});var l=new bl(s);return new c3(a,l,i.fieldTransforms)}function BI(e,t,n,r,i,s){var a=e.Bc(1,t,n),l=[F1(t,r,n)],c=[i];if(s.length%2!=0)throw new q(O.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(F1(t,s[h])),c.push(s[h+1]);for(var p=[],v=lr.empty(),g=l.length-1;g>=0;--g)if(!g3(p,l[g])){var y=l[g],_=c[g];_=me(_);var T=a.kc(y);if(_ instanceof jI)p.push(y);else{var S=Xa(_,T);S!=null&&(p.push(y),v.set(y,S))}}var E=new bl(p);return new c3(v,E,a.fieldTransforms)}function p3(e,t,n,r){return r===void 0&&(r=!1),Xa(n,e.Bc(r?4:3,t))}function Xa(e,t){if(m3(e=me(e)))return $I("Unsupported field value:",t,e),v3(e,t);if(e instanceof Qa)return function(n,r){if(!f3(r.Dc))throw r.$c(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.$c(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&t.Dc!==4)throw t.$c("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Xa(l[a],r.Oc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=me(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ZF(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Jn.fromDate(n);return{timestampValue:wh(r.R,i)}}if(n instanceof Jn)return i=new Jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:wh(r.R,i)};if(n instanceof Mg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ma)return{bytesValue:c4(r.R,n._byteString)};if(n instanceof at){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.$c("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:hI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.$c("Unsupported field value: "+Lg(n))}(e,t)}function v3(e,t){var n={};return BF(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ed(e,function(r,i){var s=Xa(i,t.Nc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function m3(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Jn||e instanceof Mg||e instanceof Ma||e instanceof at||e instanceof Qa)}function $I(e,t,n){if(!m3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Lg(n);throw r==="an object"?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function F1(e,t,n){if((t=me(t))instanceof Ni)return t._internalPath;if(typeof t=="string")return qI(e,t);throw Sm("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var cX=new RegExp("[~\\*/\\[\\]]");function qI(e,t,n){if(t.search(cX)>=0)throw Sm("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ni.bind.apply(Ni,Ee([void 0],t.split("."))))()._internalPath}catch{throw Sm("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Sm(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new q(O.INVALID_ARGUMENT,(l+=". ")+e+c)}function g3(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ih=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new at(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new fX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(km("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),fX=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Y(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Ih);function km(e,t){return typeof t=="string"?qI(e,t):t instanceof Ni?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fa=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),io=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return Y(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(km("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(Ih),Df=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Y(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(io),Bo=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new fa(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Df(r._firestore,r._userDataWriter,i.key,i,new fa(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){var c=new Df(r._firestore,r._userDataWriter,l.doc.key,l.doc,new fa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new Df(r._firestore,r._userDataWriter,l.doc.key,l.doc,new fa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:hX(l.type),doc:c,oldIndex:h,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function hX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}function y3(e,t){return e instanceof io&&t instanceof io?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bo&&t instanceof Bo&&e._firestore===t._firestore&&u3(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(e){if(gm(e)&&e.explicitOrderBy.length===0)throw new q(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ld=function(){};function xo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var dX=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qc=n,s.Kc=r,s.jc=i,s.type="where",s}return Y(t,e),t.prototype._apply=function(n){var r=Ya(n.firestore),i=function(s,a,l,c,h,p,v){var g;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new q(O.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){MP(v,p);for(var y=[],_=0,T=v;_<T.length;_++){var S=T[_];y.push(LP(c,s,S))}g={arrayValue:{values:y}}}else g=LP(c,s,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||MP(v,p),g=p3(l,"where",v,p==="in"||p==="not-in");var E=hr.create(h,p,g);return function(I,k){if(k.g()){var P=aI(I);if(P!==null&&!P.isEqual(k.field))throw new q(O.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+P.toString()+"' and '"+k.field.toString()+"'");var D=sI(I);D!==null&&b3(I,k.field,D)}var x=function(V,F){for(var ue=0,N=V.filters;ue<N.length;ue++){var _t=N[ue];if(F.indexOf(_t.op)>=0)return _t.op}return null}(I,function(V){switch(V){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(x!==null)throw x===k.op?new q(O.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+k.op.toString()+"' filter."):new q(O.INVALID_ARGUMENT,"Invalid query. You cannot use '"+k.op.toString()+"' filters with '"+x.toString()+"' filters.")}(s,E),E}(n._query,0,r,n.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Zn(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new vo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(ld),pX=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qc=n,i.Wc=r,i.type="orderBy",i}return Y(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new q(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new il(s,a);return function(c,h){if(sI(c)===null){var p=aI(c);p!==null&&b3(c,p,h.field)}}(i,l),l}(n._query,this.Qc,this.Wc);return new Zn(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new vo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(ld),PP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Gc=r,s.zc=i,s}return Y(t,e),t.prototype._apply=function(n){return new Zn(n.firestore,n.converter,GF(n._query,this.Gc,this.zc))},t}(ld),OP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return Y(t,e),t.prototype._apply=function(n){var r=_3(n,this.type,this.Hc,this.Jc);return new Zn(n.firestore,n.converter,function(i,s){return new vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(ld),DP=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return Y(t,e),t.prototype._apply=function(n){var r=_3(n,this.type,this.Hc,this.Jc);return new Zn(n.firestore,n.converter,function(i,s){return new vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(ld);function _3(e,t,n,r){if(n[0]=me(n[0]),n[0]instanceof Ih)return function(s,a,l,c,h){if(!c)throw new q(O.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],v=0,g=Il(s);v<g.length;v++){var y=g[v];if(y.field.isKeyField())p.push(pm(a,c.key));else{var _=c.data.field(y.field);if(rI(_))throw new q(O.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var T=y.field.canonicalString();throw new q(O.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}p.push(_)}}return new yh(p,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ya(e.firestore);return function(s,a,l,c,h,p){var v=s.explicitOrderBy;if(h.length>v.length)throw new q(O.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<h.length;y++){var _=h[y];if(v[y].field.isKeyField()){if(typeof _!="string")throw new q(O.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof _);if(!uI(s)&&_.indexOf("/")!==-1)throw new q(O.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+_+"' contains a slash.");var T=s.path.child(Fe.fromString(_));if(!oe.isDocumentKey(T))throw new q(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var S=new oe(T);g.push(pm(a,S))}else{var E=p3(l,c,_);g.push(E)}}return new yh(g,p)}(e._query,e.firestore._databaseId,i,t,n,r)}function LP(e,t,n){if(typeof(n=me(n))=="string"){if(n==="")throw new q(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uI(t)&&n.indexOf("/")!==-1)throw new q(O.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Fe.fromString(n));if(!oe.isDocumentKey(r))throw new q(O.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return pm(e,new oe(r))}if(n instanceof at)return pm(e,n._key);throw new q(O.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Lg(n)+".")}function MP(e,t){if(!Array.isArray(e)||e.length===0)throw new q(O.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new q(O.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function b3(e,t,n){if(!n.isEqual(t))throw new q(O.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zI=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(El(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw re()}},e.prototype.convertObject=function(t,n){var r=this,i={};return ed(t.fields||{},function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new Mg(Tt(t.latitude),Tt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=qF(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mh(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=ys(t);return new Jn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=Fe.fromString(t);ce(w4(r));var i=new Im(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||St("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var vX=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Y(t,e),t.prototype.convertBytes=function(n){return new Ma(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new at(this.firestore,null,r)},t}(zI),mX=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ya(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=$o(t,this._firestore),s=Ug(i.converter,n,r),a=Fg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,dn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=$o(t,this._firestore);return a=typeof(n=me(n))=="string"||n instanceof Ni?BI(this._dataReader,"WriteBatch.update",l._key,n,r,i):VI(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,dn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=$o(t,this._firestore);return this._mutations=this._mutations.concat(new sd(n._key,dn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new q(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(e,t){if((e=me(e)).firestore!==t)throw new q(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Y(t,e),t.prototype.convertBytes=function(n){return new Ma(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new at(this.firestore,null,r)},t}(zI);function FP(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Le(e,at);var s=Le(e.firestore,wt),a=Ya(s);return Sh(s,[(typeof(t=me(t))=="string"||t instanceof Ni?BI(a,"updateDoc",e._key,t,n,r):VI(a,"updateDoc",e._key,t)).toMutation(e._key,dn.exists(!0))])}function E3(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=me(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||Ml(i[l])||(a=i[l],l++);var c,h,p,v={includeMetadataChanges:a.includeMetadataChanges};if(Ml(i[l])){var g=i[l];i[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),i[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[l+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof at)h=Le(e.firestore,wt),p=ec(e._key.path),c={next:function(T){i[l]&&i[l](U1(h,e,T))},error:i[l+1],complete:i[l+2]};else{var y=Le(e,Zn);h=Le(y.firestore,wt),p=y._query;var _=new wa(h);c={next:function(T){i[l]&&i[l](new Bo(h,_,y,T))},error:i[l+1],complete:i[l+2]},w3(e._query)}return function(T,S,E,I){var k=this,P=new Og(I),D=new CI(S,P,E);return T.asyncQueue.enqueueAndForget(function(){return R(k,void 0,void 0,function(){var x;return A(this,function(V){switch(V.label){case 0:return x=II,[4,Ll(T)];case 1:return[2,x.apply(void 0,[V.sent(),D])]}})})}),function(){P.Wo(),T.asyncQueue.enqueueAndForget(function(){return R(k,void 0,void 0,function(){var x;return A(this,function(V){switch(V.label){case 0:return x=SI,[4,Ll(T)];case 1:return[2,x.apply(void 0,[V.sent(),D])]}})})})}}(qt(h),p,v,c)}function Sh(e,t){return function(n,r){var i=this,s=new Dn;return n.asyncQueue.enqueueAndForget(function(){return R(i,void 0,void 0,function(){var a;return A(this,function(l){switch(l.label){case 0:return a=NY,[4,MI(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(qt(e),t)}function U1(e,t,n){var r=n.docs.get(t._key),i=new wa(e);return new io(e,i,t._key,r,new fa(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gX=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return Y(t,e),t.prototype.get=function(n){var r=this,i=$o(n,this._firestore),s=new wa(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new io(r._firestore,s,i._key,a._document,new fa(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Ya(t)}return e.prototype.get=function(t){var n=this,r=$o(t,this._firestore),i=new vX(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return re();var a=s[0];if(a.isFoundDocument())return new Ih(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Ih(n._firestore,i,r._key,null,r.converter);throw re()})},e.prototype.set=function(t,n,r){var i=$o(t,this._firestore),s=Ug(i.converter,n,r),a=Fg(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=$o(t,this._firestore);return a=typeof(n=me(n))=="string"||n instanceof Ni?BI(this._dataReader,"Transaction.update",l._key,n,r,i):VI(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=$o(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(){if(typeof Uint8Array>"u")throw new q(O.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function jP(){if(typeof atob>"u")throw new q(O.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var T3=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return jP(),new e(Ma.fromBase64String(t))},e.fromUint8Array=function(t){return UP(),new e(Ma.fromUint8Array(t))},e.prototype.toBase64=function(){return jP(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return UP(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),yX=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){xP(r=Le(r,wt));var s=qt(r),a=r._freezeSettings(),l=new M1;return RP(s,l,new t3(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){xP(n=Le(n,wt));var r=qt(n),i=n._freezeSettings(),s=new M1;return RP(r,s,new zY(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new q(O.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Dn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return R(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return R(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return Al.yt()?(c=l+"main",[4,Al.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(yI(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),WI=function(){function e(t,n,r){var i=this;this._delegate=n,this.Yc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Im||(this.Xc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){l===void 0&&(l={});var c=(i=Le(i,Th))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==s&&hm("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1})),l.mockUserToken){var h=JD(l.mockUserToken),p=l.mockUserToken.sub||l.mockUserToken.user_id;if(!p)throw new q(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new YY(new i3(h,new zn(p)))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,_P(t)];case 1:return r=s.sent(),[4,bP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=G(a);return l.$r.delete(0),ud(l)}(i))]}})})})}(qt(Le(this._delegate,wt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return R(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,_P(t)];case 1:return r=s.sent(),[4,bP(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return R(this,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return(l=G(a)).$r.add(0),[4,nc(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(qt(Le(this._delegate,wt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&o3("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Dn;return t.asyncQueue.enqueueAndForget(function(){return R(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return i=PY,[4,MI(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(qt(Le(this._delegate,wt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new Og(s);return i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(p,v){G(p).Gr.add(v),v.next()},[4,Ll(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return R(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(p,v){G(p).Gr.delete(v)},[4,Ll(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(qt(n=Le(n,wt)),Ml(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Cm(this,s3(this._delegate,t))}catch(n){throw kn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new _a(this,hv(this._delegate,t))}catch(n){throw kn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new cd(this,function(n,r){if(n=Le(n,Th),FI("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new q(O.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zn(n,null,function(i){return new vo(Fe.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw kn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new Dn;return s.asyncQueue.enqueueAndForget(function(){return R(l,void 0,void 0,function(){var h;return A(this,function(p){switch(p.label){case 0:return[4,function(v){return Dg(v).then(function(g){return g.datastore})}(s)];case 1:return h=p.sent(),new KY(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(qt(r),function(s){return i(new gX(r,s))})}(this._delegate,function(r){return t(new I3(n,r))})},e.prototype.batch=function(){var t=this;return qt(this._delegate),new S3(new mX(this._delegate,function(n){return Sh(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new q(O.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new q(O.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),jg=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Y(t,e),t.prototype.convertBytes=function(n){return new T3(new Ma(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return _a.Zc(r,this.firestore,null)},t}(zI);function wX(e){var t;t=e,si.setLogLevel(t)}var I3=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new jg(t)}return e.prototype.get=function(t){var n=this,r=ha(t);return this._delegate.get(r).then(function(i){return new kh(n._firestore,new io(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=ha(t);return r?(UI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=ha(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,Ee([l,n,r],s)),this},e.prototype.delete=function(t){var n=ha(t);return this._delegate.delete(n),this},e}(),S3=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=ha(t);return r?(UI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=ha(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,Ee([l,n,r],s)),this},e.prototype.delete=function(t){var n=ha(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Vg=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Df(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ch(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new jg(t),n),i.set(n,s)),s},e}();Vg.eu=new WeakMap;var _a=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jg(t)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new q(O.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new at(n._delegate,r,new oe(t)))},e.Zc=function(t,n,r){return new e(n,new at(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Cm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Cm(this.firestore,s3(this._delegate,t))}catch(n){throw kn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=me(t))instanceof at&&a3(this._delegate,t)},e.prototype.set=function(t,n){n=UI("DocumentReference.set",n);try{return function(r,i,s){r=Le(r,at);var a=Le(r.firestore,wt),l=Ug(r.converter,i,s);return Sh(a,[Fg(Ya(a),"setDoc",r._key,l,r.converter!==null,s).toMutation(r._key,dn.none())])}(this._delegate,t,n)}catch(r){throw kn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?FP(this._delegate,t):FP.apply(void 0,Ee([this._delegate,t,n],r))}catch(s){throw kn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Sh(Le((t=this._delegate).firestore,wt),[new sd(t._key,dn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=k3(n),s=C3(n,function(a){return new kh(t.firestore,new io(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return E3(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Le(r,at);var i=Le(r.firestore,wt),s=qt(i),a=new wa(i);return function(l,c){var h=this,p=new Dn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=function(y,_,T){return R(this,void 0,void 0,function(){var S,E;return A(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,function(k,P){var D=G(k);return D.persistence.runTransaction("read document","readonly",function(x){return D.Mn.mn(x,P)})}(y,_)];case 1:return(E=I.sent()).isFoundDocument()?T.resolve(E):E.isNoDocument()?T.resolve(null):T.reject(new q(O.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=I.sent(),E=oc(S,"Failed to get document '"+_+" from cache"),T.reject(E),[3,3];case 3:return[2]}})})},[4,LI(l)];case 1:return[2,v.apply(void 0,[g.sent(),c,p])]}})})}),p.promise}(s,r._key).then(function(l){return new io(i,a,r._key,l,new fa(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Le(r,at);var i=Le(r.firestore,wt);return EP(qt(i),r._key,{source:"server"}).then(function(s){return U1(i,r,s)})}(this._delegate):function(r){r=Le(r,at);var i=Le(r.firestore,wt);return EP(qt(i),r._key).then(function(s){return U1(i,r,s)})}(this._delegate)).then(function(r){return new kh(n.firestore,new io(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vg.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function kn(e,t,n){return e.message=e.message.replace(t,n),e}function k3(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Ml(r))return r}return{}}function C3(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Ml(e[0])?e[0]:Ml(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var kh=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new _a(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return y3(this._delegate,t._delegate)},e}(),Ch=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Y(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(kh),cd=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jg(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,xo(this._delegate,function(i,s,a){var l=s,c=km("where",i);return new dX(c,l,a)}(t,n,r)))}catch(i){throw kn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,xo(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=km("orderBy",r);return new pX(a,s)}(t,n)))}catch(r){throw kn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,xo(this._delegate,function(n){return NP("limit",n),new PP("limit",n,"F")}(t)))}catch(n){throw kn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,xo(this._delegate,function(n){return NP("limitToLast",n),new PP("limitToLast",n,"L")}(t)))}catch(n){throw kn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new OP("startAt",r,!0)}.apply(void 0,t)))}catch(r){throw kn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new OP("startAfter",r,!1)}.apply(void 0,t)))}catch(r){throw kn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new DP("endBefore",r,!0)}.apply(void 0,t)))}catch(r){throw kn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,xo(this._delegate,function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new DP("endAt",r,!1)}.apply(void 0,t)))}catch(r){throw kn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return u3(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Le(r,Zn);var i=Le(r.firestore,wt),s=qt(i),a=new wa(i);return function(l,c){var h=this,p=new Dn;return l.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=function(y,_,T){return R(this,void 0,void 0,function(){var S,E,I,k,P;return A(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,bm(y,_,!0)];case 1:return P=D.sent(),S=new Y4(_,P.Bn),E=S._o(P.documents),I=S.applyChanges(E,!1),T.resolve(I.snapshot),[3,3];case 2:return k=D.sent(),P=oc(k,"Failed to execute query '"+_+" against cache"),T.reject(P),[3,3];case 3:return[2]}})})},[4,LI(l)];case 1:return[2,v.apply(void 0,[g.sent(),c,p])]}})})}),p.promise}(s,r._query).then(function(l){return new Bo(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Le(r,Zn);var i=Le(r.firestore,wt),s=qt(i),a=new wa(i);return TP(s,r._query,{source:"server"}).then(function(l){return new Bo(i,a,r,l)})}(this._delegate):function(r){r=Le(r,Zn);var i=Le(r.firestore,wt),s=qt(i),a=new wa(i);return w3(r._query),TP(s,r._query).then(function(l){return new Bo(i,a,r,l)})}(this._delegate)).then(function(r){return new j1(n.firestore,new Bo(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=k3(n),s=C3(n,function(a){return new j1(t.firestore,new Bo(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return E3(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vg.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),_X=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ch(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),j1=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new cd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Ch(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new _X(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Ch(r._firestore,i))})},e.prototype.isEqual=function(t){return y3(this._delegate,t._delegate)},e}(),Cm=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return Y(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new _a(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new _a(this.firestore,n===void 0?hv(this._delegate):hv(this._delegate,n))}catch(r){throw kn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Le(i.firestore,wt),l=hv(i),c=Ug(i.converter,s);return Sh(a,[Fg(Ya(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,dn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new _a(r.firestore,i)})},t.prototype.isEqual=function(n){return a3(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Vg.tu(this.firestore,n)):this._delegate.withConverter(null))},t}(cd);function ha(e){return Le(e,at)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bX=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ni.bind.apply(Ni,Ee([void 0],t)))}return e.documentId=function(){return new e(jr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=me(t))instanceof Ni&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),EX=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new sX("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new jI("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new aX("arrayUnion",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new uX("arrayRemove",i)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new lX("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TX(e){return function(t,n){var r=qt(t=Le(t,wt)),i=new tX;return function(s,a,l,c){var h=this,p=function(v,g){return function(y,_){return new WY(y,_)}(function(y,_){if(y instanceof Uint8Array)return wP(y,_);if(y instanceof ArrayBuffer)return wP(new Uint8Array(y),_);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(l,ad(a));s.asyncQueue.enqueueAndForget(function(){return R(h,void 0,void 0,function(){var v;return A(this,function(g){switch(g.label){case 0:return v=qY,[4,MI(s)];case 1:return v.apply(void 0,[g.sent(),p,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function IX(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return R(a,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return l=function(h,p){var v=G(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.Qe.getNamedQuery(g,p)})},[4,LI(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(qt(t=Le(t,wt)),n).then(function(i){return i?new Zn(t,null,i.query):null})).then(function(i){return i?new cd(r,i):null})}var SX={Firestore:WI,GeoPoint:Mg,Timestamp:Jn,Blob:T3,Transaction:I3,WriteBatch:S3,DocumentReference:_a,DocumentSnapshot:kh,Query:cd,QueryDocumentSnapshot:Ch,QuerySnapshot:j1,CollectionReference:Cm,FieldPath:bX,FieldValue:EX,setLogLevel:wX,CACHE_SIZE_UNLIMITED:nX};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kX(e){(function(t,n){t.INTERNAL.registerComponent(new er("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},SX)))})(e,function(t,n){return new WI(t,new wt(t,n),new yX)}),e.registerVersion("@firebase/firestore","2.3.0")}kX(se);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(e){e.prototype.loadBundle=TX,e.prototype.namedQuery=IX}CX(WI);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VP={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ol=function(e){Y(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function NX(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function AX(e,t,n){var r=NX(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!VP[l])return new ol("internal","internal");r=VP[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new ol(r,i,s)}var RX=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return A(this,function(t){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},e.prototype.getContext=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xX="type.googleapis.com/google.protobuf.Int64Value",PX="type.googleapis.com/google.protobuf.UInt64Value";function BP(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var OX=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return BP(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case xX:case PX:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?BP(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DX(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new ol("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var $P=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new OX,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new RX(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v,g,y,_,T;return A(this,function(S){switch(S.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=S.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=DX(c),p=h.timer,v=h.promise,[4,Promise.race([qP(p,this.postJSON(i,s,a)),v,qP(p,this.cancelAllRequests)])];case 2:if(g=S.sent(),!g)throw new ol("cancelled","Firebase Functions instance was deleted.");if(y=AX(g.status,g.json,this.serializer),y)throw y;if(!g.json)throw new ol("internal","Response is not valid JSON object.");if(_=g.json.data,typeof _>"u"&&(_=g.json.result),typeof _>"u")throw new ol("internal","Response is missing data field.");return T=this.serializer.decode(_),[2,{data:T}]}})})},e}();function qP(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LX="functions";function MX(e,t){var n={Functions:$P};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),p=i.getProvider("messaging");return new $P(l,c,p,h,a,t)}e.INTERNAL.registerComponent(new er(LX,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var FX="@firebase/functions",UX="0.6.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */MX(se,fetch.bind(self));se.registerVersion(FX,UX);function jX(e){return Array.prototype.slice.call(e)}function N3(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Bg(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),N3(r).then(s,a)});return i.request=r,i}function VX(e,t,n){var r=Bg(e,t,n);return r.then(function(i){if(i)return new Nh(i,r.request)})}function sc(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function HI(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return Bg(this[t],i,arguments)})})}function $g(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function A3(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return VX(this[t],i,arguments)})})}function Ja(e){this._index=e}sc(Ja,"_index",["name","keyPath","multiEntry","unique"]);HI(Ja,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);A3(Ja,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Nh(e,t){this._cursor=e,this._request=t}sc(Nh,"_cursor",["direction","key","primaryKey","value"]);HI(Nh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Nh.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),N3(t._request).then(function(r){if(r)return new Nh(r,t._request)})})})});function Mi(e){this._store=e}Mi.prototype.createIndex=function(){return new Ja(this._store.createIndex.apply(this._store,arguments))};Mi.prototype.index=function(){return new Ja(this._store.index.apply(this._store,arguments))};sc(Mi,"_store",["name","keyPath","indexNames","autoIncrement"]);HI(Mi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);A3(Mi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);$g(Mi,"_store",IDBObjectStore,["deleteIndex"]);function fd(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}fd.prototype.objectStore=function(){return new Mi(this._tx.objectStore.apply(this._tx,arguments))};sc(fd,"_tx",["objectStoreNames","mode"]);$g(fd,"_tx",IDBTransaction,["abort"]);function qg(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new fd(n)}qg.prototype.createObjectStore=function(){return new Mi(this._db.createObjectStore.apply(this._db,arguments))};sc(qg,"_db",["name","version","objectStoreNames"]);$g(qg,"_db",IDBDatabase,["deleteObjectStore","close"]);function zg(e){this._db=e}zg.prototype.transaction=function(){return new fd(this._db.transaction.apply(this._db,arguments))};sc(zg,"_db",["name","version","objectStoreNames"]);$g(zg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Mi,Ja].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=jX(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Ja,Mi].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function KI(e,t,n){var r=Bg(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new qg(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new zg(s)})}function S_(e){return Bg(indexedDB,"deleteDatabase",[e])}var BX="@firebase/installations",R3="0.4.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x3=1e4,P3="w:"+R3,O3="FIS_v2",$X="https://firebaseinstallations.googleapis.com/v1",qX=60*60*1e3,zX="installations",WX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Po,HX=(Po={},Po["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Po["not-registered"]="Firebase Installation is not registered.",Po["installation-not-found"]="Firebase Installation not found.",Po["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Po["app-offline"]="Could not process request. Application offline.",Po["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Po),fo=new Is(zX,WX,HX);function D3(e){return e instanceof Wl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(e){var t=e.projectId;return $X+"/projects/"+t+"/installations"}function L3(e){return{token:e.token,requestStatus:2,expiresIn:KX(e.expiresIn),creationTime:Date.now()}}function QI(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,fo.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function M3(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function F3(e,t){var n=t.refreshToken,r=M3(e);return r.append("Authorization",GX(n)),r}function YI(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function KX(e){return Number(e.replace("s","000"))}function GX(e){return O3+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(e,t){var n=t.fid;return R(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return A(this,function(p){switch(p.label){case 0:return r=GI(e),i=M3(e),s={fid:n,authVersion:O3,appId:e.appId,sdkVersion:P3},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,YI(function(){return fetch(r,a)})];case 1:return l=p.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=p.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:L3(c.authToken)},[2,h];case 3:return[4,QI("Create Installation",l)];case 4:throw p.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(e){var t=btoa(String.fromCharCode.apply(String,Ee([],Zt(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XX=/^[cdef][\w-]{21}$/,V1="";function JX(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=ZX(e);return XX.test(n)?n:V1}catch{return V1}}function ZX(e){var t=YX(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fl=new Map;function j3(e,t){var n=ac(e);V3(n,t),nJ(n,t)}function eJ(e,t){B3();var n=ac(e),r=Fl.get(n);r||(r=new Set,Fl.set(n,r)),r.add(t)}function tJ(e,t){var n=ac(e),r=Fl.get(n);r&&(r.delete(t),r.size===0&&Fl.delete(n),$3())}function V3(e,t){var n,r,i=Fl.get(e);if(i)try{for(var s=Ht(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function nJ(e,t){var n=B3();n&&n.postMessage({key:e,fid:t}),$3()}var da=null;function B3(){return!da&&"BroadcastChannel"in self&&(da=new BroadcastChannel("[Firebase] FID Change"),da.onmessage=function(e){V3(e.data.key,e.data.fid)}),da}function $3(){Fl.size===0&&da&&(da.close(),da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rJ="firebase-installations-database",iJ=1,Fa="firebase-installations-store",k_=null;function XI(){return k_||(k_=KI(rJ,iJ,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Fa)}})),k_}function Nm(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return n=ac(e),[4,XI()];case 1:return r=l.sent(),i=r.transaction(Fa,"readwrite"),s=i.objectStore(Fa),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&j3(e,t.fid),[2,t]}})})}function JI(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=ac(e),[4,XI()];case 1:return n=i.sent(),r=n.transaction(Fa,"readwrite"),[4,r.objectStore(Fa).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function hd(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=ac(e),[4,XI()];case 1:return r=c.sent(),i=r.transaction(Fa,"readwrite"),s=i.objectStore(Fa),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&j3(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,hd(e,function(s){var a=oJ(s),l=sJ(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==V1?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function oJ(e){var t=e||{fid:JX(),registrationStatus:0};return q3(t)}function sJ(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(fo.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=aJ(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:uJ(e)}:{installationEntry:t}}function aJ(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,QX(e,t)];case 1:return n=i.sent(),[2,Nm(e,n)];case 2:return r=i.sent(),D3(r)&&r.customData.serverCode===409?[4,JI(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Nm(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function uJ(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,zP(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,U3(100)];case 3:return s.sent(),[4,zP(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,ZI(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function zP(e){return hd(e,function(t){if(!t)throw fo.create("installation-not-found");return q3(t)})}function q3(e){return lJ(e)?{fid:e.fid,registrationStatus:0}:e}function lJ(e){return e.registrationStatus===1&&e.registrationTime+x3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cJ(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,l,c,h,p,v;return A(this,function(g){switch(g.label){case 0:return i=fJ(n,t),s=F3(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:P3}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,YI(function(){return fetch(i,c)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return p=g.sent(),v=L3(p),[2,v];case 3:return[4,QI("Generate Auth Token",h)];case 4:throw g.sent()}})})}function fJ(e,t){var n=t.fid;return GI(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,hd(e.appConfig,function(l){if(!z3(l))throw fo.create("not-registered");var c=l.authToken;if(!t&&pJ(c))return l;if(c.requestStatus===1)return n=hJ(e,t),l;if(!navigator.onLine)throw fo.create("app-offline");var h=mJ(l);return n=dJ(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function hJ(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,WP(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,U3(100)];case 3:return i.sent(),[4,WP(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,eS(e,t)]:[2,r]}})})}function WP(e){return hd(e,function(t){if(!z3(t))throw fo.create("not-registered");var n=t.authToken;return gJ(n)?He(He({},t),{authToken:{requestStatus:0}}):t})}function dJ(e,t){return R(this,void 0,void 0,function(){var n,i,r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,cJ(e,t)];case 1:return n=s.sent(),i=He(He({},t),{authToken:n}),[4,Nm(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),D3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,JI(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=He(He({},t),{authToken:{requestStatus:0}}),[4,Nm(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function z3(e){return e!==void 0&&e.registrationStatus===2}function pJ(e){return e.requestStatus===2&&!vJ(e)}function vJ(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+qX}function mJ(e){var t={requestStatus:1,requestTime:Date.now()};return He(He({},e),{authToken:t})}function gJ(e){return e.requestStatus===1&&e.requestTime+x3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yJ(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,ZI(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):eS(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,_J(e.appConfig)];case 1:return r.sent(),[4,eS(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function _J(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,ZI(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bJ(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=EJ(e,t),r=F3(e,t),i={method:"DELETE",headers:r},[4,YI(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,QI("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function EJ(e,t){var n=t.fid;return GI(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(e){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,hd(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw fo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw fo.create("app-offline");case 3:return[4,bJ(t,n)];case 4:return r.sent(),[4,JI(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(e,t){var n=e.appConfig;return eJ(n,t),function(){tJ(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SJ(e){var t,n;if(!e||!e.options)throw C_("App Configuration");if(!e.name)throw C_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Ht(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw C_(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function C_(e){return fo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(e){var t="installations";e.INTERNAL.registerComponent(new er(t,function(n){var r=n.getProvider("app").getImmediate(),i=SJ(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return yJ(a)},getToken:function(c){return wJ(a,c)},delete:function(){return TJ(a)},onIdChange:function(c){return IJ(a,c)}};return l},"PUBLIC")),e.registerVersion(BX,R3)}kJ(se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,CJ=(Rt={},Rt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Rt["only-available-in-window"]="This method is available in a Window context.",Rt["only-available-in-sw"]="This method is available in a service worker context.",Rt["permission-default"]="The notification permission was not granted and dismissed instead.",Rt["permission-blocked"]="The notification permission was not granted and blocked instead.",Rt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Rt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Rt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Rt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Rt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Rt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Rt["token-update-no-token"]="FCM returned no token when updating the user to push.",Rt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Rt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Rt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Rt["invalid-vapid-key"]="The public VAPID key must be a string.",Rt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Rt),Ve=new Is("messaging","Messaging",CJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NJ="/firebase-messaging-sw.js",AJ="/firebase-cloud-messaging-push-scope",Am="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",RJ="https://fcmregistrations.googleapis.com/v1",W3="FCM_MSG",xJ="FirebaseMessaging: ",PJ="google.c.a.e",H3="google.c.a.c_id",OJ="google.c.a.ts",DJ="google.c.a.c_l",LJ=1e3,MJ=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ua;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,Ee([],Zt(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function FJ(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N_="fcm_token_details_db",UJ=5,HP="fcm_token_object_Store";function jJ(e){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(N_))return[2,null];a.label=2;case 2:return r=null,[4,KI(N_,UJ,function(l){return R(s,void 0,void 0,function(){var c,h,p,p,p,v;return A(this,function(g){switch(g.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(HP)?(c=l.transaction.objectStore(HP),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=g.sent(),[4,c.clear()];case 2:if(g.sent(),!h)return[2];if(l.oldVersion===2){if(p=h,!p.auth||!p.p256dh||!p.endpoint)return[2];r={token:p.fcmToken,createTime:(v=p.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:Ki(p.vapidKey)}}}else l.oldVersion===3?(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Ki(p.auth),p256dh:Ki(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Ki(p.vapidKey)}}):l.oldVersion===4&&(p=h,r={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:Ki(p.auth),p256dh:Ki(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:Ki(p.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,S_(N_)];case 4:return a.sent(),[4,S_("fcm_vapid_details_db")];case 5:return a.sent(),[4,S_("undefined")];case 6:return a.sent(),[2,VJ(r)?r:null]}})})}function VJ(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BJ="firebase-messaging-database",$J=1,ja="firebase-messaging-store",A_=null;function tS(){return A_||(A_=KI(BJ,$J,function(e){switch(e.oldVersion){case 0:e.createObjectStore(ja)}})),A_}function Rm(e){return R(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return t=rS(e),[4,tS()];case 1:return n=s.sent(),[4,n.transaction(ja).objectStore(ja).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,jJ(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,nS(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function nS(e,t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=rS(e),[4,tS()];case 1:return r=s.sent(),i=r.transaction(ja,"readwrite"),[4,i.objectStore(ja).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function qJ(e){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=rS(e),[4,tS()];case 1:return n=i.sent(),r=n.transaction(ja,"readwrite"),[4,r.objectStore(ja).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function rS(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zJ(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,oS(e)];case 1:n=h.sent(),r=G3(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(iS(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Ve.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Ve.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Ve.create("token-subscribe-no-token");return[2,s.token]}})})}function WJ(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,oS(e)];case 1:n=h.sent(),r=G3(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(iS(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Ve.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Ve.create("token-update-failed",{errorInfo:c});if(!s.token)throw Ve.create("token-update-no-token");return[2,s.token]}})})}function K3(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,oS(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(iS(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Ve.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Ve.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function iS(e){var t=e.projectId;return RJ+"/projects/"+t+"/registrations"}function oS(e){var t=e.appConfig,n=e.installations;return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function G3(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Am&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HJ=7*24*60*60*1e3;function B1(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Ve.create("permission-blocked");return[4,GJ(t,n)];case 1:return r=l.sent(),[4,Rm(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Ki(r.getKey("auth")),p256dh:Ki(r.getKey("p256dh"))},i?[3,3]:[2,KP(e,s)];case 3:if(QJ(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,K3(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,KP(e,s)];case 8:return Date.now()>=i.createTime+HJ?[2,KJ({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function Lf(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,Rm(e)];case 1:return n=i.sent(),n?[4,K3(e,n.token)]:[3,4];case 2:return i.sent(),[4,qJ(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function KJ(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,WJ(t,e)];case 1:return r=a.sent(),i=He(He({},e),{token:r,createTime:Date.now()}),[4,nS(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Lf(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function KP(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,zJ(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,nS(e,r)];case 2:return i.sent(),[2,r.token]}})})}function GJ(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:FJ(t)})]}})})}function QJ(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YJ(e){var t={from:e.from,collapseKey:e.collapse_key};return XJ(t,e),JJ(t,e),ZJ(t,e),t}function XJ(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function JJ(e,t){t.data&&(e.data=t.data)}function ZJ(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(e){return typeof e=="object"&&!!e&&H3 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eZ=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Ve.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return R(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Rm(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Am,i.label=2;case 2:return[2,B1(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Lf(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Ve.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Ve.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Ve.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Ve.create("only-available-in-window")},e.prototype.onMessage=function(){throw Ve.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Ve.create("only-available-in-window")},e.prototype.onPush=function(t){return R(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=nZ(t),n?[4,Y3()]:(console.debug(xJ+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),iZ(r)?[2,oZ(r,n)]:(i=!1,n.notification?[4,sZ(tZ(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=YJ(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,GP(LJ)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Lf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Rm(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Lf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,B1(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Am)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[W3],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=aZ(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,rZ(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,GP(MJ)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=Ua.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function tZ(e){var t,n=He({},e.notification);return n.data=(t={},t[W3]=e,t),n}function nZ(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function rZ(e){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,Y3()];case 1:t=c.sent();try{for(n=Ht(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function iZ(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function oZ(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Ua.PUSH_RECEIVED;try{for(var i=Ht(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Y3(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function sZ(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function aZ(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(Q3(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uZ=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Ua.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(cZ(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,Q3(r)&&r[PJ]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Ve.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,B1(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Am),[2]})})},e.prototype.updateSwReg=function(t){return R(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Ve.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(NJ,{scope:AJ})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Ve.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Lf(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Ve.create("permission-blocked"):Ve.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Ve.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Ve.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Ve.create("invalid-sw-registration");if(this.swRegistration)throw Ve.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Ve.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Ve.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return R(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=lZ(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[H3],message_name:n[DJ],message_time:n[OJ],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function lZ(e){switch(e){case Ua.NOTIFICATION_CLICKED:return"notification_open";case Ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function cZ(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(e){var t,n;if(!e||!e.options)throw R_("App Configuration Object");if(!e.name)throw R_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=Ht(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw R_(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function R_(e){return Ve.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hZ="messaging";function dZ(e){var t=e.getProvider("app").getImmediate(),n=fZ(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!X3())throw Ve.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new eZ(s):new uZ(s)}var pZ={isSupported:X3};se.INTERNAL.registerComponent(new er(hZ,dZ,"PUBLIC").setServiceProps(pZ));function X3(){return self&&"ServiceWorkerGlobalScope"in self?mZ():vZ()}function vZ(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function mZ(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J3="firebasestorage.googleapis.com",Z3="storageBucket",gZ=2*60*1e3,yZ=10*60*1e3,Ct=function(e){Y(t,e);function t(n,r){var i=e.call(this,x_(n),"Firebase Storage: "+r+" ("+x_(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return x_(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Wl);function x_(e){return"storage/"+e}function sS(){var e="An unknown error occurred, please check the error payload for server response.";return new Ct("unknown",e)}function wZ(e){return new Ct("object-not-found","Object '"+e+"' does not exist.")}function _Z(e){return new Ct("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function bZ(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ct("unauthenticated",e)}function EZ(){return new Ct("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function TZ(e){return new Ct("unauthorized","User does not have permission to access '"+e+"'.")}function IZ(){return new Ct("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function eU(){return new Ct("canceled","User canceled the upload/download.")}function SZ(e){return new Ct("invalid-url","Invalid URL '"+e+"'.")}function kZ(e){return new Ct("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function CZ(){return new Ct("no-default-bucket","No default bucket found. Did you set the '"+Z3+"' property when initializing the app?")}function tU(){return new Ct("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function NZ(){return new Ct("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function AZ(){return new Ct("no-download-url","The given file does not have any download URLs.")}function ba(e){return new Ct("invalid-argument",e)}function nU(){return new Ct("app-deleted","The Firebase app was deleted.")}function rU(e){return new Ct("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mf(e,t){return new Ct("invalid-format","String does not match format '"+e+"': "+t)}function qp(e){throw new Ct("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},P_=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function iU(e,t){switch(e){case Rr.RAW:return new P_(oU(t));case Rr.BASE64:case Rr.BASE64URL:return new P_(sU(e,t));case Rr.DATA_URL:return new P_(xZ(t),PZ(t))}throw sS()}function oU(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function RZ(e){var t;try{t=decodeURIComponent(e)}catch{throw Mf(Rr.DATA_URL,"Malformed data URL.")}return oU(t)}function sU(e,t){switch(e){case Rr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Mf(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Rr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Mf(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(t)}catch{throw Mf(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var aU=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Mf(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=OZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function xZ(e){var t=new aU(e);return t.base64?sU(Rr.BASE64,t.rest):RZ(t.rest)}function PZ(e){var t=new aU(e);return t.contentType}function OZ(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DZ={STATE_CHANGED:"state_changed"},Cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function O_(e){switch(e){case"running":case"pausing":case"canceling":return Cn.RUNNING;case"paused":return Cn.PAUSED;case"success":return Cn.SUCCESS;case"canceled":return Cn.CANCELED;case"error":return Cn.ERROR;default:return Cn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ea||(Ea={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LZ=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ea.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ea.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ea.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw qp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw qp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw qp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw qp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MZ=function(){function e(){}return e.prototype.createXhrIo=function(){return new LZ},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw kZ(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(ue){ue.path_=decodeURIComponent(ue.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+p+"/b/"+i+"/o"+g,"i"),_={bucket:1,path:3},T=n===J3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",E=new RegExp("^https?://"+T+"/"+i+"/"+S,"i"),I={bucket:1,path:2},k=[{regex:l,indices:c,postModify:s},{regex:y,indices:_,postModify:h},{regex:E,indices:I,postModify:h}],P=0;P<k.length;P++){var D=k[P],x=D.regex.exec(t);if(x){var V=x[D.indices.bucket],F=x[D.indices.path];F||(F=""),r=new e(V,F),D.postModify(r);break}}if(r==null)throw SZ(t);return r},e}(),FZ=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UZ(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];c||(c=!0,t.apply(null,_))}function p(_){i=setTimeout(function(){i=null,e(v,l())},_)}function v(_){for(var T=[],S=1;S<arguments.length;S++)T[S-1]=arguments[S];if(!c){if(_){h.call.apply(h,Ee([null,_],T));return}var E=l()||s;if(E){h.call.apply(h,Ee([null,_],T));return}r<64&&(r*=2);var I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,p(I)}}var g=!1;function y(_){g||(g=!0,!c&&(i!==null?(_||(a=2),clearTimeout(i),p(0)):_||(a=1)))}return p(0),setTimeout(function(){s=!0,y(!0)},n),y}function jZ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VZ(e){return e!==void 0}function BZ(e){return typeof e=="function"}function $Z(e){return typeof e=="object"&&!Array.isArray(e)}function Wg(e){return typeof e=="string"||e instanceof String}function QP(e){return aS()&&e instanceof Blob}function aS(){return typeof Blob<"u"}function $1(e,t,n,r){if(r<t)throw ba("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw ba("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function uU(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qZ=function(){function e(t,n,r,i,s,a,l,c,h,p,v){var g=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=p,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,_){g.resolve_=y,g.reject_=_,g.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new zp(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function l(c){var h=c.loaded,p=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(c){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingXhr_=null,c=c;var h=c.getErrorCode()===Ea.NO_ERROR,p=c.getStatus();if(!h||t.isRetryStatusCode_(p)){var v=c.getErrorCode()===Ea.ABORT;i(!1,new zp(!1,null,v));return}var g=t.successCodes_.indexOf(p)!==-1;i(!0,new zp(g,c))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());VZ(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var p=sS();p.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,p)):l(p)}else if(s.canceled){var p=t.appDelete_?nU():eU();l(p)}else{var p=IZ();l(p)}}this.canceled_?r(!1,new zp(!1,null,!0)):this.backoffId_=UZ(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&jZ(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),zp=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function zZ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function WZ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function HZ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function KZ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function GZ(e,t,n,r,i,s){var a=uU(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return HZ(c,t),zZ(c,n),WZ(c,s),KZ(c,r),new qZ(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=QZ();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(aS())return new Blob(e);throw new Ct("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function XZ(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uS=function(){function e(t,n){var r=0,i="";QP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(QP(this.data_)){var r=this.data_,i=XZ(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(aS()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(YZ.apply(null,r))}else{var i=t.map(function(c){return Wg(c)?iU(Rr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(e){var t;try{t=JSON.parse(e)}catch{return null}return $Z(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function ZZ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function lU(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eee(e,t){return t}var Tn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||eee}return e}(),Wp=null;function tee(e){return!Wg(e)||e.length<2?e:lU(e)}function Hg(){if(Wp)return Wp;var e=[];e.push(new Tn("bucket")),e.push(new Tn("generation")),e.push(new Tn("metageneration")),e.push(new Tn("name","fullPath",!0));function t(s,a){return tee(a)}var n=new Tn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Tn("size");return i.xform=r,e.push(i),e.push(new Tn("timeCreated")),e.push(new Tn("updated")),e.push(new Tn("md5Hash",null,!0)),e.push(new Tn("cacheControl",null,!0)),e.push(new Tn("contentDisposition",null,!0)),e.push(new Tn("contentEncoding",null,!0)),e.push(new Tn("contentLanguage",null,!0)),e.push(new Tn("contentType",null,!0)),e.push(new Tn("metadata","customMetadata",!0)),Wp=e,Wp}function nee(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new xr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function ree(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return nee(r,e),r}function cU(e,t,n){var r=lS(t);if(r===null)return null;var i=r;return ree(e,i,n)}function iee(e,t,n){var r=lS(t);if(r===null||!Wg(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,p=e.fullPath,v="/b/"+s(h)+"/o/"+s(p),g=Rs(v,n),y=uU({alt:"media",token:c});return g+y});return l[0]}function cS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YP="prefixes",XP="items";function oee(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[YP])for(var i=0,s=n[YP];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new xr(t,l));r.prefixes.push(c)}if(n[XP])for(var h=0,p=n[XP];h<p.length;h++){var v=p[h],c=e._makeStorageReference(new xr(t,v.name));r.items.push(c)}return r}function see(e,t,n){var r=lS(n);if(r===null)return null;var i=r;return oee(e,t,i)}var go=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e){if(!e)throw sS()}function Kg(e,t){function n(r,i){var s=cU(e,i,t);return Ai(s!==null),s}return n}function aee(e,t){function n(r,i){var s=see(e,t,i);return Ai(s!==null),s}return n}function uee(e,t){function n(r,i){var s=cU(e,i,t);return Ai(s!==null),iee(s,i,e.host)}return n}function uc(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=EZ():i=bZ():n.getStatus()===402?i=_Z(e.bucket):n.getStatus()===403?i=TZ(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function Gg(e){var t=uc(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=wZ(e.path)),s.serverResponse=i.serverResponse,s}return n}function fU(e,t,n){var r=t.fullServerUrl(),i=Rs(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new go(i,s,Kg(e,n),a);return l.errorHandler=Gg(t),l}function lee(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=Rs(a,e.host),c="GET",h=e.maxOperationRetryTime,p=new go(l,c,aee(e,t.bucket),h);return p.urlParams=s,p.errorHandler=uc(t),p}function cee(e,t,n){var r=t.fullServerUrl(),i=Rs(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new go(i,s,uee(e,n),a);return l.errorHandler=Gg(t),l}function fee(e,t,n,r){var i=t.fullServerUrl(),s=Rs(i,e.host),a="PATCH",l=cS(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,p=new go(s,a,Kg(e,r),h);return p.headers=c,p.body=l,p.errorHandler=Gg(t),p}function hee(e,t){var n=t.fullServerUrl(),r=Rs(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new go(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=Gg(t),l}function dee(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function hU(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=dee(null,t)),r}function pee(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var k="",P=0;P<2;P++)k=k+Math.random().toString().slice(2);return k}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=hU(t,r,i),p=cS(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+c+"--",y=uS.getBlob(v,r,g);if(y===null)throw tU();var _={name:h.fullPath},T=Rs(s,e.host),S="POST",E=e.maxUploadRetryTime,I=new go(T,S,Kg(e,n),E);return I.urlParams=_,I.headers=a,I.body=y.uploadData(),I.errorHandler=uc(t),I}var xm=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function fS(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Ai(!1)}var r=t||["active"];return Ai(!!n&&r.indexOf(n)!==-1),n}function vee(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=hU(t,r,i),l={name:a.fullPath},c=Rs(s,e.host),h="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=cS(a,n),g=e.maxUploadRetryTime;function y(T){fS(T);var S;try{S=T.getResponseHeader("X-Goog-Upload-URL")}catch{Ai(!1)}return Ai(Wg(S)),S}var _=new go(c,h,y,g);return _.urlParams=l,_.headers=p,_.body=v,_.errorHandler=uc(t),_}function mee(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var p=fS(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ai(!1)}v||Ai(!1);var g=Number(v);return Ai(!isNaN(g)),new xm(g,r.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,c=new go(n,a,s,l);return c.headers=i,c.errorHandler=uc(t),c}var JP=256*1024;function gee(e,t,n,r,i,s,a,l){var c=new xm(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw NZ();var h=c.total-c.current,p=h;i>0&&(p=Math.min(p,i));var v=c.current,g=v+p,y=p===h?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":c.current},T=r.slice(v,g);if(T===null)throw tU();function S(P,D){var x=fS(P,["active","final"]),V=c.current+p,F=r.size(),ue;return x==="final"?ue=Kg(t,s)(P,D):ue=null,new xm(V,F,x==="final",ue)}var E="POST",I=t.maxUploadRetryTime,k=new go(n,E,S,I);return k.headers=_,k.body=T.uploadData(),k.progressCallback=l||null,k.errorHandler=uc(e),k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yee=function(){function e(t,n,r){var i=BZ(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dU=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Hg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=vee(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=mee(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=JP*this._chunkMultiplier,r=new xm(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=gee(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=JP*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=fU(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=pee(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=eU(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=O_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new yee(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(O_(this._state)){case Cn.SUCCESS:xu(this._resolve.bind(null,this.snapshot))();break;case Cn.CANCELED:case Cn.ERROR:var n=this._reject;xu(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=O_(this._state);switch(n){case Cn.RUNNING:case Cn.PAUSED:t.next&&xu(t.next.bind(t,this.snapshot))();break;case Cn.SUCCESS:t.complete&&xu(t.complete.bind(t))();break;case Cn.CANCELED:case Cn.ERROR:t.error&&xu(t.error.bind(t,this._error))();break;default:t.error&&xu(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qg=function(){function e(t,n){this._service=t,n instanceof xr?this._location=n:this._location=xr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new xr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return lU(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=JZ(this._location.path);if(t===null)return null;var n=new xr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw rU(t)},e}();function wee(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new dU(e,new uS(t),n)}function _ee(e){var t={prefixes:[],items:[]};return pU(e,t).then(function(){return t})}function pU(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,vU(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,pU(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function vU(e,t){return R(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&$1("options.maxResults",1,1e3,t.maxResults),n=t||{},r=lee(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function bee(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=fU(e.storage,e._location,Hg()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Eee(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=fee(e.storage,e._location,t,Hg()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function Tee(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=cee(e.storage,e._location,Hg()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw AZ();return r})]}})})}function Iee(e){return R(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=hee(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function mU(e,t){var n=ZZ(e._location.path,t),r=new xr(e._location.bucket,n);return new Qg(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(e){return/^[A-Za-z]+:\/\//.test(e)}function See(e,t){return new Qg(e,t)}function gU(e,t){if(e instanceof Yg){var n=e;if(n._bucket==null)throw CZ();var r=new Qg(n,n._bucket);return t!=null?gU(r,t):r}else if(t!==void 0){if(t.includes(".."))throw ba('`path` param cannot contain ".."');return mU(e,t)}else return e}function kee(e,t){if(t&&q1(t)){if(e instanceof Yg)return See(e,t);throw ba("To use ref(service, url), the first argument must be a Storage instance.")}else return gU(e,t)}function ZP(e,t){var n=t==null?void 0:t[Z3];return n==null?null:xr.makeFromBucketSpec(n,e)}function Cee(e,t,n){e.host="http://"+t+":"+n}var Yg=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=J3,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gZ,this._maxUploadRetryTime=yZ,this._requests=new Set,s!=null?this._bucket=xr.makeFromBucketSpec(s,this._host):this._bucket=ZP(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=xr.makeFromBucketSpec(this._url,t):this._bucket=ZP(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){$1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){$1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return R(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Qg(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new FZ(nU());var s=GZ(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return R(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nee(e,t,n){return e=me(e),wee(e,t,n)}function Aee(e){return e=me(e),bee(e)}function Ree(e,t){return e=me(e),Eee(e,t)}function xee(e,t){return e=me(e),vU(e,t)}function Pee(e){return e=me(e),_ee(e)}function Oee(e){return e=me(e),Tee(e)}function Dee(e){return e=me(e),Iee(e)}function e2(e,t){return e=me(e),kee(e,t)}function Lee(e,t){return mU(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hp=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t2=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Hp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Hp(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Hp(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new Hp(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),n2=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Ah(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Ah(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ah=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Lee(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new t2(Nee(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Rr.RAW),this._throwIfRoot("putString");var i=iU(n,t),s=He({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new t2(new dU(this._delegate,new uS(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return Pee(this._delegate).then(function(n){return new n2(n,t.storage)})},e.prototype.list=function(t){var n=this;return xee(this._delegate,t||void 0).then(function(r){return new n2(r,n.storage)})},e.prototype.getMetadata=function(){return Aee(this._delegate)},e.prototype.updateMetadata=function(t){return Ree(this._delegate,t)},e.prototype.getDownloadURL=function(){return Oee(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),Dee(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw rU(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mee=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(q1(t))throw ba("ref() expected a child path but got a URL, use refFromURL instead.");return new Ah(e2(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!q1(t))throw ba("refFromURL() expected a full URL but got a child path, use ref() instead.");try{xr.makeFromUrl(t,this._delegate.host)}catch{throw ba("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ah(e2(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){Cee(this._delegate,t,n)},e}(),Fee="@firebase/storage",Uee="0.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jee="storage";function Vee(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new Mee(r,new Yg(r,i,s,new MZ,n,se.SDK_VERSION));return a}function Bee(e){var t={TaskState:Cn,TaskEvent:DZ,StringFormat:Rr,Storage:Yg,Reference:Ah};e.INTERNAL.registerComponent(new er(jee,Vee,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Fee,Uee)}Bee(se);var $ee="@firebase/performance",yU="0.4.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wU=yU,qee="FB-PERF-TRACE-START",zee="FB-PERF-TRACE-STOP",z1="FB-PERF-TRACE-MEASURE",_U="_wt_",bU="_fp",EU="_fcp",TU="_fid",IU="@firebase/performance/config",SU="@firebase/performance/configexpire",Wee="performance",kU="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,Hee=(Yt={},Yt["trace started"]="Trace {$traceName} was started before.",Yt["trace stopped"]="Trace {$traceName} is not running.",Yt["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Yt["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Yt["no window"]="Window is not available.",Yt["no app id"]="App id is not available.",Yt["no project id"]="Project id is not available.",Yt["no api key"]="Api key is not available.",Yt["invalid cc log"]="Attempted to queue invalid cc event",Yt["FB not default"]="Performance can only start when Firebase app instance is the default one.",Yt["RC response not ok"]="RC response is not ok",Yt["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Yt["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Yt["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Yt["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Yt),cn=new Is(Wee,kU,Hee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho=new Hl(kU);ho.logLevel=be.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D_,CU,mn=function(){function e(t){if(this.window=t,!t)throw cn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(ho.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):HE()?!0:(ho.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return D_===void 0&&(D_=new e(CU)),D_},e}();function Kee(e){CU=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(e,t){var n=e.length-t.length;if(n<0||n>1)throw cn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L_,Dt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=r2("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=r2("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw cn.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw cn.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw cn.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return L_===void 0&&(L_=new e),L_},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NU;function Gee(){var e=Dt.getInstance().installationsService.getId();return e.then(function(t){NU=t}),e}function hS(){return NU}function Qee(){var e=Dt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sl;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(sl||(sl={}));var Yee=["firebase_","google_","ga_"],Xee=new RegExp("^[a-zA-Z]\\w*$"),Jee=40,Zee=100;function ete(){var e=mn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function AU(){var e=mn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return sl.VISIBLE;case"hidden":return sl.HIDDEN;default:return sl.UNKNOWN}}function tte(){var e=mn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function nte(e){if(e.length===0||e.length>Jee)return!1;var t=Yee.some(function(n){return e.startsWith(n)});return!t&&!!e.match(Xee)}function rte(e){return e.length!==0&&e.length<=Zee}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ite="0.0.1",ote={loggingEnabled:!0},ste="FIREBASE_INSTALLATIONS_AUTH";function ate(e){var t=ute();return t?(i2(t),Promise.resolve()):fte(e).then(i2).then(function(n){return lte(n)},function(){})}function ute(){var e=mn.getInstance().localStorage;if(e){var t=e.getItem(SU);if(!(!t||!hte(t))){var n=e.getItem(IU);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function lte(e){var t=mn.getInstance().localStorage;!e||!t||(t.setItem(IU,JSON.stringify(e)),t.setItem(SU,String(Date.now()+Dt.getInstance().configTimeToLive*60*60*1e3)))}var cte="Could not fetch config, will use default configs";function fte(e){return Qee().then(function(t){var n=Dt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Dt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:ste+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Dt.getInstance().getAppId(),app_version:wU,sdk_version:ite})});return fetch(i).then(function(s){if(s.ok)return s.json();throw cn.create("RC response not ok")})}).catch(function(){ho.info(cte)})}function i2(e){if(!e)return e;var t=Dt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=ote.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=o2(t.tracesSamplingRate),t.logNetworkAfterSampling=o2(t.networkRequestsSamplingRate),e}function hte(e){return Number(e)>Date.now()}function o2(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dS=1,M_;function RU(){return dS=2,M_=M_||pte(),M_}function dte(){return dS===3}function pte(){return vte().then(function(){return Gee()}).then(function(e){return ate(e)}).then(function(){return s2()},function(){return s2()})}function vte(){var e=mn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function s2(){dS=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pS=10*1e3,mte=5.5*1e3,xU=3,gte=1e3,Pm=xU,cs=[],a2=!1;function yte(){a2||(Xg(mte),a2=!0)}function Xg(e){setTimeout(function(){if(Pm!==0){if(!cs.length)return Xg(pS);wte()}},e)}function wte(){var e=cs.splice(0,gte),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Dt.getInstance().logSource,log_event:t};_te(n,e).catch(function(){cs=Ee(Ee([],e),cs),Pm--,ho.info("Tries left: "+Pm+"."),Xg(pS)})}function _te(e,t){return bte(e).then(function(n){return n.ok||ho.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=pS;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(cs=Ee(Ee([],t),cs),ho.info("Retry transport request later.")),Pm=xU,Xg(i)})}function bte(e){var t=Dt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function Ete(e){if(!e.eventTime||!e.message)throw cn.create("invalid cc log");cs=Ee(Ee([],cs),[e])}function Tte(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);Ete({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F_;function PU(e,t){F_||(F_=Tte(Ste)),F_(e,t)}function Kp(e){var t=Dt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||mn.getInstance().requiredApisAvailable()&&(e.isAuto&&AU()!==sl.VISIBLE||(dte()?U_(e):RU().then(function(){return U_(e)},function(){return U_(e)})))}function U_(e){if(hS()){var t=Dt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return PU(e,1)},0)}}function Ite(e){var t=Dt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return PU(e,0)},0)}}function Ste(e,t){return t===0?kte(e):Cte(e)}function kte(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:OU(),network_request_metric:t};return JSON.stringify(n)}function Cte(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:OU(),trace_metric:t};return JSON.stringify(r)}function OU(){return{google_app_id:Dt.getInstance().getAppId(),app_instance_id:hS(),web_app_info:{sdk_version:wU,page_url:mn.getInstance().getUrl(),service_worker_status:ete(),visibility_state:AU(),effective_connection_type:tte()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nte=100,Ate="_",Rte=[bU,EU,TU];function xte(e,t){return e.length===0||e.length>Nte?!1:t&&t.startsWith(_U)&&Rte.indexOf(e)>-1||!e.startsWith(Ate)}function Pte(e){var t=Math.floor(e);return t<e&&ho.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ff=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=mn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=qee+"-"+this.randomId+"-"+this.name,this.traceStopMark=zee+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||z1+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw cn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw cn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Kp(this)},e.prototype.record=function(t,n,r){if(t<=0)throw cn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw cn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=He({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Kp(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(xte(t,this.name))this.counters[t]=Pte(n);else throw cn.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=nte(t),i=rte(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw cn.create("invalid attribute name",{attributeName:t});if(!i)throw cn.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return He({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=mn.getInstance().getUrl();if(i){var s=new e(_U+i,!0),a=Math.floor(mn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(bU,Math.floor(h.startTime*1e3));var p=n.find(function(v){return v.name===c});p&&p.startTime&&s.putMetric(EU,Math.floor(p.startTime*1e3)),r&&s.putMetric(TU,Math.floor(r*1e3))}Kp(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Kp(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=mn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};Ite(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ote=5e3;function l2(){hS()&&(setTimeout(function(){return Lte()},0),setTimeout(function(){return Dte()},0),setTimeout(function(){return Mte()},0))}function Dte(){for(var e=mn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];u2(i)}e.setupObserver("resource",u2)}function Lte(){var e=mn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Ff.createOobTrace(t,n),r=void 0},Ote);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Ff.createOobTrace(t,n,i))})}else Ff.createOobTrace(t,n)}function Mte(){for(var e=mn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];c2(i)}e.setupObserver("measure",c2)}function c2(e){var t=e.name;t.substring(0,z1.length)!==z1&&Ff.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fte=function(){function e(t){this.app=t,mn.getInstance().requiredApisAvailable()&&KE().then(function(n){n&&(yte(),RU().then(l2,l2))}).catch(function(n){ho.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Ff(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Dt.getInstance().instrumentationEnabled},set:function(t){Dt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Dt.getInstance().dataCollectionEnabled},set:function(t){Dt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ute="[DEFAULT]";function jte(e){var t=function(n,r){if(n.name!==Ute)throw cn.create("FB not default");if(typeof window>"u")throw cn.create("no window");return Kee(window),Dt.getInstance().firebaseAppInstance=n,Dt.getInstance().installationsService=r,new Fte(n)};e.INTERNAL.registerComponent(new er("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion($ee,yU)}jte(se);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vte="firebase_id",Bte="origin",$te=60*1e3,qte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",DU="https://www.googletagmanager.com/gtag/js",gn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(gn||(gn={}));var W1;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(W1||(W1={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zte(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return i&&i.global?(e(gn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=He(He({},r),{send_to:s}),e(gn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function Wte(e,t,n,r){return R(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(gn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(gn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function Hte(e,t,n,r){return R(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(gn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(gn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function Kte(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(gn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(gn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function Gte(e,t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt=new Hl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qte(e,t){var n=document.createElement("script");n.src=DU+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Yte(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function Xte(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h;return A(this,function(p){switch(p.label){case 0:a=r[i],p.label=1;case 1:return p.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return p.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=p.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:p.sent(),p.label=6;case 6:return[3,8];case 7:return h=p.sent(),Jt.error(h),[3,8];case 8:return e(gn.CONFIG,i,s),[2]}})})}function Jte(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a,l,c,h,p,v,g,y;return A(this,function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=_.sent(),c=function(T){var S=l.find(function(I){return I.measurementId===T}),E=S&&t[S.appId];if(E)s.push(E);else return s=[],"break"},h=0,p=a;h<p.length&&(v=p[h],g=c(v),g!=="break");h++);_.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return _.sent(),e(gn.EVENT,r,i||{}),[3,5];case 4:return y=_.sent(),Jt.error(y),[3,5];case 5:return[2]}})})}function Zte(e,t,n,r){function i(s,a,l){return R(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==gn.EVENT?[3,2]:[4,Jte(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==gn.CONFIG?[3,4]:[4,Xte(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(gn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),Jt.error(c),[3,7];case 7:return[2]}})})}return i}function ene(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Zte(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function tne(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(DU))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr,nne=(Xr={},Xr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Xr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Xr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Xr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Xr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Xr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Xr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Xr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Xr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Xr),Lr=new Is("analytics","Analytics",nne);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rne=30,ine=1e3,one=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=ine),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),LU=new one;function sne(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function ane(e){var t;return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:sne(r)},s=qte.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Lr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function une(e,t,n){return t===void 0&&(t=LU),R(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return A(this,function(p){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Lr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Lr.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new fne,setTimeout(function(){return R(h,void 0,void 0,function(){return A(this,function(v){return c.abort(),[2]})})},n!==void 0?n:$te),[2,MU({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function MU(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=LU),R(this,void 0,void 0,function(){var a,l,c,h,p,v,g;return A(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,lne(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return Jt.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,ane(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(p=y.sent(),!cne(p)){if(r.deleteThrottleMetadata(a),l)return Jt.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+p.message+"]")),[2,{appId:a,measurementId:l}];throw p}return v=Number(p.customData.httpStatus)===503?Wb(s,r.intervalMillis,rne):Wb(s,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,g),Jt.debug("Calling attemptFetch again in "+v+" millis"),[2,MU(e,g,n,r)];case 7:return[2]}})})}function lne(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Lr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function cne(e){if(!(e instanceof Wl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var fne=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hne(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:return HE()?[3,1]:(Jt.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,KE()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Jt.warn(Lr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function dne(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,l,c,h,p,v,g;return A(this,function(y){switch(y.label){case 0:return a=une(e),a.then(function(_){n[_.measurementId]=_.appId,e.options.measurementId&&_.measurementId!==e.options.measurementId&&Jt.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+_.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(_){return Jt.error(_)}),t.push(a),l=hne().then(function(_){if(_)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],p=c[1],tne()||Qte(s,h.measurementId),i("js",new Date),v=(g={},g[Bte]="firebase",g.update=!0,g),p!=null&&(v[Vte]=p),i(gn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi={},f2=[],h2={},dv="dataLayer",FU="gtag",d2,cf,H1=!1;function pne(e){if(H1)throw Lr.create("already-initialized");e.dataLayerName&&(dv=e.dataLayerName),e.gtagName&&(FU=e.gtagName)}function vne(){var e=[];if(WE()&&e.push("This is a browser extension environment."),tL()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Lr.create("invalid-analytics-context",{errorInfo:t});Jt.warn(n.message)}}function mne(e,t){vne();var n=e.options.appId;if(!n)throw Lr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Jt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Lr.create("no-api-key");if(Wi[n]!=null)throw Lr.create("already-exists",{id:n});if(!H1){Yte(dv);var r=ene(Wi,f2,h2,dv,FU),i=r.wrappedGtag,s=r.gtagCore;cf=i,d2=s,H1=!0}Wi[n]=dne(e,f2,h2,t,d2,dv);var a={app:e,logEvent:function(l,c,h){zte(cf,Wi[n],l,c,h).catch(function(p){return Jt.error(p)})},setCurrentScreen:function(l,c){Wte(cf,Wi[n],l,c).catch(function(h){return Jt.error(h)})},setUserId:function(l,c){Hte(cf,Wi[n],l,c).catch(function(h){return Jt.error(h)})},setUserProperties:function(l,c){Kte(cf,Wi[n],l,c).catch(function(h){return Jt.error(h)})},setAnalyticsCollectionEnabled:function(l){Gte(Wi[n],l).catch(function(c){return Jt.error(c)})},INTERNAL:{delete:function(){return delete Wi[n],Promise.resolve()}}};return a}var gne="@firebase/analytics",yne="0.6.10",p2="analytics";function wne(e){e.INTERNAL.registerComponent(new er(p2,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return mne(r,i)},"PUBLIC").setServiceProps({settings:pne,EventName:W1,isSupported:_ne})),e.INTERNAL.registerComponent(new er("analytics-internal",t,"PRIVATE")),e.registerVersion(gne,yne);function t(n){try{var r=n.getProvider(p2).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Lr.create("interop-component-reg-failed",{reason:i})}}}wne(se);function _ne(){return R(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:if(WE())return[2,!1];if(!tL())return[2,!1];if(!HE())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,KE()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bne=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,Ene=(In={},In["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",In["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",In["registration-api-key"]="Undefined API key. Check Firebase app initialization.",In["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",In["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",In["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",In["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",In["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",In["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",In["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',In["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',In["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",In["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",In),Pr=new Is("remoteconfig","Remote Config",Ene);function Tne(e,t){return e instanceof Wl&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ine(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sne=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,p,v,g,y,_,T,S,E,I,k,P;return A(this,function(D){switch(D.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=D.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:Ine()},h={method:"POST",headers:l,body:JSON.stringify(c)},p=fetch(a,h),v=new Promise(function(x,V){t.signal.addEventListener(function(){var F=new Error("The operation was aborted.");F.name="AbortError",V(F)})}),D.label=2;case 2:return D.trys.push([2,5,,6]),[4,Promise.race([p,v])];case 3:return D.sent(),[4,p];case 4:return g=D.sent(),[3,6];case 5:throw y=D.sent(),_="fetch-client-network",y.name==="AbortError"&&(_="fetch-timeout"),Pr.create(_,{originalErrorMessage:y.message});case 6:if(T=g.status,S=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];k=void 0,D.label=7;case 7:return D.trys.push([7,9,,10]),[4,g.json()];case 8:return k=D.sent(),[3,10];case 9:throw P=D.sent(),Pr.create("fetch-client-parse",{originalErrorMessage:P.message});case 10:E=k.entries,I=k.state,D.label=11;case 11:if(I==="INSTANCE_STATE_UNSPECIFIED"?T=500:I==="NO_CHANGE"?T=304:(I==="NO_TEMPLATE"||I==="EMPTY_CONFIG")&&(E={}),T!==304&&T!==200)throw Pr.create("fetch-status",{httpStatus:T});return[2,{status:T,eTag:S,config:E}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kne=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cne=!1,Nne="",v2=0,Ane=["1","true","t","yes","y","on"],j_=function(){function e(t,n){n===void 0&&(n=Nne),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?Cne:Ane.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return v2;var t=Number(this._value);return isNaN(t)&&(t=v2),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rne=60*1e3,xne=12*60*60*1e3,Pne=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Rne,minimumFetchIntervalMillis:xne},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=be.DEBUG;break;case"silent":this._logger.logLevel=be.SILENT;break;default:this._logger.logLevel=be.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return R(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return R(this,void 0,void 0,function(){var t,n,r,i=this;return A(this,function(s){switch(s.label){case 0:t=new kne,setTimeout(function(){return R(i,void 0,void 0,function(){return A(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=Tne(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return One(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new j_("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new j_("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new j_("static"))},e}();function One(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(He(He({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(e,t){var n=e.target.error||void 0;return Pr.create(t,{originalErrorMessage:n&&n.message})}var ta="app_namespace_store",Dne="firebase_remote_config",Lne=1;function Mne(){return new Promise(function(e,t){var n=indexedDB.open(Dne,Lne);n.onerror=function(r){t(pv(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ta,{keyPath:"compositeKey"})}}})}var Fne=function(){function e(t,n,r,i){i===void 0&&(i=Mne()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([ta],"readonly"),c=l.objectStore(ta),h=r.createCompositeKey(t);try{var p=c.get(h);p.onerror=function(v){a(pv(v,"storage-get"))},p.onsuccess=function(v){var g=v.target.result;s(g?g.value:void 0)}}catch(v){a(Pr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return R(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([ta],"readwrite"),h=c.objectStore(ta),p=i.createCompositeKey(t);try{var v=h.put({compositeKey:p,value:n});v.onerror=function(g){l(pv(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){l(Pr.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},e.prototype.delete=function(t){return R(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([ta],"readwrite"),c=l.objectStore(ta),h=r.createCompositeKey(t);try{var p=c.delete(h);p.onerror=function(v){a(pv(v,"storage-delete"))},p.onsuccess=function(){s()}}catch(v){a(Pr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Une=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jne(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Pr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Vne(e){if(!(e instanceof Wl)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Bne=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,jne(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!Vne(a))throw a;return l={throttleEndTimeMillis:Date.now()+Wb(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),m2="@firebase/remote-config",$ne="0.1.37";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qne(e){e.INTERNAL.registerComponent(new er("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(m2,$ne);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Pr.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,p=l.appId;if(!c)throw Pr.create("registration-project-id");if(!h)throw Pr.create("registration-api-key");if(!p)throw Pr.create("registration-app-id");i=i||"firebase";var v=new Fne(p,s.name,i),g=new Une(v),y=new Hl(m2);y.logLevel=be.ERROR;var _=new Sne(a,e.SDK_VERSION,i,c,h,p),T=new Bne(_,v),S=new bne(T,v,g,y),E=new Pne(s,S,g,v,y);return E.ensureInitialized(),E}}qne(se);var zne="firebase",Wne="8.5.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */se.registerVersion(zne,Wne,"app");var Hne="firebase",Kne="8.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);se.registerVersion(Hne,Kne);const Gne={apiKey:meta.env.VITE_API_KEY,authDomain:meta.env.VITE_AUTH_DOMAIN,projectId:meta.env.VITE_PROJECT_ID,storageBucket:meta.env.VITE_STORAGE_BUCKET,messagingSenderId:meta.env.VITE_MESSAGING_SENDER_ID,appId:meta.env.VITE_APP_ID},Qne=se.initializeApp(Gne),Yne=Qne.firestore();var dd={};(function e(t,n,r,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL);function a(){}function l(j){var L=n.exports.Promise,ge=L!==void 0?L:t.Promise;return typeof ge=="function"?new ge(j):(j(a,a),null)}var c=function(){var j=Math.floor(16.666666666666668),L,ge,Te={},$=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(L=function(X){var Q=Math.random();return Te[Q]=requestAnimationFrame(function ie(he){$===he||$+j-1<he?($=he,delete Te[Q],X()):Te[Q]=requestAnimationFrame(ie)}),Q},ge=function(X){Te[X]&&cancelAnimationFrame(Te[X])}):(L=function(X){return setTimeout(X,j)},ge=function(X){return clearTimeout(X)}),{frame:L,cancel:ge}}(),h=function(){var j,L,ge={};function Te($){function X(Q,ie){$.postMessage({options:Q||{},callback:ie})}$.init=function(ie){var he=ie.transferControlToOffscreen();$.postMessage({canvas:he},[he])},$.fire=function(ie,he,Kt){if(L)return X(ie,null),L;var Re=Math.random().toString(36).slice(2);return L=l(function(Gt){function Ze(Oe){Oe.data.callback===Re&&(delete ge[Re],$.removeEventListener("message",Ze),L=null,Kt(),Gt())}$.addEventListener("message",Ze),X(ie,Re),ge[Re]=Ze.bind(null,{data:{callback:Re}})}),L},$.reset=function(){$.postMessage({reset:!0});for(var ie in ge)ge[ie](),delete ge[ie]}}return function(){if(j)return j;if(!r&&s){var $=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{j=new Worker(URL.createObjectURL(new Blob([$])))}catch(X){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",X),null}Te(j)}return j}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(j,L){return L?L(j):j}function g(j){return j!=null}function y(j,L,ge){return v(j&&g(j[L])?j[L]:p[L],ge)}function _(j){return j<0?0:Math.floor(j)}function T(j,L){return Math.floor(Math.random()*(L-j))+j}function S(j){return parseInt(j,16)}function E(j){return j.map(I)}function I(j){var L=String(j).replace(/[^0-9a-f]/gi,"");return L.length<6&&(L=L[0]+L[0]+L[1]+L[1]+L[2]+L[2]),{r:S(L.substring(0,2)),g:S(L.substring(2,4)),b:S(L.substring(4,6))}}function k(j){var L=y(j,"origin",Object);return L.x=y(L,"x",Number),L.y=y(L,"y",Number),L}function P(j){j.width=document.documentElement.clientWidth,j.height=document.documentElement.clientHeight}function D(j){var L=j.getBoundingClientRect();j.width=L.width,j.height=L.height}function x(j){var L=document.createElement("canvas");return L.style.position="fixed",L.style.top="0px",L.style.left="0px",L.style.pointerEvents="none",L.style.zIndex=j,L}function V(j,L,ge,Te,$,X,Q,ie,he){j.save(),j.translate(L,ge),j.rotate(X),j.scale(Te,$),j.arc(0,0,1,Q,ie,he),j.restore()}function F(j){var L=j.angle*(Math.PI/180),ge=j.spread*(Math.PI/180);return{x:j.x,y:j.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:j.startVelocity*.5+Math.random()*j.startVelocity,angle2D:-L+(.5*ge-Math.random()*ge),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:j.color,shape:j.shape,tick:0,totalTicks:j.ticks,decay:j.decay,drift:j.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:j.gravity*3,ovalScalar:.6,scalar:j.scalar}}function ue(j,L){L.x+=Math.cos(L.angle2D)*L.velocity+L.drift,L.y+=Math.sin(L.angle2D)*L.velocity+L.gravity,L.wobble+=L.wobbleSpeed,L.velocity*=L.decay,L.tiltAngle+=.1,L.tiltSin=Math.sin(L.tiltAngle),L.tiltCos=Math.cos(L.tiltAngle),L.random=Math.random()+2,L.wobbleX=L.x+10*L.scalar*Math.cos(L.wobble),L.wobbleY=L.y+10*L.scalar*Math.sin(L.wobble);var ge=L.tick++/L.totalTicks,Te=L.x+L.random*L.tiltCos,$=L.y+L.random*L.tiltSin,X=L.wobbleX+L.random*L.tiltCos,Q=L.wobbleY+L.random*L.tiltSin;if(j.fillStyle="rgba("+L.color.r+", "+L.color.g+", "+L.color.b+", "+(1-ge)+")",j.beginPath(),L.shape==="circle")j.ellipse?j.ellipse(L.x,L.y,Math.abs(X-Te)*L.ovalScalar,Math.abs(Q-$)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI):V(j,L.x,L.y,Math.abs(X-Te)*L.ovalScalar,Math.abs(Q-$)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI);else if(L.shape==="star")for(var ie=Math.PI/2*3,he=4*L.scalar,Kt=8*L.scalar,Re=L.x,Gt=L.y,Ze=5,Oe=Math.PI/Ze;Ze--;)Re=L.x+Math.cos(ie)*Kt,Gt=L.y+Math.sin(ie)*Kt,j.lineTo(Re,Gt),ie+=Oe,Re=L.x+Math.cos(ie)*he,Gt=L.y+Math.sin(ie)*he,j.lineTo(Re,Gt),ie+=Oe;else j.moveTo(Math.floor(L.x),Math.floor(L.y)),j.lineTo(Math.floor(L.wobbleX),Math.floor($)),j.lineTo(Math.floor(X),Math.floor(Q)),j.lineTo(Math.floor(Te),Math.floor(L.wobbleY));return j.closePath(),j.fill(),L.tick<L.totalTicks}function N(j,L,ge,Te,$){var X=L.slice(),Q=j.getContext("2d"),ie,he,Kt=l(function(Re){function Gt(){ie=he=null,Q.clearRect(0,0,Te.width,Te.height),$(),Re()}function Ze(){r&&!(Te.width===i.width&&Te.height===i.height)&&(Te.width=j.width=i.width,Te.height=j.height=i.height),!Te.width&&!Te.height&&(ge(j),Te.width=j.width,Te.height=j.height),Q.clearRect(0,0,Te.width,Te.height),X=X.filter(function(Oe){return ue(Q,Oe)}),X.length?ie=c.frame(Ze):Gt()}ie=c.frame(Ze),he=Gt});return{addFettis:function(Re){return X=X.concat(Re),Kt},canvas:j,promise:Kt,reset:function(){ie&&c.cancel(ie),he&&he()}}}function _t(j,L){var ge=!j,Te=!!y(L||{},"resize"),$=y(L,"disableForReducedMotion",Boolean),X=s&&!!y(L||{},"useWorker"),Q=X?h():null,ie=ge?P:D,he=j&&Q?!!j.__confetti_initialized:!1,Kt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Re;function Gt(Oe,ze,lc){for(var yo=y(Oe,"particleCount",_),Fi=y(Oe,"angle",Number),Za=y(Oe,"spread",Number),Ui=y(Oe,"startVelocity",Number),$r=y(Oe,"decay",Number),eu=y(Oe,"gravity",Number),nr=y(Oe,"drift",Number),tu=y(Oe,"colors",E),ji=y(Oe,"ticks",Number),cc=y(Oe,"shapes"),Jg=y(Oe,"scalar"),pd=k(Oe),vd=yo,fc=[],Zg=j.width*pd.x,ey=j.height*pd.y;vd--;)fc.push(F({x:Zg,y:ey,angle:Fi,spread:Za,startVelocity:Ui,color:tu[vd%tu.length],shape:cc[T(0,cc.length)],ticks:ji,decay:$r,gravity:eu,drift:nr,scalar:Jg}));return Re?Re.addFettis(fc):(Re=N(j,fc,ie,ze,lc),Re.promise)}function Ze(Oe){var ze=$||y(Oe,"disableForReducedMotion",Boolean),lc=y(Oe,"zIndex",Number);if(ze&&Kt)return l(function(Ui){Ui()});ge&&Re?j=Re.canvas:ge&&!j&&(j=x(lc),document.body.appendChild(j)),Te&&!he&&ie(j);var yo={width:j.width,height:j.height};Q&&!he&&Q.init(j),he=!0,Q&&(j.__confetti_initialized=!0);function Fi(){if(Q){var Ui={getBoundingClientRect:function(){if(!ge)return j.getBoundingClientRect()}};ie(Ui),Q.postMessage({resize:{width:Ui.width,height:Ui.height}});return}yo.width=yo.height=null}function Za(){Re=null,Te&&t.removeEventListener("resize",Fi),ge&&j&&(document.body.removeChild(j),j=null,he=!1)}return Te&&t.addEventListener("resize",Fi,!1),Q?Q.fire(Oe,yo,Za):Gt(Oe,yo,Za)}return Ze.reset=function(){Q&&Q.reset(),Re&&Re.reset()},Ze}var _n;function ci(){return _n||(_n=_t(null,{useWorker:!0,resize:!0})),_n}n.exports=function(){return ci().apply(this,arguments)},n.exports.reset=function(){ci().reset()},n.exports.create=_t})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),dd,!1);const Xne=dd.exports;dd.exports.create;function Jne(){const[e,t]=J.useState(""),[n,r]=J.useState(""),[i,s]=J.useState("");return U(k2,{children:U("div",{className:"flex justify-center items-center w-screen h-screen bg-gray-900",id:"background_colored",children:Se("form",{onSubmit:l=>{l.preventDefault(),Yne.collection("contact").add({name:e,email:n,message:i}).then(()=>{Xne()}).catch(c=>{alert(c.message)}),t(""),r(""),s("")},method:"POST",className:"w-full md:w-1/2 max-sm:w-1/2 border border-amber-500 p-6 bg-gray-900 rounded",children:[U("h2",{className:"text-2xl pb-3 font-semibold",children:"Send me a message:"}),Se("div",{children:[Se("div",{className:"flex flex-col mb-3",children:[U("label",{htmlFor:"name",children:"Name"}),U("input",{type:"text",id:"name",required:!0,onChange:l=>t(l.target.value),value:e,className:"px-3 py-2 bg-gray-800 border border-gray-900 focus:border-amber-500 focus:outline-none focus:bg-gray-800 focus:text-amber-500",autoComplete:"off"})]}),Se("div",{className:"flex flex-col mb-3",children:[U("label",{htmlFor:"email",children:"Email"}),U("input",{type:"email",id:"email",required:!0,onChange:l=>r(l.target.value),value:n,className:"px-3 py-2 bg-gray-800 border border-gray-900 focus:border-amber-500 focus:outline-none focus:bg-gray-800 focus:text-amber-500",autoComplete:"off"})]}),Se("div",{className:"flex flex-col mb-3",children:[U("label",{htmlFor:"message",children:"Message"}),U("textarea",{rows:"4",id:"message",required:!0,onChange:l=>s(l.target.value),value:i,className:"resize-none px-3 py-2 bg-gray-800 border border-gray-900 focus:border-amber-500 focus:outline-none focus:bg-gray-800 focus:text-amber-500"})]})]}),U("div",{className:"w-full pt-3",children:U("button",{type:"submit",className:"w-full bg-gray-900 border border-amber-500 px-4 py-2 transition duration-50 focus:outline-none font-semibold hover:bg-amber-500 hover:text-white text-xl cursor-pointer",children:"Send"})})]})})})}function Zne(e){return Fh({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]})(e)}function ere(e){return Fh({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"}}]})(e)}function g2(e){return Fh({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}}]})(e)}function tre(){const[e,t]=J.useState(!1);return U("div",{className:"relative",children:U("header",{className:"relative w-full py-4  border-b  border-gray-800/60 bg-gray-900 ",children:Se("div",{className:"flex items-center justify-between fluid-container",children:[Se(nf,{to:"/",className:"text-2xl ml-16 p-2 hover:scale-125 hover:rotate-2 motion-safe:transition-transform focus:outline-none focus-visible:ring-2 ring-primary",children:["Ayachi",U("strong",{children:".dev"})]}),Se("nav",{className:"mr-16",children:[Se("ul",{className:"md:flex hidden items-center space-x-8",children:[U("li",{className:"relative leading-none",children:U(nf,{to:"/about",className:`p-1 group -m-1 flex items-center text-sm focus:outline-none focus-visible:ring-2 ring-primary
                         text-gray-300 hover:text-amber-500`,children:"ABOUT"})}),U("li",{className:"relative leading-none",children:U(nf,{to:"/contact",className:`p-1 group -m-1 flex items-center text-sm focus:outline-none focus-visible:ring-2 ring-primary
                         text-gray-300 hover:text-amber-500`,children:"CONTACT"})}),Se("div",{className:"flex space-x-2",children:[U("a",{href:"https://de.linkedin.com/in/youssef-ayachi-0a097b229",target:"_blank",className:"p-1 -m-1 text-gray-400 hover:text-amber-500 focus:outline-none focus-visible:ring-2 ring-primary",children:U($b,{})}),U("a",{href:"https://github.com/YoussefAyachi95",target:"_blank",className:"p-1 -m-1 text-gray-400 hover:text-amber-500 focus:outline-none focus-visible:ring-2 ring-primary",children:U(Bb,{})})]}),U("li",{className:"relative",children:U("button",{className:"flex items-center p-1 -m-1  text-gray-200 hover:text-amber-500 focus:outline-none focus-visible:ring-2 ring-primary motion-safe:transition-colors",children:U("a",{href:"mailto:youssef.ayachi@web.de",children:U(g2,{})})})})]}),Se("div",{className:"text-2xl",onClick:()=>t(!e),children:[e?U(Zne,{className:"text-gray-300 md:hidden absolute z-20"}):U(ere,{className:"text-gray-300 md:hidden absolute z-20"}),Se("ul",{id:"background_colored",className:`md:hidden absolute flex flex-col items-center text-center bg-gray-900 mt-[-4rem] z-10 w-full h-screen py-24 pl-4 duration-500 ${e?"left-0":"left-[-100%]"}`,children:[U("li",{className:"text-amber-500 pt-5 ",children:U(nf,{to:"/about",children:"ABOUT"})}),U("li",{className:"text-amber-500 pt-5",children:U(nf,{to:"/contact",children:"CONTACT"})}),U("li",{className:"relative",children:U("button",{className:"text-amber-500 m-3",children:U("a",{href:"mailto:youssef.ayachi@web.de",children:U(g2,{})})})}),U("a",{className:"text-amber-500 m-3",href:"https://de.linkedin.com/in/youssef-ayachi-0a097b229",target:"_blank",children:U($b,{})}),U("a",{className:"text-amber-500 m-3 pt-5",href:"https://github.com/YoussefAyachi95",target:"_blank",children:U(Bb,{})})]})]})]})]})})})}const nre="/assets/Resume-4d8dc419.pdf";function rre(){return U("object",{data:nre,type:"application/pdf",className:"h-screen w-screen overflow-hidden"})}function ire(){return U(sz,{children:Se("div",{className:"App flex flex-col min-h-screen overflow-x-hidden bg-gray-900 text-gray-100 scroll-smooth overflow-hidden",children:[U(tre,{}),Se(tz,{children:[U(Pu,{path:"/",element:U(v8,{})}),U(Pu,{path:"about/",element:U(m8,{})}),U(Pu,{path:"contact/",element:U(Jne,{})}),U(Pu,{path:"resume/",element:U(rre,{})}),U(Pu,{path:"/*",element:U(Zq,{to:"/"})})]})]})})}B_.createRoot(document.getElementById("root")).render(U(eo.StrictMode,{children:U(ire,{})}))});export default ore();
